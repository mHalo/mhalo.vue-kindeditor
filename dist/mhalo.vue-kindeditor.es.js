(function(){ try {var elementStyle = document.createElement('style'); elementStyle.appendChild(document.createTextNode("@import\"//at.alicdn.com/t/c/font_1491367_8kig7bk8pn.css\";.ke-container *{box-sizing:border-box}.ke-inline-block{display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1}.ke-clearfix{zoom:1}.ke-clearfix:after{content:\".\";display:block;clear:both;font-size:0;height:0;line-height:0;visibility:hidden}.ke-shadow{box-shadow:0 0 30px -6px #999;-moz-box-shadow:0px 0px 30px -6px #999;-webkit-box-shadow:0px 0px 30px -6px #999;filter:progid:DXImageTransform.Microsoft.Shadow(color=\"#A0A0A0\",Direction=135,Strength=3);background-color:#f0f0ee}.ke-menu a,.ke-menu a:hover,.ke-dialog a,.ke-dialog a:hover{color:#337fe5;text-decoration:none}.ke-icon-source{background-position:0px 0px;width:16px;height:16px}.ke-icon-preview{background-position:0px -16px;width:16px;height:16px}.ke-icon-print{background-position:0px -32px;width:16px;height:16px}.ke-icon-undo{background-position:0px -48px;width:16px;height:16px}.ke-icon-redo{background-position:0px -64px;width:16px;height:16px}.ke-icon-cut{background-position:0px -80px;width:16px;height:16px}.ke-icon-copy{background-position:0px -96px;width:16px;height:16px}.ke-icon-paste{background-position:0px -112px;width:16px;height:16px}.ke-icon-selectall{background-position:0px -128px;width:16px;height:16px}.ke-icon-justifyleft{background-position:0px -144px;width:16px;height:16px}.ke-icon-justifycenter{background-position:0px -160px;width:16px;height:16px}.ke-icon-justifyright{background-position:0px -176px;width:16px;height:16px}.ke-icon-justifyfull{background-position:0px -192px;width:16px;height:16px}.ke-icon-insertorderedlist{background-position:0px -208px;width:16px;height:16px}.ke-icon-insertunorderedlist{background-position:0px -224px;width:16px;height:16px}.ke-icon-indent{background-position:0px -240px;width:16px;height:16px}.ke-icon-outdent{background-position:0px -256px;width:16px;height:16px}.ke-icon-subscript{background-position:0px -272px;width:16px;height:16px}.ke-icon-superscript{background-position:0px -288px;width:16px;height:16px}.ke-icon-date{background-position:0px -304px;width:25px;height:16px}.ke-icon-time{background-position:0px -320px;width:25px;height:16px}.ke-icon-formatblock{background-position:0px -336px;width:25px;height:16px}.ke-icon-fontname{background-position:0px -352px;width:21px;height:16px}.ke-icon-fontsize{background-position:0px -368px;width:23px;height:16px}.ke-icon-forecolor{background-position:0px -384px;width:20px;height:16px}.ke-icon-hilitecolor{background-position:0px -400px;width:23px;height:16px}.ke-icon-bold{background-position:0px -416px;width:16px;height:16px}.ke-icon-italic{background-position:0px -432px;width:16px;height:16px}.ke-icon-underline{background-position:0px -448px;width:16px;height:16px}.ke-icon-strikethrough{background-position:0px -464px;width:16px;height:16px}.ke-icon-removeformat{background-position:0px -480px;width:16px;height:16px}.ke-icon-image{background-position:0px -496px;width:16px;height:16px}.ke-icon-flash{background-position:0px -512px;width:16px;height:16px}.ke-icon-media{background-position:0px -528px;width:16px;height:16px}.ke-icon-div{background-position:0px -544px;width:16px;height:16px}.ke-icon-formula{background-position:0px -576px;width:16px;height:16px}.ke-icon-hr{background-position:0px -592px;width:16px;height:16px}.ke-icon-link{background-position:0px -624px;width:16px;height:16px}.ke-icon-unlink{background-position:0px -640px;width:16px;height:16px}.ke-icon-fullscreen{background-position:0px -656px;width:16px;height:16px}.ke-icon-about{background-position:0px -672px;width:16px;height:16px}.ke-icon-plainpaste{background-position:0px -704px;width:16px;height:16px}.ke-icon-wordpaste{background-position:0px -720px;width:16px;height:16px}.ke-icon-table{background-position:0px -784px;width:16px;height:16px}.ke-icon-tablemenu{background-position:0px -768px;width:16px;height:16px}.ke-icon-tableinsert{background-position:0px -784px;width:16px;height:16px}.ke-icon-tabledelete{background-position:0px -800px;width:16px;height:16px}.ke-icon-tablecolinsertleft{background-position:0px -816px;width:16px;height:16px}.ke-icon-tablecolinsertright{background-position:0px -832px;width:16px;height:16px}.ke-icon-tablerowinsertabove{background-position:0px -848px;width:16px;height:16px}.ke-icon-tablerowinsertbelow{background-position:0px -864px;width:16px;height:16px}.ke-icon-tablecoldelete{background-position:0px -880px;width:16px;height:16px}.ke-icon-tablerowdelete{background-position:0px -896px;width:16px;height:16px}.ke-icon-tablecellprop{background-position:0px -912px;width:16px;height:16px}.ke-icon-tableprop{background-position:0px -928px;width:16px;height:16px}.ke-icon-checked{background-position:0px -944px;width:16px;height:16px}.ke-icon-code{background-position:0px -960px;width:16px;height:16px}.ke-icon-map,.ke-icon-baidumap{background-position:0px -976px;width:16px;height:16px}.ke-icon-lineheight{background-position:0px -992px;width:16px;height:16px}.ke-icon-clearhtml{background-position:0px -1008px;width:16px;height:16px}.ke-icon-pagebreak{background-position:0px -1024px;width:16px;height:16px}.ke-icon-insertfile{background-position:0px -1040px;width:16px;height:16px}.ke-icon-quickformat{background-position:0px -1056px;width:16px;height:16px}.ke-icon-template{background-position:0px -1072px;width:16px;height:16px}.ke-icon-tablecellsplit{background-position:0px -1088px;width:16px;height:16px}.ke-icon-tablerowmerge{background-position:0px -1104px;width:16px;height:16px}.ke-icon-tablerowsplit{background-position:0px -1120px;width:16px;height:16px}.ke-icon-tablecolmerge{background-position:0px -1136px;width:16px;height:16px}.ke-icon-tablecolsplit{background-position:0px -1152px;width:16px;height:16px}.ke-icon-anchor{background-position:0px -1168px;width:16px;height:16px}.ke-icon-search{background-position:0px -1184px;width:16px;height:16px}.ke-icon-new{background-position:0px -1200px;width:16px;height:16px}.ke-icon-specialchar{background-position:0px -1216px;width:16px;height:16px}.ke-icon-multiimage{background-position:0px -1232px;width:16px;height:16px}.ke-container{display:block;border:1px solid #CCCCCC;background-color:#fff;overflow:hidden;margin:0;padding:0}.ke-toolbar{border-bottom:1px solid #CCC;background-color:#f0f0ee;padding:3px 5px;text-align:left;overflow:hidden;zoom:1;box-sizing:border-box}.ke-toolbar-icon{width:30px;height:30px;text-align:center;line-height:30px;font-size:18px;display:inline-block}.ke-toolbar-icon-url{background:none}.ke-toolbar .ke-outline{border:1px solid #F0F0EE;margin:1px;padding:1px 2px;font-size:0;line-height:0;overflow:hidden;cursor:pointer;display:block;float:left}.ke-toolbar .ke-on{border:1px solid #5690D2}.ke-toolbar .ke-selected{border:1px solid #5690D2;background-color:#e9eff6}.ke-toolbar .ke-disabled{cursor:default}.ke-toolbar .ke-separator{height:24px;margin:5px 3px;border-left:1px solid #b2c9cd;border-right:1px solid #FFFFFF;border-top:0;border-bottom:0;width:0;font-size:0;line-height:0;overflow:hidden;display:block;float:left}.ke-toolbar .ke-hr{overflow:hidden;height:1px;clear:both}.ke-edit{padding:0}.ke-edit-iframe,.ke-edit-textarea{border:0;margin:0;padding:0;overflow:auto}.ke-edit-textarea{font:12px/1.5 Consolas,Monaco,Bitstream Vera Sans Mono,Courier New,Courier,monospace;color:#000;overflow:auto;resize:none}.ke-edit-textarea:focus{outline:none}.ke-statusbar{position:relative;background-color:#94afb41a;border-top:1px solid #c9d8da;font-size:0;line-height:0;overflow:hidden;text-align:center;cursor:s-resize}.ke-statusbar-center-icon{width:25px;height:11px;position:relative}.ke-statusbar-center-icon i{width:100%;height:1px;background:#94afb4;display:block;transform:scaleY(.5);border:none;margin-top:2px}.ke-statusbar-right-icon{position:absolute;right:0;bottom:0;cursor:se-resize;background-position:-5px -741px;width:11px;height:11px}.ke-menu{background-color:#fff;color:#222;font-family:PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;font-size:12px;text-align:left;overflow:hidden;padding:3px 0}.ke-menu-item{border:1px solid transparent;background-color:#fff;color:#222;height:30px;overflow:hidden;cursor:pointer;font-size:13px;margin:3px 0;display:flex;flex-flow:row nowrap;align-items:center}.ke-menu-item-on{border:1px solid transparent;background-color:#e9eff6}.ke-menu-item-left{width:27px;text-align:center;overflow:hidden}.ke-menu-item-left .icon-ke-font{height:auto;line-height:1}.ke-menu-item-center{width:0;height:24px;border-left:1px solid #E3E3E3;border-right:1px solid #FFFFFF;border-top:0;border-bottom:0}.ke-menu-item-center-on{border-left:1px solid #E9EFF6;border-right:1px solid #E9EFF6}.ke-menu-item-right{border:0;padding:0 0 0 5px;line-height:24px;text-align:left;overflow:hidden}.ke-menu-separator{margin:2px 0;height:0;overflow:hidden;border-top:1px solid #CCCCCC;border-bottom:1px solid #FFFFFF;border-left:0;border-right:0}.ke-colorpicker{background-color:#fff;color:#222;padding:4px}.ke-colorpicker-table{border:0;margin:0;padding:0;border-collapse:separate}.ke-colorpicker-cell{font-size:0;line-height:0;border:1px solid transparent;cursor:pointer;margin:3px;padding:0}.ke-colorpicker-cell-top{font-family:PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;font-size:14px;line-height:30px;border:1px solid transparent;cursor:pointer;margin:0;padding:0;text-align:center}.ke-colorpicker-cell-on{border:1px solid #5690D2}.ke-colorpicker-cell-selected{border:1px solid #2446AB}.ke-colorpicker-cell-color{width:24px;height:24px;margin:4px;padding:0;border:0}.ke-dialog{position:absolute;margin:0;padding:0}.ke-dialog *{box-sizing:border-box}.ke-dialog .ke-header{width:100%;margin-bottom:10px}.ke-dialog .ke-header .ke-left{float:left}.ke-dialog .ke-header .ke-right{float:right}.ke-dialog .ke-header label{margin-right:0;cursor:pointer;font-weight:400;display:inline;vertical-align:top}.ke-dialog-content{background-color:#fff;width:100%;height:100%;color:#333;border:1px solid #c9d8da}.ke-dialog-shadow{position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;box-shadow:0 0 42px -12px #5555554d;-moz-box-shadow:0px 0px 42px -12px rgb(85,85,85,.3);-webkit-box-shadow:0px 0px 42px -12px rgb(85,85,85,.3);filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius=\"3\",MakeShadow=\"true\",ShadowOpacity=\"0.3\");background-color:#f0f0ee}.ke-dialog-header{border:0;margin:0;padding:0 10px;background:#f8f8f8;border-bottom:1px solid #c9d8da;height:48px;font:14px/48px PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;text-align:left;color:#222;cursor:move}.ke-dialog-icon-close{display:block;width:48px;height:48px;line-height:48px;position:absolute;right:0;top:0;cursor:pointer;text-align:center;font-size:22px;color:#5c6e71}.ke-dialog-icon-close:before{font-family:icon-ke-font!important;font-size:inherit;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:\"\\e69b\"}.ke-dialog-body{font:12px/30px PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;text-align:left;overflow:hidden;width:100%}.ke-dialog-body textarea{display:block;overflow:auto;padding:0;resize:none}.ke-dialog-body textarea:focus,.ke-dialog-body input:focus,.ke-dialog-body select:focus{outline:none}.ke-dialog-body label{margin-right:10px;cursor:pointer;display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1}.ke-dialog-body img{display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1}.ke-dialog-body select{display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1;width:auto;height:30px;padding:#c9d8da;border-color:#c9d8da;color:#636363}.ke-dialog-body .ke-textarea{display:block;width:408px;height:260px;font-family:PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;font-size:12px;border-color:#c9d8da;border-style:solid;border-width:1px}.ke-dialog-body .ke-form{margin:0;padding:0}.ke-dialog-body .ke-multi-image{width:106px}.ke-dialog-loading{position:absolute;top:0;left:1px;z-index:1;text-align:center}@keyframes spinner-loader{0%{-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-webkit-transform:rotate(0deg);transform:rotate(0)}to{-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ke-dialog-loading-content{color:#666;font-size:14px;font-weight:700;height:30px;line-height:31px;padding-left:36px;position:relative}.ke-dialog-loading-content:after{content:\"\";-moz-animation:spinner-loader 1.5s infinite linear;-webkit-animation:spinner-loader 1.5s infinite linear;animation:spinner-loader 1.5s infinite linear;-moz-border-radius:.5em;border-radius:20px;-moz-box-shadow:rgba(0,0,51,.3) 1.5em 0 0 0,rgba(0,0,51,.3) 1.1em 1.1em 0 0,rgba(0,0,51,.3) 0 1.5em 0 0,rgba(0,0,51,.3) -1.1em 1.1em 0 0,rgba(0,0,51,.3) -1.5em 0 0 0,rgba(0,0,51,.3) -1.1em -1.1em 0 0,rgba(0,0,51,.3) 0 -1.5em 0 0,rgba(0,0,51,.3) 1.1em -1.1em 0 0;-webkit-box-shadow:rgba(0,0,51,.3) 1.5em 0 0 0,rgba(0,0,51,.3) 1.1em 1.1em 0 0,rgba(0,0,51,.3) 0 1.5em 0 0,rgba(0,0,51,.3) -1.1em 1.1em 0 0,rgba(0,0,51,.3) -1.5em 0 0 0,rgba(0,0,51,.3) -1.1em -1.1em 0 0,rgba(0,0,51,.3) 0 -1.5em 0 0,rgba(0,0,51,.3) 1.1em -1.1em 0 0;box-shadow:#0000334d 1.5em 0,#0000334d 1.1em 1.1em,#0000334d 0 1.5em,#0000334d -1.1em 1.1em,#0000334d -1.5em 0,#0000334d -1.1em -1.1em,#0000334d 0 -1.5em,#0000334d 1.1em -1.1em;display:inline-block;width:6px;height:6px;overflow:hidden;position:absolute;left:12px;top:12px;font-size:6px}.ke-dialog-row{margin-bottom:10px}.ke-dialog-footer{font:12px/30px PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;text-align:right;padding:10px 20px;background-color:#fff;width:100%}.ke-dialog-footer .ke-button-common.ke-dialog-no:last-child{margin-right:0}.ke-dialog-preview,.ke-dialog-yes{margin:5px}.ke-dialog-no{margin:5px 10px 5px 5px}.ke-dialog-mask{background-color:#fff;filter:alpha(opacity=50);opacity:.5}.ke-button-common{height:30px;line-height:30px;overflow:visible;display:inline-block;vertical-align:top;cursor:pointer;background-color:#2196f3;border-color:#2565c4;box-shadow:0 1px 9pt 1px #0000001f}.ke-button-outer{padding:0;display:inline-block;vertical-align:middle}.ke-button{padding:0 24px 0 20px;margin:0;border:0 none;color:#fff;text-decoration:none}.ke-input-text{background-color:#fff;font-family:PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;font-size:12px;line-height:17px;height:17px;padding:2px 4px;border-color:#c9d8da;border-style:solid;border-width:1px;display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1}.ke-input-number{width:50px}.ke-input-color{border:1px solid #A0A0A0;background-color:#fff;font-size:12px;width:80px;height:30px;text-align:center;line-height:30px;overflow:hidden;cursor:pointer;display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1}.ke-upload-button{position:relative}.ke-upload-area{position:relative;overflow:hidden;margin:0;padding:0}.ke-upload-area .ke-upload-file{position:absolute;font-size:18px;top:0;left:-200px;padding:0;margin:0;z-index:811212;border:0 none;opacity:0;filter:alpha(opacity=0);cursor:pointer}.ke-tabs{font:12px/1 PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;border-bottom:1px solid #c9d8da;padding-left:5px;margin-bottom:20px}.ke-tabs-ul{list-style-image:none;list-style-position:outside;list-style-type:none;margin:0;padding:0}.ke-tabs-li{position:relative;border:1px solid #c9d8da;background-color:#f6f6f6;margin:0 6px -1px 0;padding:0 20px;float:left;line-height:32px;text-align:center;color:#555;cursor:pointer}.ke-tabs-li-selected{background-color:#fff;border-bottom:1px solid #FFF;color:#000;cursor:default}.ke-tabs-li-on{background-color:#fff;color:#000}.ke-progressbar{position:relative;margin:0;padding:0}.ke-progressbar-bar{border:1px solid #6FA5DB;width:80px;height:5px;margin:10px 10px 0;padding:0}.ke-progressbar-bar-inner{width:0;height:5px;background-color:#6fa5db;overflow:hidden;margin:0;padding:0}.ke-progressbar-percent{position:absolute;top:0;left:40%;display:none}.ke-swfupload-top{position:relative;margin-bottom:16px;_width:608px}.ke-swfupload-button{height:30px;line-height:30px}.webuploader-container input[type=file]{opacity:0;cursor:pointer;width:500px;height:100px;margin-left:-200px}.webuploader-element-invisible{opacity:0;position:relative;z-index:3}.webuploader-container{background-color:#2196f3;border-color:#2565c4;box-shadow:0 1px 9pt 1px #0000001f}.webuploader-pick{position:relative;display:inline-block;cursor:pointer;width:100%;height:100%;box-sizing:border-box;border-radius:1px;overflow:visible;zoom:1}.webuploader-pick:after{content:\"\\9009\\62e9\\56fe\\7247\";position:absolute;top:0;left:0;width:100%;height:100%;text-align:center;background-color:#2196f3;border-color:#2565c4;z-index:1;margin:0;padding:0;color:#fff;cursor:pointer;font-size:14px}.ke-swfupload-desc{padding:0 10px;height:23px;line-height:23px;font-size:14px}.ke-swfupload-startupload{position:absolute;top:0;right:0}.ke-swfupload-body{overflow-y:scroll;background-color:#fff;border-color:#848484 #E0E0E0 #E0E0E0 #848484;border-style:solid;border-width:1px;width:auto;height:330px;padding:5px}.ke-swfupload-body .ke-item{width:110px;margin:4px}.ke-swfupload-body .ke-photo{position:relative;background-color:#2196f3;padding:2px}.ke-swfupload-body .ke-delete{display:block;width:20px;height:20px;line-height:20px;text-align:center;position:absolute;right:0;top:0;cursor:pointer;z-index:1;background:rgba(255,255,255,.42);font-size:14px;font-weight:700}.ke-swfupload-body .ke-delete:after{font-family:icon-ke-font!important;font-size:inherit;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:\"\\e69b\"}.ke-swfupload-body .ke-status{position:absolute;left:0;bottom:0;width:110px;height:22px;line-height:18px}.ke-swfupload-body .ke-message{width:100%;text-align:center;overflow:hidden;height:22px;background:rgba(0,0,0,.5);color:#fff}.ke-swfupload-body .ke-error{color:red}.ke-swfupload-body .ke-name{width:100px;text-align:center;overflow:hidden;height:16px;line-height:16px}.ke-swfupload-body .ke-on{background-color:#e3eefa}.ke-swfupload .ke-progressbar{position:absolute;margin:0;padding:0;bottom:0;left:0;width:100%;height:100%;background:rgba(0,179,14,.28);text-shadow:1px 1px 4px #000000}.ke-swfupload .ke-progressbar-bar{height:4px;padding:0;width:100%;margin:0;background:#565656;border:none;position:absolute;bottom:0}.ke-swfupload .ke-progressbar-bar-inner{width:0%;height:4px;background-color:#32ce62;overflow:hidden;margin:0;padding:0}.ke-swfupload .ke-progressbar-percent{position:absolute;bottom:3px;left:0;font-weight:700;color:#7f0;display:block;width:100%;text-align:center}.ke-swfupload-body{border:3px dashed #CCC}.ke-swfupload-body:after{content:\"\\53ef\\62d6\\62fd\\6587\\4ef6\\81f3\\6b64\\5904\\4e0a\\4f20\";position:absolute;top:50%;left:0;width:100%;height:30px;font-size:24px;color:#e2e2e2;text-align:center;margin-top:-15px}.ke-swfupload-body.drag-hover{border:3px dashed #000}.ke-swfupload-body .ke-item{position:relative;z-index:1;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;-khtml-user-select:none;user-select:none}.ke-swfupload .ke-progressbar.error{background:rgba(255,178,178,.5)}.ke-swfupload .ke-progressbar.error .ke-progressbar-bar-inner{background:#ff1010}.ke-swfupload .ke-progressbar.error .ke-progressbar-percent{color:#ff1010}.ke-swfupload{position:relative}.ke-swfupload .upload-error-result{position:absolute;bottom:0;left:0;width:100%;height:30px;box-sizing:border-box;padding:0 50px;background:#ff000096;display:none;text-align:center;line-height:30px;color:#fff;z-index:2}.ke-swfupload .upload-error-result.show{display:block}.ke-status.upload-error{width:100%;height:100%}.ke-status.upload-error .ke-message{width:100%;height:100%;vertical-align:middle;display:flex;justify-content:space-around;align-items:center;z-index:0;background:rgba(132,0,0,.52);color:#fff;padding:0 5px;text-shadow:1px 1px #b50000}.ke-plugin-plainpaste-textarea,.ke-plugin-wordpaste-iframe{display:block;width:408px;height:260px;font-family:PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;font-size:12px;border-color:#848484 #E0E0E0 #E0E0E0 #848484;border-style:solid;border-width:1px}.ke-plugin-filemanager-header{width:100%;margin-bottom:10px}.ke-plugin-filemanager-header .ke-left{float:left}.ke-plugin-filemanager-header .ke-right{float:right}.ke-plugin-filemanager-body{overflow:scroll;background-color:#fff;border-color:#848484 #E0E0E0 #E0E0E0 #848484;border-style:solid;border-width:1px;width:auto;height:370px;padding:5px}.ke-plugin-filemanager-body .ke-item{width:100px;margin:5px}.ke-plugin-filemanager-body .ke-photo{border:1px solid #DDDDDD;background-color:#fff;padding:10px}.ke-plugin-filemanager-body .ke-name{width:100px;text-align:center;overflow:hidden;height:16px}.ke-plugin-filemanager-body .ke-on{border:1px solid #5690D2;background-color:#e9eff6}.ke-plugin-filemanager-body .ke-table{width:95%;border:0;margin:0;padding:0;border-collapse:separate}.ke-plugin-filemanager-body .ke-table .ke-cell{margin:0;padding:0;border:0}.ke-plugin-filemanager-body .ke-table .ke-name{width:55%;text-align:left}.ke-plugin-filemanager-body .ke-table .ke-size{width:15%;text-align:left}.ke-plugin-filemanager-body .ke-table .ke-datetime{width:30%;text-align:center}.ke-plugin-emoji,.ke-plugin-symbol{padding:0 3px;position:relative}.ke-plugin-emoji .ke-ul{list-style:none;padding:0;margin:0}.ke-plugin-emoji .ke-ul .ke-li{display:block;white-space:nowrap}.ke-plugin-emoji .ke-li .ke-emoji{font-size:24px;padding:3px;cursor:pointer;border:1px solid transparent;width:24px;height:24px;display:inline-flex;flex-flow:row;align-items:center;justify-content:center;line-height:0;box-sizing:content-box!important}.ke-plugin-emoji .ke-li .ke-emoji:hover{background-color:#e7edf3;cursor:pointer;border:1px solid #bed6ed}.ke-plugin-emoji .ke-page{padding:7px 5px 5px;text-align:center}.ke-plugin-emoji .ke-page .ke-page-item{margin:0 5px}.ke-plugin-symbol .ke-ul{list-style:none;margin:0;min-height:400px;padding:0 0 0 92px}.ke-plugin-symbol .ke-ul .ke-li{display:block;white-space:nowrap}.ke-plugin-symbol .ke-li .ke-symbol{font-size:16px;padding:3px;cursor:pointer;border:1px solid transparent;width:24px;height:24px;display:inline-flex;flex-flow:row;align-items:center;justify-content:center;line-height:0;box-sizing:content-box!important}.ke-plugin-symbol .ke-li .ke-symbol:hover{background-color:#e7edf3;cursor:pointer;border:1px solid #bed6ed}.ke-plugin-symbol .ke-page{position:absolute;left:0;top:0;width:90px;height:100%;border-right:1px solid #e7edf3}.ke-plugin-symbol .ke-page .ke-page-item{display:block;line-height:36px;background:#e9eff6;text-align:center;width:82px;margin:1px 4px 3px;font-weight:700}.ke-plugin-symbol .ke-page .ke-page-item a{color:#208eed!important;display:block;font-weight:500}.ke-plugin-symbol .ke-page .ke-page-item.ke-page-active{background-color:#e9eff6}.ke-plugin-symbol .ke-page .ke-page-item.ke-page-active{color:#000}.ke-plugin-symbol .ke-page .ke-page-item:hover{background-color:#e9eff6}.ke-plugin-symbol .ke-page .ke-page-item:last-child{border-bottom:none}.ke-dialog-body .ke-input-text{height:30px;min-height:30px;min-width:80px;line-height:30px}.ke-dialog-body input[type=checkbox]{width:22px;height:22px;vertical-align:middle;margin-left:0}.ke-dialog-body .ke-upload-button.ke-inline-block,.ke-dialog-body .ke-file-viewer.ke-button-outer{margin-left:5px}.ke-container{border:1px solid #c9d8db}.ke-toolbar{border-bottom:1px solid #c9d8da;background-color:#fff}.ke-toolbar .ke-outline{border-color:transparent;padding:0}.ke-toolbar .ke-outline.ke-on{background-color:#eaeff5}.ke-toolbar .ke-toolbar-icon{width:38px}")); document.head.appendChild(elementStyle);} catch(e) {console.error('vite-plugin-css-injected-by-js', e);} })();import { onMounted as Ni, onDeactivated as Ii, onActivated as Ai, watch as Ri, openBlock as Li, createElementBlock as Bi, unref as Fi } from "vue";
var Oi = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}, Ui = { exports: {} };
(function(Ve, ht) {
  (function(te, re) {
    Ve.exports = re();
  })(Oi, function() {
    function te(e) {
      return e ? Object.prototype.toString.call(e) === "[object Array]" : !1;
    }
    function re(e) {
      return e ? Object.prototype.toString.call(e) === "[object Function]" : !1;
    }
    function pe(e, t) {
      for (var n = 0, o = t.length; o > n; n++)
        if (e === t[n])
          return n;
      return -1;
    }
    function z(e, t) {
      if (te(e))
        for (var n = 0, o = e.length; o > n && t.call(e[n], n, e[n]) !== !1; n++)
          ;
      else
        for (var i in e)
          if (e.hasOwnProperty(i) && t.call(e[i], i, e[i]) === !1)
            break;
    }
    function ne(e) {
      return e.replace(/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g, "");
    }
    function Ke(e, t, n) {
      return n = n === void 0 ? "," : n, (n + t + n).indexOf(n + e + n) >= 0;
    }
    function J(e, t) {
      return t = t || "px", e && /^-?\d+(?:\.\d+)?$/.test(e) ? e + t : e;
    }
    function X(e) {
      var t;
      return e && (t = /(\d+)/.exec(e)) ? parseInt(t[1], 10) : 0;
    }
    function se(e) {
      return e.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
    }
    function Ge(e) {
      return e.replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&quot;/g, '"').replace(/&amp;/g, "&");
    }
    function Qe(e) {
      var t = e.split("-");
      return e = "", z(t, function(n, o) {
        e += n > 0 ? o.charAt(0).toUpperCase() + o.substr(1) : o;
      }), e;
    }
    function mt(e) {
      function t(n) {
        var o = parseInt(n, 10).toString(16).toUpperCase();
        return o.length > 1 ? o : "0" + o;
      }
      return e.replace(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/gi, function(n, o, i, u) {
        return "#" + t(o) + t(i) + t(u);
      });
    }
    function oe(e, t) {
      t = t === void 0 ? "," : t;
      var n, o = {}, i = te(e) ? e : e.split(t);
      return z(i, function(u, c) {
        if (n = /^(\d+)\.\.(\d+)$/.exec(c))
          for (var a = parseInt(n[1], 10); a <= parseInt(n[2], 10); a++)
            o[a.toString()] = !0;
        else
          o[c] = !0;
      }), o;
    }
    function Dt(e, t) {
      return Array.prototype.slice.call(e, t || 0);
    }
    function V(e, t) {
      return e === void 0 ? t : e;
    }
    function Wn(e) {
      return !e || /[<>"]/.test(e);
    }
    function $n(e, t) {
      return e.indexOf("?") >= 0 ? e + "&" + t : e + "?" + t;
    }
    function he(e, t, n) {
      n || (n = t, t = null);
      var o;
      if (t) {
        var i = function() {
        };
        i.prototype = t.prototype, o = new i(), z(n, function(u, c) {
          o[u] = c;
        });
      } else
        o = n;
      o.constructor = e, e.prototype = o, e.parent = t ? t.prototype : null;
    }
    function Jt(e) {
      var t;
      (t = /\{[\s\S]*\}|\[[\s\S]*\]/.exec(e)) && (e = t[0]);
      var n = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
      if (n.lastIndex = 0, n.test(e) && (e = e.replace(n, function(o) {
        return "\\u" + ("0000" + o.charCodeAt(0).toString(16)).slice(-4);
      })), /^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, "")))
        return window.eval("(" + e + ")");
      throw "JSON parse error";
    }
    function Vn() {
      for (var e, t = document.getElementsByTagName("script"), n = 0, o = t.length; o > n; n++)
        if (e = t[n].src || "", /kindeditor[\w\-\.]*\.js/.test(e))
          return e.substring(0, e.lastIndexOf("/") + 1);
      return "";
    }
    function Kn(e, t, n) {
      e.addEventListener ? e.addEventListener(t, n, Fn) : e.attachEvent && e.attachEvent("on" + t, n);
    }
    function gt(e, t, n) {
      e.removeEventListener ? e.removeEventListener(t, n, Fn) : e.detachEvent && e.detachEvent("on" + t, n);
    }
    function en(e, t) {
      this.init(e, t);
    }
    function Mt(e) {
      return e[St] || null;
    }
    function Gn(e) {
      return e[St] = ++Un, Un;
    }
    function tn(e) {
      try {
        delete e[St];
      } catch {
        e.removeAttribute && e.removeAttribute(St);
      }
    }
    function Ue(e, t, n) {
      if (t.indexOf(",") >= 0)
        return void z(t.split(","), function() {
          Ue(e, this, n);
        });
      var o = Mt(e);
      o || (o = Gn(e)), le[o] === void 0 && (le[o] = {});
      var i = le[o][t];
      i && i.length > 0 ? gt(e, t, i[0]) : (le[o][t] = [], le[o].el = e), i = le[o][t], i.length === 0 && (i[0] = function(u) {
        var c = u ? new en(e, u) : void 0;
        z(i, function(a, r) {
          a > 0 && r && r.call(e, c);
        });
      }), pe(n, i) < 0 && i.push(n), Kn(e, t, i[0]);
    }
    function Ye(e, t, n) {
      if (t && t.indexOf(",") >= 0)
        return void z(t.split(","), function() {
          Ye(e, this, n);
        });
      var o = Mt(e);
      if (o) {
        if (t === void 0)
          return void (o in le && (z(le[o], function(c, a) {
            c != "el" && a.length > 0 && gt(e, c, a[0]);
          }), delete le[o], tn(e)));
        if (le[o]) {
          var i = le[o][t];
          if (i && i.length > 0) {
            n === void 0 ? (gt(e, t, i[0]), delete le[o][t]) : (z(i, function(c, a) {
              c > 0 && a === n && i.splice(c, 1);
            }), i.length == 1 && (gt(e, t, i[0]), delete le[o][t]));
            var u = 0;
            z(le[o], function() {
              u++;
            }), 2 > u && (delete le[o], tn(e));
          }
        }
      }
    }
    function nn(e, t) {
      if (t.indexOf(",") >= 0)
        return void z(t.split(","), function() {
          nn(e, this);
        });
      var n = Mt(e);
      if (n) {
        var o = le[n][t];
        le[n] && o && o.length > 0 && o[0]();
      }
    }
    function Nt(e, t, n) {
      t = /^\d{2,}$/.test(t) ? t : t.toUpperCase().charCodeAt(0), Ue(e, "keydown", function(o) {
        !o.ctrlKey || o.which != t || o.shiftKey || o.altKey || (n.call(e), o.stop());
      });
    }
    function Qn(e) {
      function t() {
        i || (i = !0, e(KindEditor), zn = !0);
      }
      function n() {
        if (!i) {
          try {
            document.documentElement.doScroll("left");
          } catch {
            return void setTimeout(n, 100);
          }
          t();
        }
      }
      function o() {
        document.readyState === "complete" && t();
      }
      if (zn)
        return void e(KindEditor);
      var i = !1;
      if (document.addEventListener)
        Ue(document, "DOMContentLoaded", t);
      else if (document.attachEvent) {
        Ue(document, "readystatechange", o);
        var u = !1;
        try {
          u = window.frameElement == null;
        } catch {
        }
        document.documentElement.doScroll && u && n();
      }
      Ue(window, "load", t);
    }
    function ze(e) {
      e = e.replace(/&quot;/g, '"');
      for (var t, n = {}, o = /\s*([\w\-]+)\s*:([^;]*)(;|$)/g; t = o.exec(e); ) {
        var i = ne(t[1].toLowerCase()), u = ne(mt(t[2]));
        n[i] = u;
      }
      return n;
    }
    function we(e) {
      for (var t, n = {}, o = /\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g; t = o.exec(e); ) {
        var i = (t[1] || t[2] || t[4] || t[6]).toLowerCase(), u = (t[2] ? t[3] : t[4] ? t[5] : t[7]) || "";
        n[i] = u;
      }
      return n;
    }
    function Yn(e, t) {
      return e = /\s+class\s*=/.test(e) ? e.replace(/(\s+class=["']?)([^"']*)(["']?[\s>])/, function(n, o, i, u) {
        return (" " + i + " ").indexOf(" " + t + " ") < 0 ? i === "" ? o + t + u : o + i + " " + t + u : n;
      }) : e.substr(0, e.length - 1) + ' class="' + t + '">';
    }
    function Zn(e) {
      var t = "";
      return z(ze(e), function(n, o) {
        t += n + ":" + o + ";";
      }), t;
    }
    function Ze(e, t, n, o) {
      function i(r) {
        for (var d = r.split("/"), s = [], l = 0, f = d.length; f > l; l++) {
          var p = d[l];
          p == ".." ? s.length > 0 && s.pop() : p !== "" && p != "." && s.push(p);
        }
        return "/" + s.join("/");
      }
      function u(r, d) {
        if (e.substr(0, r.length) === r) {
          for (var s = [], l = 0; d > l; l++)
            s.push("..");
          var f = ".";
          return s.length > 0 && (f += "/" + s.join("/")), o == "/" && (f += "/"), f + e.substr(r.length);
        }
        return (a = /^(.*)\//.exec(r)) ? u(a[1], ++d) : void 0;
      }
      if (t = V(t, "").toLowerCase(), e.substr(0, 5) != "data:" && (e = e.replace(/([^:])\/\//g, "$1/")), pe(t, ["absolute", "relative", "domain"]) < 0)
        return e;
      if (n = n || location.protocol + "//" + location.host, o === void 0) {
        var c = location.pathname.match(/^(\/.*)\//);
        o = c ? c[1] : "";
      }
      var a;
      if (a = /^(\w+:\/\/[^\/]*)/.exec(e)) {
        if (a[1] !== n)
          return e;
      } else if (/^\w+:/.test(e))
        return e;
      return /^\//.test(e) ? e = n + i(e.substr(1)) : /^\w+:\/\//.test(e) || (e = n + i(o + "/" + e)), t === "relative" ? e = u(n + o, 0).substr(2) : t === "absolute" && e.substr(0, n.length) === n && (e = e.substr(n.length)), e;
    }
    function Ae(e, t, n, o, i) {
      e == null && (e = ""), n = n || "", o = V(o, !1), i = V(i, "	");
      var u = "xx-small,x-small,small,medium,large,x-large,xx-large".split(",");
      e = e.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi, function(d, s, l, f) {
        return s + l.replace(/<(?:br|br\s[^>]*)>/gi, `
`) + f;
      }), e = e.replace(/<(?:br|br\s[^>]*)\s*\/?>\s*<\/p>/gi, "</p>"), e = e.replace(/(<(?:p|p\s[^>]*)>)\s*(<\/p>)/gi, "$1<br />$2"), e = e.replace(/\u200B/g, ""), e = e.replace(/\u00A9/g, "&copy;"), e = e.replace(/\u00AE/g, "&reg;"), e = e.replace(/\u2003/g, "&emsp;"), e = e.replace(/\u3000/g, "&emsp;"), e = e.replace(/<[^>]+/g, function(d) {
        return d.replace(/\s+/g, " ");
      });
      var c = {};
      t && (z(t, function(d, s) {
        for (var l = d.split(","), f = 0, p = l.length; p > f; f++)
          c[l[f]] = oe(s);
      }), c.script || (e = e.replace(/(<(?:script|script\s[^>]*)>)([\s\S]*?)(<\/script>)/gi, "")), c.style || (e = e.replace(/(<(?:style|style\s[^>]*)>)([\s\S]*?)(<\/style>)/gi, "")));
      var a = /(\s*)<(\/)?([\w\-:]+)((?:\s+|(?:\s+[\w\-:]+)|(?:\s+[\w\-:]+=[^\s"'<>]+)|(?:\s+[\w\-:"]+="[^"]*")|(?:\s+[\w\-:"]+='[^']*'))*)(\/)?>(\s*)/g, r = [];
      return e = e.replace(a, function(d, s, l, f, p, m, g) {
        var k = d, y = s || "", C = l || "", _ = f.toLowerCase(), I = p || "", N = m ? " " + m : "", A = g || "";
        if (t && !c[_])
          return "";
        if (N === "" && Ln[_] && (N = " /"), An[_] && (y && (y = " "), A && (A = " ")), Gt[_] && (C ? A = `
` : y = `
`), o && _ == "br" && (A = `
`), Rn[_] && !Gt[_])
          if (o) {
            C && r.length > 0 && r[r.length - 1] === _ ? r.pop() : r.push(_), y = `
`, A = `
`;
            for (var j = 0, F = C ? r.length : r.length - 1; F > j; j++)
              y += i, C || (A += i);
            N ? r.pop() : C || (A += i);
          } else
            y = A = "";
        if (I !== "") {
          var E = we(k);
          if (_ === "font") {
            var T = {}, w = "";
            z(E, function(x, D) {
              x === "color" && (T.color = D, delete E[x]), x === "size" && (T["font-size"] = u[parseInt(D, 10) - 1] || "", delete E[x]), x === "face" && (T["font-family"] = D, delete E[x]), x === "style" && (w = D);
            }), w && !/;$/.test(w) && (w += ";"), z(T, function(x, D) {
              D !== "" && (/\s/.test(D) && (D = "'" + D + "'"), w += x + ":" + D + ";");
            }), E.style = w;
          }
          z(E, function(x, D) {
            if (Ci[x] && (E[x] = x), pe(x, ["src", "href"]) >= 0 && (E[x] = Ze(D, n)), (t && x !== "style" && !c[_]["*"] && !c[_][x] || _ === "body" && x === "contenteditable" || /^kindeditor_\d+$/.test(x)) && delete E[x], x === "style" && D !== "") {
              var M = ze(D);
              z(M, function(R, U) {
                !t || c[_].style || c[_]["." + R] || delete M[R];
              });
              var B = "";
              z(M, function(R, U) {
                B += R + ":" + U + ";";
              }), E.style = B;
            }
          }), I = "", z(E, function(x, D) {
            (x !== "style" || D !== "") && (D = D.replace(/"/g, "&quot;"), I += " " + x + '="' + D + '"');
          });
        }
        return _ === "font" && (_ = "span"), y + "<" + C + _ + I + N + ">" + A;
      }), e = e.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi, function(d, s, l, f) {
        return s + l.replace(/\n/g, `<span id="__kindeditor_pre_newline__">
`) + f;
      }), e = e.replace(/\n\s*\n/g, `
`), e = e.replace(/<span id="__kindeditor_pre_newline__">\n/g, `
`), ne(e);
    }
    function rn(e, t) {
      return e = e.replace(/<meta[\s\S]*?>/gi, "").replace(/<![\s\S]*?>/gi, "").replace(/<style[^>]*>[\s\S]*?<\/style>/gi, "").replace(/<script[^>]*>[\s\S]*?<\/script>/gi, "").replace(/<w:[^>]+>[\s\S]*?<\/w:[^>]+>/gi, "").replace(/<o:[^>]+>[\s\S]*?<\/o:[^>]+>/gi, "").replace(/<xml>[\s\S]*?<\/xml>/gi, "").replace(/<(?:table|td)[^>]*>/gi, function(n) {
        return n.replace(/border-bottom:([#\w\s]+)/gi, "border:$1");
      }), Ae(e, t);
    }
    function on(e) {
      return /\.(rm|rmvb)(\?|$)/i.test(e) ? "audio/x-pn-realaudio-plugin" : /\.(swf|flv)(\?|$)/i.test(e) ? "application/x-shockwave-flash" : "video/x-ms-asf-plugin";
    }
    function Xn(e) {
      return /realaudio/i.test(e) ? "ke-rm" : /flash/i.test(e) ? "ke-flash" : "ke-media";
    }
    function ln(e) {
      return we(unescape(e));
    }
    function It(e) {
      var t = "<embed ";
      return z(e, function(n, o) {
        t += n + '="' + o + '" ';
      }), t += "/>";
    }
    function an(e, t) {
      var n = t.width, o = t.height, i = t.type || on(t.src), u = It(t), c = "";
      /\D/.test(n) ? c += "width:" + n + ";" : n > 0 && (c += "width:" + n + "px;"), /\D/.test(o) ? c += "height:" + o + ";" : o > 0 && (c += "height:" + o + "px;");
      var a = '<img class="' + Xn(i) + '" src="' + e + '" ';
      return c !== "" && (a += 'style="' + c + '" '), a += 'data-ke-tag="' + escape(u) + '" alt="" />';
    }
    function Jn(e, t) {
      var n = new Function("obj", "var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('" + e.replace(/[\r\t\n]/g, " ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g, "$1\r").replace(/\t=(.*?)%>/g, "',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'") + "');}return p.join('');");
      return t ? n(t) : n;
    }
    function vt(e, t) {
      if (e.nodeType == 9 && t.nodeType != 9)
        return !0;
      for (; t = t.parentNode; )
        if (t == e)
          return !0;
      return !1;
    }
    function yt(e, t) {
      t = t.toLowerCase();
      var n = null;
      if (Ei || e.nodeName.toLowerCase() == "script")
        try {
          n = e.getAttribute(t, 2);
        } catch {
          n = e.getAttribute(t, 1);
        }
      else {
        var o = e.ownerDocument.createElement("div");
        o.appendChild(e.cloneNode(!1));
        var i = we(Ge(o.innerHTML));
        t in i && (n = i[t]);
      }
      return t === "style" && n !== null && (n = Zn(n)), n;
    }
    function kt(e, t) {
      function n(x) {
        return typeof x != "string" ? x : x.replace(/([^\w\-])/g, "\\$1");
      }
      function o(x) {
        return x.replace(/\\/g, "");
      }
      function i(x, D) {
        return x === "*" || x.toLowerCase() === n(D.toLowerCase());
      }
      function u(x, D, M) {
        var B = [], R = M.ownerDocument || M, U = R.getElementById(o(x));
        return U && i(D, U.nodeName) && vt(M, U) && B.push(U), B;
      }
      function c(x, D, M) {
        var B, R, U, O, P = M.ownerDocument || M, H = [];
        if (M.getElementsByClassName)
          for (B = M.getElementsByClassName(o(x)), R = 0, U = B.length; U > R; R++)
            O = B[R], i(D, O.nodeName) && H.push(O);
        else if (P.querySelectorAll)
          for (B = P.querySelectorAll((M.nodeName !== "#document" ? M.nodeName + " " : "") + D + "." + x), R = 0, U = B.length; U > R; R++)
            O = B[R], vt(M, O) && H.push(O);
        else
          for (B = M.getElementsByTagName(D), x = " " + x + " ", R = 0, U = B.length; U > R; R++)
            if (O = B[R], O.nodeType == 1) {
              var W = O.className;
              W && (" " + W + " ").indexOf(x) > -1 && H.push(O);
            }
        return H;
      }
      function a(x, D, M) {
        for (var B, R = [], U = M.ownerDocument || M, O = U.getElementsByName(o(x)), P = 0, H = O.length; H > P; P++)
          B = O[P], i(D, B.nodeName) && vt(M, B) && B.getAttribute("name") !== null && R.push(B);
        return R;
      }
      function r(x, D, M, B) {
        for (var R, U = [], O = B.getElementsByTagName(M), P = 0, H = O.length; H > P; P++)
          R = O[P], R.nodeType == 1 && (D === null ? yt(R, x) !== null && U.push(R) : D === n(yt(R, x)) && U.push(R));
        return U;
      }
      function d(x, D) {
        var M, B = [];
        M = /^((?:\\.|[^.#\s\[<>])+)/.exec(x);
        var R = M ? M[1] : "*";
        if (M = /#((?:[\w\-]|\\.)+)$/.exec(x))
          B = u(M[1], R, D);
        else if (M = /\.((?:[\w\-]|\\.)+)$/.exec(x))
          B = c(M[1], R, D);
        else if (M = /\[((?:[\w\-]|\\.)+)\]/.exec(x))
          B = r(M[1].toLowerCase(), null, R, D);
        else if (M = /\[((?:[\w\-]|\\.)+)\s*=\s*['"]?((?:\\.|[^'"]+)+)['"]?\]/.exec(x)) {
          var U = M[1].toLowerCase(), O = M[2];
          B = U === "id" ? u(O, R, D) : U === "class" ? c(O, R, D) : U === "name" ? a(O, R, D) : r(U, O, R, D);
        } else
          for (var P, H = D.getElementsByTagName(R), W = 0, ae = H.length; ae > W; W++)
            P = H[W], P.nodeType == 1 && B.push(P);
        return B;
      }
      var s = e.split(",");
      if (s.length > 1) {
        var l = [];
        return z(s, function() {
          z(kt(this, t), function() {
            pe(this, l) < 0 && l.push(this);
          });
        }), l;
      }
      t = t || document;
      for (var f, p = [], m = /((?:\\.|[^\s>])+|[\s>])/g; f = m.exec(e); )
        f[1] !== " " && p.push(f[1]);
      var g = [];
      if (p.length == 1)
        return d(p[0], t);
      var k, y, C, _, I, N, A, j, F, E, T, w = !1;
      for (N = 0, F = p.length; F > N; N++)
        if (k = p[N], k !== ">") {
          if (N > 0) {
            for (y = [], A = 0, E = g.length; E > A; A++)
              for (_ = g[A], C = d(k, _), j = 0, T = C.length; T > j; j++)
                I = C[j], w ? _ === I.parentNode && y.push(I) : y.push(I);
            g = y;
          } else
            g = d(k, t);
          if (g.length === 0)
            return [];
        } else
          w = !0;
      return g;
    }
    function ei(e, t) {
      var n = kt(e, t);
      return n.length > 0 ? n[0] : null;
    }
    function xe(e) {
      return v(e)[0];
    }
    function Re(e) {
      return e ? e.ownerDocument || e.document || e : document;
    }
    function Le(e) {
      if (!e)
        return window;
      var t = Re(e);
      return t.parentWindow || t.defaultView;
    }
    function ti(e, t) {
      if (e.nodeType == 1) {
        var n = Re(e);
        try {
          e.innerHTML = '<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />' + t;
          var o = n.getElementById("__kindeditor_temp_tag__");
          o.parentNode.removeChild(o);
        } catch {
          v(e).empty(), v("@" + t, n).each(function() {
            e.appendChild(this);
          });
        }
      }
    }
    function At(e, t) {
      return Ke(t, e.className, " ");
    }
    function Rt(e, t, n) {
      Q && 8 > ce && t.toLowerCase() == "class" && (t = "className"), e.setAttribute(t, "" + n);
    }
    function ni(e, t) {
      Q && 8 > ce && t.toLowerCase() == "class" && (t = "className"), Rt(e, t, ""), e.removeAttribute(t);
    }
    function sn(e) {
      return e && e.nodeName ? e.nodeName.toLowerCase() : "";
    }
    function ii(e, t) {
      var n = Le(e), o = Qe(t), i = "";
      if (n.getComputedStyle) {
        var u = n.getComputedStyle(e, null);
        i = u[o] || u.getPropertyValue(t) || e.style[o];
      } else
        e.currentStyle && (i = e.currentStyle[o] || e.style[o]);
      return i;
    }
    function cn(e) {
      return !!_i[sn(e)];
    }
    function ve(e) {
      return e = e || document, Me ? e.body : e.documentElement;
    }
    function je(e) {
      e = e || document;
      var t, n;
      return Q || ki || Kt ? (t = ve(e).scrollLeft, n = ve(e).scrollTop) : (t = Le(e).scrollX, n = Le(e).scrollY), { x: t, y: n };
    }
    function de(e) {
      this.init(e);
    }
    function un(e) {
      return e.collapsed = e.startContainer === e.endContainer && e.startOffset === e.endOffset, e;
    }
    function Lt(e, t, n) {
      function o(_, I, N) {
        var A, j = _.nodeValue.length;
        if (t) {
          var F = _.cloneNode(!0);
          A = I > 0 ? F.splitText(I) : F, j > N && A.splitText(N - I);
        }
        if (n) {
          var E = _;
          if (I > 0 && (E = _.splitText(I), e.setStart(_, I)), j > N) {
            var T = E.splitText(N - I);
            e.setEnd(T, 0);
          }
          a.push(E);
        }
        return A;
      }
      function i() {
        n && e.up().collapse(!0);
        for (var _ = 0, I = a.length; I > _; _++) {
          var N = a[_];
          N.parentNode && N.parentNode.removeChild(N);
        }
      }
      function u(_, I) {
        for (var N, A = _.firstChild; A; ) {
          var j = new Ce(c).selectNode(A);
          if (d = j.compareBoundaryPoints(st, e), d >= 0 && 0 >= s && (s = j.compareBoundaryPoints(at, e)), s >= 0 && 0 >= l && (l = j.compareBoundaryPoints(He, e)), l >= 0 && 0 >= f && (f = j.compareBoundaryPoints(ct, e)), f >= 0)
            return !1;
          if (N = A.nextSibling, d > 0) {
            if (A.nodeType == 1)
              if (s >= 0 && 0 >= l)
                t && I.appendChild(A.cloneNode(!0)), n && a.push(A);
              else {
                var F;
                if (t && (F = A.cloneNode(!1), I.appendChild(F)), u(A, F) === !1)
                  return !1;
              }
            else if (A.nodeType == 3) {
              var E;
              if (E = A == r.startContainer ? o(A, r.startOffset, A.nodeValue.length) : A == r.endContainer ? o(A, 0, r.endOffset) : o(A, 0, A.nodeValue.length), t)
                try {
                  I.appendChild(E);
                } catch {
                }
            }
          }
          A = N;
        }
      }
      var c = e.doc, a = [], r = e.cloneRange().down(), d = -1, s = -1, l = -1, f = -1, p = e.commonAncestor(), m = c.createDocumentFragment();
      if (p.nodeType == 3) {
        var g = o(p, e.startOffset, e.endOffset);
        return t && m.appendChild(g), i(), t ? m : e;
      }
      u(p, m), n && e.up().collapse(!0);
      for (var k = 0, y = a.length; y > k; k++) {
        var C = a[k];
        C.parentNode && C.parentNode.removeChild(C);
      }
      return t ? m : e;
    }
    function Xe(e, t) {
      for (var n = t; n; ) {
        var o = v(n);
        if (o.name == "marquee" || o.name == "select")
          return;
        n = n.parentNode;
      }
      try {
        e.moveToElementText(t);
      } catch {
      }
    }
    function dn(e, t) {
      var n = e.parentElement().ownerDocument, o = e.duplicate();
      o.collapse(t);
      var i = o.parentElement(), u = i.childNodes;
      if (u.length === 0)
        return { node: i.parentNode, offset: v(i).index() };
      var c = n, a = 0, r = -1, d = e.duplicate();
      Xe(d, i);
      for (var s = 0, l = u.length; l > s; s++) {
        var f = u[s];
        if (r = d.compareEndPoints("StartToStart", o), r === 0)
          return { node: f.parentNode, offset: s };
        if (f.nodeType == 1) {
          var p, m = e.duplicate(), g = v(f), k = f;
          g.isControl() && (p = n.createElement("span"), g.after(p), k = p, a += g.text().replace(/\r\n|\n|\r/g, "").length), Xe(m, k), d.setEndPoint("StartToEnd", m), r > 0 ? a += m.text.replace(/\r\n|\n|\r/g, "").length : a = 0, p && v(p).remove();
        } else
          f.nodeType == 3 && (d.moveStart("character", f.nodeValue.length), a += f.nodeValue.length);
        0 > r && (c = f);
      }
      if (0 > r && c.nodeType == 1)
        return { node: i, offset: v(i.lastChild).index() + 1 };
      if (r > 0)
        for (; c.nextSibling && c.nodeType == 1; )
          c = c.nextSibling;
      if (d = e.duplicate(), Xe(d, i), d.setEndPoint("StartToEnd", o), a -= d.text.replace(/\r\n|\n|\r/g, "").length, r > 0 && c.nodeType == 3)
        for (var y = c.previousSibling; y && y.nodeType == 3; )
          a -= y.nodeValue.length, y = y.previousSibling;
      return { node: c, offset: a };
    }
    function fn(e, t) {
      var n = e.ownerDocument || e, o = n.body.createTextRange();
      if (n == e)
        return o.collapse(!0), o;
      if (e.nodeType == 1 && e.childNodes.length > 0) {
        var i, u, c = e.childNodes;
        if (t === 0 ? (u = c[0], i = !0) : (u = c[t - 1], i = !1), !u)
          return o;
        if (v(u).name === "head")
          return t === 1 && (i = !0), t === 2 && (i = !1), o.collapse(i), o;
        if (u.nodeType == 1) {
          var a, r = v(u);
          return r.isControl() && (a = n.createElement("span"), i ? r.before(a) : r.after(a), u = a), Xe(o, u), o.collapse(i), a && v(a).remove(), o;
        }
        e = u, t = i ? 0 : u.nodeValue.length;
      }
      var d = n.createElement("span");
      return v(e).before(d), Xe(o, d), o.moveStart("character", t), v(d).remove(), o;
    }
    function pn(e) {
      function t(a) {
        v(a.node).name == "tr" && (a.node = a.node.cells[a.offset], a.offset = 0);
      }
      var n, o;
      if (ke) {
        if (e.item)
          return n = Re(e.item(0)), o = new Ce(n), o.selectNode(e.item(0)), o;
        n = e.parentElement().ownerDocument;
        var i = dn(e, !0), u = dn(e, !1);
        return t(i), t(u), o = new Ce(n), o.setStart(i.node, i.offset), o.setEnd(u.node, u.offset), o;
      }
      var c = e.startContainer;
      return n = c.ownerDocument || c, o = new Ce(n), o.setStart(c, e.startOffset), o.setEnd(e.endContainer, e.endOffset), o;
    }
    function Ce(e) {
      this.init(e);
    }
    function Bt(e) {
      return e.nodeName ? new Ce(e) : e.constructor === Ce ? e : pn(e);
    }
    function Se(e, t, n) {
      try {
        e.execCommand(t, !1, n);
      } catch {
      }
    }
    function hn(e, t) {
      var n = "";
      try {
        n = e.queryCommandValue(t);
      } catch {
      }
      return typeof n != "string" && (n = ""), n;
    }
    function Ft(e) {
      var t = Le(e);
      return ke ? e.selection : t.getSelection();
    }
    function ri(e) {
      var t, n = Ft(e);
      try {
        t = n.rangeCount > 0 ? n.getRangeAt(0) : n.createRange();
      } catch {
      }
      return !ke || t && (t.item || t.parentElement().ownerDocument === e) ? t : null;
    }
    function mn(e) {
      var t, n, o = {};
      return z(e, function(i, u) {
        t = i.split(",");
        for (var c = 0, a = t.length; a > c; c++)
          n = t[c], o[n] = u;
      }), o;
    }
    function Ot(e, t) {
      return gn(e, t, "*") || gn(e, t);
    }
    function gn(e, t, n) {
      if (n = n || e.name, e.type !== 1)
        return !1;
      var o = mn(t);
      if (!o[n])
        return !1;
      for (var i = o[n].split(","), u = 0, c = i.length; c > u; u++) {
        var a = i[u];
        if (a === "*")
          return !0;
        var r = /^(\.?)([^=]+)(?:=([^=]*))?$/.exec(a), d = r[1] ? "css" : "attr";
        a = r[2];
        var s = r[3] || "";
        if (s === "" && e[d](a) !== "" || s !== "" && e[d](a) === s)
          return !0;
      }
      return !1;
    }
    function Ut(e, t) {
      e.type == 1 && (vn(e, t, "*"), vn(e, t));
    }
    function vn(e, t, n) {
      if (n = n || e.name, e.type === 1) {
        var o = mn(t);
        if (o[n]) {
          for (var i = o[n].split(","), u = !1, c = 0, a = i.length; a > c; c++) {
            var r = i[c];
            if (r === "*") {
              u = !0;
              break;
            }
            var d = /^(\.?)([^=]+)(?:=([^=]*))?$/.exec(r);
            r = d[2], d[1] ? (r = Qe(r), e[0].style[r] && (e[0].style[r] = "")) : e.removeAttr(r);
          }
          u && e.remove(!0);
        }
      }
    }
    function zt(e) {
      for (var t = e; t.first(); )
        t = t.first();
      return t;
    }
    function Pe(e) {
      return e.type != 1 || e.isSingle() ? !1 : e.html().replace(/<[^>]+>/g, "") === "";
    }
    function oi(e, t) {
      e = e.clone(!0);
      for (var n = zt(e), o = e, i = !1; t; ) {
        for (; o; )
          o.name === t.name && (ai(o, t.attr(), t.css()), i = !0), o = o.first();
        i || n.append(t.clone(!1)), i = !1, t = t.first();
      }
      return e;
    }
    function li(e, t) {
      if (t = t.clone(!0), e.type == 3)
        return zt(t).append(e.clone(!1)), e.replaceWith(t), t;
      for (var n, o = e; (n = e.first()) && n.children().length == 1; )
        e = n;
      n = e.first();
      for (var i = e.doc.createDocumentFragment(); n; )
        i.appendChild(n[0]), n = n.next();
      return t = oi(o, t), i.firstChild && zt(t).append(i), o.replaceWith(t), t;
    }
    function ai(e, t, n) {
      z(t, function(o, i) {
        o !== "style" && e.attr(o, i);
      }), z(n, function(o, i) {
        e.css(o, i);
      });
    }
    function si(e) {
      for (; e && e.name != "body"; ) {
        if (Gt[e.name] || e.name == "div" && e.hasClass("ke-script"))
          return !0;
        e = e.parent();
      }
      return !1;
    }
    function Je(e, t) {
      this.init(e, t);
    }
    function yn(e, t) {
      if (e.nodeName) {
        var n = Re(e);
        e = Bt(n).selectNodeContents(n.body).collapse(!1);
      }
      return new Je(e, t);
    }
    function jt(e) {
      var t = e.moveEl, n = e.moveFn, o = e.clickEl || t, i = e.beforeDrag, u = e.iframeFix === void 0 ? !0 : e.iframeFix, c = [document];
      u && v("iframe").each(function() {
        var a = Ze(this.src || "", "absolute");
        if (!/^https?:\/\//.test(a)) {
          var r;
          try {
            r = Ht(this);
          } catch {
          }
          if (r) {
            var d = v(this).pos();
            v(r).data("pos-x", d.x), v(r).data("pos-y", d.y), c.push(r);
          }
        }
      }), o.mousedown(function(a) {
        function r(C) {
          C.preventDefault();
          var _ = v(Re(C.target)), I = Ne((_.data("pos-x") || 0) + C.pageX - k), N = Ne((_.data("pos-y") || 0) + C.pageY - y);
          n.call(o, f, p, m, g, I, N);
        }
        function d(C) {
          C.preventDefault();
        }
        function s(C) {
          C.preventDefault(), v(c).unbind("mousemove", r).unbind("mouseup", s).unbind("selectstart", d), l.releaseCapture && l.releaseCapture();
        }
        if (a.button === 0 || a.button === 1) {
          a.stopPropagation();
          var l = o.get(), f = X(t.css("left")), p = X(t.css("top")), m = t.width(), g = t.height(), k = a.pageX, y = a.pageY;
          i && i(), v(c).mousemove(r).mouseup(s).bind("selectstart", d), l.setCapture && l.setCapture();
        }
      });
    }
    function Ee(e) {
      this.init(e);
    }
    function Pt(e) {
      return new Ee(e);
    }
    function Ht(e) {
      return e = xe(e), e.contentDocument || e.contentWindow.document;
    }
    function ci(e, t, n, o) {
      var i = [Yt === "" ? "<html>" : '<html dir="' + Yt + '">', '<head><meta charset="utf-8" /><title></title>', "<style>", "html,body {margin:0;padding:0;}", 'body, td {font:12px/1.5 "PingFang","Microsoft Yahei","\u82F9\u65B9","\u5FAE\u8F6F\u96C5\u9ED1", "sans serif",tahoma,verdana,helvetica;}', "body, p, div {word-wrap: break-word;line-height:28px;}", "table {border-collapse:collapse;}", "noscript {display:none;}", "table.ke-zeroborder td {border:1px dotted #AAA;}", ".ke-content {padding: 15px;}", 'img[data-ke-class="ke-image"] { max-width: 100%;border: 2px solid transparent; }', 'img[data-ke-class="ke-image"]:hover { border-color: #4696ec; }', "audio,video{ border:3px solid transparent; }", "audio:hover, video:hover{ border:3px solid #2196f3; }", "pre{ font-size: 14px;line-height: 20px;width: 100%;background-color: antiquewhite;padding: 6px 18px;box-sizing: border-box; }", ".ke-script, .ke-noscript, .ke-display-none {", "	display:none;", "	font-size:0;", "	width:0;", "	height:0;", "}", ".ke-pagebreak {", "	border:1px dotted #AAA;", "	font-size:0;", "	height:2px;", "}", "</style>"];
      return te(n) || (n = [n]), z(n, function(u, c) {
        c && i.push('<link href="' + c + '" rel="stylesheet" />');
      }), o && i.push("<style>" + o + "</style>"), i.push("</head><body " + (t ? 'class="' + t + '"' : "") + ' author="MHalo"></body></html>'), i.join(`
`);
    }
    function et(e, t) {
      if (e.hasVal()) {
        if (t === void 0) {
          var n = e.val();
          return n = n.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi, "");
        }
        return e.val(t);
      }
      return e.html(t);
    }
    function tt(e) {
      this.init(e);
    }
    function kn(e) {
      return new tt(e);
    }
    function bn(e, t) {
      var n = this, o = n.get(e);
      if (o) {
        if (o.hasClass("ke-disabled"))
          return;
        t(o);
      }
    }
    function bt(e) {
      this.init(e);
    }
    function wn(e) {
      return new bt(e);
    }
    function nt(e) {
      this.init(e);
    }
    function qt(e) {
      return new nt(e);
    }
    function it(e) {
      this.init(e);
    }
    function xn(e) {
      return new it(e);
    }
    function Wt(e) {
      this.init(e);
    }
    function ui(e) {
      return new Wt(e);
    }
    function di(e) {
      e = e || {};
      var t = e.name || "", n = v('<span class="ke-button-common ke-button-outer" title="' + t + '"></span>'), o = v('<input class="ke-button-common ke-button" type="button" value="' + t + '" />');
      return e.click && o.click(e.click), n.append(o), n;
    }
    function rt(e) {
      this.init(e);
    }
    function Cn(e) {
      return new rt(e);
    }
    function fi(e) {
      var t = Pt(e), n = t.remove, o = e.afterSelect, i = t.div, u = [];
      i.addClass("ke-tabs").bind("contextmenu,mousedown,mousemove", function(a) {
        a.preventDefault();
      });
      var c = v('<ul class="ke-tabs-ul ke-clearfix"></ul>');
      return i.append(c), t.add = function(a) {
        var r = v('<li class="ke-tabs-li">' + a.title + "</li>");
        r.data("tab", a), u.push(r), c.append(r);
      }, t.selectedIndex = 0, t.select = function(a) {
        t.selectedIndex = a, z(u, function(r, d) {
          d.unbind(), r === a ? (d.addClass("ke-tabs-li-selected"), v(d.data("tab").panel).show("")) : (d.removeClass("ke-tabs-li-selected").removeClass("ke-tabs-li-on").mouseover(function() {
            v(this).addClass("ke-tabs-li-on");
          }).mouseout(function() {
            v(this).removeClass("ke-tabs-li-on");
          }).click(function() {
            t.select(r);
          }), v(d.data("tab").panel).hide());
        }), o && o.call(t, a);
      }, t.remove = function() {
        z(u, function() {
          this.remove();
        }), c.remove(), n.call(t);
      }, t;
    }
    function $t(e, t) {
      var n = document.getElementsByTagName("head")[0] || (Me ? document.body : document.documentElement), o = document.createElement("script");
      n.appendChild(o), o.src = e, o.charset = "utf-8", o.onload = o.onreadystatechange = function() {
        this.readyState && this.readyState !== "loaded" || (t && t(), o.onload = o.onreadystatechange = null, n.removeChild(o));
      };
    }
    function _n(e) {
      var t = e.indexOf("?");
      return t > 0 ? e.substr(0, t) : e;
    }
    function Vt(e) {
      for (var t = document.getElementsByTagName("head")[0] || (Me ? document.body : document.documentElement), n = document.createElement("link"), o = _n(Ze(e, "absolute")), i = v('link[rel="stylesheet"]', t), u = 0, c = i.length; c > u; u++)
        if (_n(Ze(i[u].href, "absolute")) === o)
          return;
      t.appendChild(n), n.href = e, n.rel = "stylesheet";
    }
    function pi(e, t, n, o, i) {
      n = n || "GET", i = i || "json";
      var u = window.XMLHttpRequest ? new window.XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP");
      if (u.open(n, e, !0), u.onreadystatechange = function() {
        if (u.readyState == 4 && u.status == 200 && t) {
          var a = ne(u.responseText);
          i == "json" && (a = Jt(a)), t(a);
        }
      }, n == "POST") {
        var c = [];
        z(o, function(a, r) {
          c.push(encodeURIComponent(a) + "=" + encodeURIComponent(r));
        });
        try {
          u.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        } catch {
        }
        u.send(c.join("&"));
      } else
        u.send(null);
    }
    function Tn(e, t) {
      return e === void 0 ? _e : t ? void (_e[e] = t) : _e[e];
    }
    function Sn(e) {
      var t, n = "core";
      return (t = /^(\w+)\.(\w+)$/.exec(e)) && (n = t[1], e = t[2]), { ns: n, key: e };
    }
    function En(e, t) {
      if (t = t === void 0 ? v.options.langType : t, typeof e == "string") {
        if (!Te[t])
          return "no language";
        var n = e.length - 1;
        if (e.substr(n) === ".")
          return Te[t][e.substr(0, n)];
        var o = Sn(e);
        return Te[t][o.ns][o.key];
      }
      z(e, function(i, u) {
        var c = Sn(i);
        Te[t] || (Te[t] = {}), Te[t][c.ns] || (Te[t][c.ns] = {}), Te[t][c.ns][c.key] = u;
      });
    }
    function wt(e, t) {
      if (!e.collapsed) {
        e = e.cloneRange().up();
        var n = e.startContainer, o = e.startOffset;
        if (Fe || e.isControl()) {
          var i = v(n.childNodes[o]);
          if (i && i.name == "img")
            return t(i) ? i : void 0;
        }
      }
    }
    function hi() {
      var e = this, t = e.edit.doc;
      v(t).contextmenu(function(n) {
        if (e.menu && e.hideMenu(), !e.useContextmenu)
          return void n.preventDefault();
        if (e._contextmenus.length !== 0) {
          var o = 0, i = [];
          for (z(e._contextmenus, function() {
            return this.title == "-" ? void i.push(this) : void (this.cond && this.cond() && (i.push(this), this.width && this.width > o && (o = this.width)));
          }); i.length > 0 && i[0].title == "-"; )
            i.shift();
          for (; i.length > 0 && i[i.length - 1].title == "-"; )
            i.pop();
          var u = null;
          if (z(i, function(s) {
            this.title == "-" && u.title == "-" && delete i[s], u = this;
          }), i.length > 0) {
            n.preventDefault();
            var c = v(e.edit.iframe).pos(), a = qt({ x: c.x + n.clientX, y: c.y + n.clientY, width: o, css: { visibility: "hidden" }, shadowMode: e.shadowMode });
            z(i, function() {
              this.title && a.addItem(this);
            });
            var r = ve(a.doc), d = a.div.height();
            n.clientY + d >= r.clientHeight - 100 && a.pos(a.x, X(a.y) - d), a.div.css("visibility", "visible"), e.menu = a;
          }
        }
      });
    }
    function mi() {
      function e(c) {
        for (var a = v(c.commonAncestor()); a && (a.type != 1 || a.isStyle()); )
          a = a.parent();
        return a;
      }
      var t = this, n = t.edit.doc, o = t.newlineTag;
      if (!(Q && o !== "br" || Be && 3 > ce && o !== "p" || Kt && 9 > ce)) {
        var i = oe("h1,h2,h3,h4,h5,h6,pre,li"), u = oe("p,h1,h2,h3,h4,h5,h6,pre,li,blockquote");
        v(n).keydown(function(c) {
          if (!(c.which != 13 || c.shiftKey || c.ctrlKey || c.altKey)) {
            t.cmd.selection();
            var a = e(t.cmd.range), r = (v(a).prev(), v(a).parent(), a.name);
            if (r != "marquee" && r != "select")
              return o !== "br" || i[r] ? void (u[r] || Se(n, "formatblock", "<p>")) : (c.preventDefault(), void t.insertHtml("<br />" + (Q && 9 > ce ? "" : "\u200B")));
          }
        }), v(n).keyup(function(c) {
          if (!(c.which != 13 || c.shiftKey || c.ctrlKey || c.altKey) && o != "br") {
            if (Be) {
              var a = t.cmd.commonAncestor("p"), r = t.cmd.commonAncestor("a");
              return void (r && r.text() == "" && (r.remove(!0), t.cmd.range.selectNodeContents(a[0]).collapse(!0), t.cmd.select()));
            }
            t.cmd.selection();
            var d = e(t.cmd.range), s = v(d).prev(), l = v(d).parent(), f = d.name, p = l && l.name ? l.name : "", m = s && s.html ? s.html() : "";
            if (p == "blockquote" && m == "<br />") {
              c.preventDefault(), v(s).remove(), v(d).remove(), v(l).after("<p>\u200B</p>");
              var g = v(l).next();
              return t.cmd.range.selectNodeContents(g).collapse(!0), t.cmd.select(), void g.focus();
            }
            f != "marquee" && f != "select" && (u[f] || Se(n, "formatblock", "<p>"));
          }
        });
      }
    }
    function gi() {
      var e = this, t = e.edit.doc;
      v(t).keydown(function(n) {
        if (n.which == 9) {
          if (n.preventDefault(), e.afterTab)
            return void e.afterTab.call(e, n);
          var o = e.cmd, i = o.range;
          i.shrink(), i.collapsed && i.startContainer.nodeType == 1 && (i.insertNode(v("@&nbsp;", t)[0]), o.select()), e.insertHtml("&nbsp;&nbsp;&nbsp;&nbsp;");
        }
      });
    }
    function vi() {
      var e = this;
      v(e.edit.textarea[0], e.edit.win).focus(function(t) {
        e.afterFocus && e.afterFocus.call(e, t);
      }).blur(function(t) {
        e.afterBlur && e.afterBlur.call(e, t);
      });
    }
    function De(e) {
      return ne(e.replace(/<span [^>]*id="?__kindeditor_bookmark_\w+_\d+__"?[^>]*><\/span>/gi, ""));
    }
    function xt(e) {
      return e.replace(/<div[^>]+class="?__kindeditor_paste__"?[^>]*>[\s\S]*?<\/div>/gi, "");
    }
    function Dn(e, t) {
      if (e.length === 0)
        return void e.push(t);
      var n = e[e.length - 1];
      De(t.html) !== De(n.html) && e.push(t);
    }
    function Mn(e, t) {
      var n, o, i = this, u = i.edit, c = u.doc.body;
      if (e.length === 0)
        return i;
      u.designMode ? (n = i.cmd.range, o = n.createBookmark(!0), o.html = c.innerHTML) : o = { html: c.innerHTML }, Dn(t, o);
      var a = e.pop();
      return De(o.html) === De(a.html) && e.length > 0 && (a = e.pop()), u.designMode ? (u.html(a.html), a.start && (n.moveToBookmark(a), i.select())) : v(c).html(De(a.html)), i;
    }
    function ot(e) {
      function t(i, u) {
        ot.prototype[i] === void 0 && (n[i] = u), n.options[i] = u;
      }
      var n = this;
      n.options = {}, z(e, function(i, u) {
        t(i, e[i]);
      }), z(v.options, function(i, u) {
        n[i] === void 0 && t(i, u);
      });
      var o = v(n.srcElement || "<textarea/>");
      n.width || (n.width = o[0].style.width || o.width()), n.height || (n.height = o[0].style.height || o.height()), t("width", V(n.width, n.minWidth)), t("height", V(n.height, n.minHeight)), t("width", J(n.width)), t("height", J(n.height)), bi && (!wi || 534 > ce) && (n.designMode = !1), n.srcElement = o, n.initContent = "", n.plugin = {}, n.isCreated = !1, n._handlers = {}, n._contextmenus = [], n._undoStack = [], n._redoStack = [], n._firstAddBookmark = !0, n.menu = n.contextmenu = null, n.dialogs = [];
    }
    function yi(e) {
      return new ot(e);
    }
    function Nn(e, t) {
      function n(c) {
        return z(_e, function(a, r) {
          re(r) && (r.call(c, KindEditor), c._pluginStatus || (c._pluginStatus = {}), c._pluginStatus[a] = "inited");
        }), c.create();
      }
      if (t = t || {}, t.basePath = V(t.basePath, v.basePath), t.themesPath = V(t.themesPath, t.basePath + "themes/"), t.langPath = V(t.langPath, t.basePath + "lang/"), t.pluginsPath = V(t.pluginsPath, t.basePath + "plugins/"), V(t.loadStyleMode, v.options.loadStyleMode)) {
        var o = V(t.themeType, v.options.themeType);
        Vt(t.themesPath + "default/default.css"), Vt(t.themesPath + o + "/" + o + ".css");
      }
      var i = v(e);
      if (i && i.length !== 0) {
        if (i.length > 1)
          return i.each(function() {
            Nn(this, t);
          }), ut[0];
        t.srcElement = i[0];
        var u = new ot(t);
        return ut.push(u), Te[u.langType] ? n(u) : ($t(u.langPath + u.langType + ".js?ver=" + encodeURIComponent(v.DEBUG ? _t : Ct), function() {
          n(u);
        }), u);
      }
    }
    function lt(e, t) {
      v(e).each(function(n, o) {
        v.each(ut, function(i, u) {
          return u && u.srcElement[0] == o ? (t.call(u, i), !1) : void 0;
        });
      });
    }
    (function(e) {
      return e.KindEditor ? e.KindEditor : void 0;
    })(window), function(e, t) {
      t(e);
    }(window, function(e) {
      var t = function() {
        function n(h) {
          return h == null ? String(h) : We[Mi.call(h)] || "object";
        }
        function o(h) {
          return n(h) == "function";
        }
        function i(h) {
          return h != null && h == h.window;
        }
        function u(h) {
          return h != null && h.nodeType == h.DOCUMENT_NODE;
        }
        function c(h) {
          return n(h) == "object";
        }
        function a(h) {
          return c(h) && !i(h) && Object.getPrototypeOf(h) == Object.prototype;
        }
        function r(h) {
          var b = !!h && "length" in h && h.length, S = T.type(h);
          return S != "function" && !i(h) && (S == "array" || b === 0 || typeof b == "number" && b > 0 && b - 1 in h);
        }
        function d(h) {
          return R.call(h, function(b) {
            return b != null;
          });
        }
        function s(h) {
          return h.length > 0 ? T.fn.concat.apply([], h) : h;
        }
        function l(h) {
          return h.replace(/::/g, "/").replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2").replace(/([a-z\d])([A-Z])/g, "$1_$2").replace(/_/g, "-").toLowerCase();
        }
        function f(h) {
          return h in H ? H[h] : H[h] = new RegExp("(^|\\s)" + h + "(\\s|$)");
        }
        function p(h, b) {
          return typeof b != "number" || W[l(h)] ? b : b + "px";
        }
        function m(h) {
          var b, S;
          return P[h] || (b = O.createElement(h), O.body.appendChild(b), S = getComputedStyle(b, "").getPropertyValue("display"), b.parentNode.removeChild(b), S == "none" && (S = "block"), P[h] = S), P[h];
        }
        function g(h) {
          return "children" in h ? U.call(h.children) : T.map(h.childNodes, function(b) {
            return b.nodeType == 1 ? b : void 0;
          });
        }
        function k(h, b) {
          var S, L = h ? h.length : 0;
          for (S = 0; L > S; S++)
            this[S] = h[S];
          this.length = L, this.selector = b || "";
        }
        function y(h, b, S) {
          for (E in b)
            S && (a(b[E]) || $e(b[E])) ? (a(b[E]) && !a(h[E]) && (h[E] = {}), $e(b[E]) && !$e(h[E]) && (h[E] = []), y(h[E], b[E], S)) : b[E] !== F && (h[E] = b[E]);
        }
        function C(h, b) {
          return b == null ? T(h) : T(h).filter(b);
        }
        function _(h, b, S, L) {
          return o(b) ? b.call(h, S, L) : b;
        }
        function I(h, b, S) {
          S == null ? h.removeAttribute(b) : h.setAttribute(b, S);
        }
        function N(h, b) {
          var S = h.className || "", L = S && S.baseVal !== F;
          return b === F ? L ? S.baseVal : S : void (L ? S.baseVal = b : h.className = b);
        }
        function A(h) {
          try {
            return h && (h == "true" || (h == "false" ? !1 : h == "null" ? null : +h + "" == h ? +h : /^[\[\{]/.test(h) ? T.parseJSON(h) : h));
          } catch {
            return h;
          }
        }
        function j(h, b) {
          b(h);
          for (var S = 0, L = h.childNodes.length; L > S; S++)
            j(h.childNodes[S], b);
        }
        var F, E, T, w, x, D, M = [], B = M.concat, R = M.filter, U = M.slice, O = e.document, P = {}, H = {}, W = { "column-count": 1, columns: 1, "font-weight": 1, "line-height": 1, opacity: 1, "z-index": 1, zoom: 1 }, ae = /^\s*<(\w+|!)[^>]*>/, K = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, ie = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, me = /^(?:body|html)$/i, be = /([A-Z])/g, ee = ["val", "css", "html", "text", "data", "width", "height", "offset"], Y = ["after", "prepend", "before", "append"], Z = O.createElement("table"), qe = O.createElement("tr"), dt = { tr: O.createElement("tbody"), tbody: Z, thead: Z, tfoot: Z, td: qe, th: qe, "*": O.createElement("div") }, Zt = /^[\w-]*$/, We = {}, Mi = We.toString, G = {}, Hn = O.createElement("div"), Xt = { tabindex: "tabIndex", readonly: "readOnly", for: "htmlFor", class: "className", maxlength: "maxLength", cellspacing: "cellSpacing", cellpadding: "cellPadding", rowspan: "rowSpan", colspan: "colSpan", usemap: "useMap", frameborder: "frameBorder", contenteditable: "contentEditable" }, $e = Array.isArray || function(h) {
          return h instanceof Array;
        };
        return G.matches = function(h, b) {
          if (!b || !h || h.nodeType !== 1)
            return !1;
          var S = h.matches || h.webkitMatchesSelector || h.mozMatchesSelector || h.oMatchesSelector || h.matchesSelector;
          if (S)
            return S.call(h, b);
          var L, $ = h.parentNode, q = !$;
          return q && ($ = Hn).appendChild(h), L = ~G.qsa($, b).indexOf(h), q && Hn.removeChild(h), L;
        }, x = function(h) {
          return h.replace(/-+(.)?/g, function(b, S) {
            return S ? S.toUpperCase() : "";
          });
        }, D = function(h) {
          return R.call(h, function(b, S) {
            return h.indexOf(b) == S;
          });
        }, G.fragment = function(h, b, S) {
          var L, $, q;
          return K.test(h) && (L = T(O.createElement(RegExp.$1))), L || (h.replace && (h = h.replace(ie, "<$1></$2>")), b === F && (b = ae.test(h) && RegExp.$1), b in dt || (b = "*"), q = dt[b], q.innerHTML = "" + h, L = T.each(U.call(q.childNodes), function() {
            q.removeChild(this);
          })), a(S) && ($ = T(L), T.each(S, function(ge, fe) {
            ee.indexOf(ge) > -1 ? $[ge](fe) : $.attr(ge, fe);
          })), L;
        }, G.Z = function(h, b) {
          return new k(h, b);
        }, G.isZ = function(h) {
          return h instanceof G.Z;
        }, G.init = function(h, b) {
          var S;
          if (!h)
            return G.Z();
          if (typeof h == "string")
            if (h = h.trim(), h[0] == "<" && ae.test(h))
              S = G.fragment(h, RegExp.$1, b), h = null;
            else {
              if (b !== F)
                return T(b).find(h);
              S = G.qsa(O, h);
            }
          else {
            if (o(h))
              return T(O).ready(h);
            if (G.isZ(h))
              return h;
            if ($e(h))
              S = d(h);
            else if (c(h))
              S = [h], h = null;
            else if (ae.test(h))
              S = G.fragment(h.trim(), RegExp.$1, b), h = null;
            else {
              if (b !== F)
                return T(b).find(h);
              S = G.qsa(O, h);
            }
          }
          return G.Z(S, h);
        }, T = function(h, b) {
          return G.init(h, b);
        }, T.extend = function(h) {
          var b, S = U.call(arguments, 1);
          return typeof h == "boolean" && (b = h, h = S.shift()), S.forEach(function(L) {
            y(h, L, b);
          }), h;
        }, G.qsa = function(h, b) {
          var S, L = b[0] == "#", $ = !L && b[0] == ".", q = L || $ ? b.slice(1) : b, ge = Zt.test(q);
          return h.getElementById && ge && L ? (S = h.getElementById(q)) ? [S] : [] : h.nodeType !== 1 && h.nodeType !== 9 && h.nodeType !== 11 ? [] : U.call(ge && !L && h.getElementsByClassName ? $ ? h.getElementsByClassName(q) : h.getElementsByTagName(b) : h.querySelectorAll(b));
        }, T.contains = O.documentElement.contains ? function(h, b) {
          return h !== b && h.contains(b);
        } : function(h, b) {
          for (; b && (b = b.parentNode); )
            if (b === h)
              return !0;
          return !1;
        }, T.type = n, T.isFunction = o, T.isWindow = i, T.isArray = $e, T.isPlainObject = a, T.isEmptyObject = function(h) {
          var b;
          for (b in h)
            return !1;
          return !0;
        }, T.isNumeric = function(h) {
          var b = Number(h), S = typeof h;
          return h != null && S != "boolean" && (S != "string" || h.length) && !isNaN(b) && isFinite(b) || !1;
        }, T.inArray = function(h, b, S) {
          return M.indexOf.call(b, h, S);
        }, T.camelCase = x, T.trim = function(h) {
          return h == null ? "" : String.prototype.trim.call(h);
        }, T.uuid = 0, T.support = {}, T.expr = {}, T.noop = function() {
        }, T.map = function(h, b) {
          var S, L, $, q = [];
          if (r(h))
            for (L = 0; L < h.length; L++)
              S = b(h[L], L), S != null && q.push(S);
          else
            for ($ in h)
              S = b(h[$], $), S != null && q.push(S);
          return s(q);
        }, T.each = function(h, b) {
          var S, L;
          if (r(h)) {
            for (S = 0; S < h.length; S++)
              if (b.call(h[S], S, h[S]) === !1)
                return h;
          } else
            for (L in h)
              if (b.call(h[L], L, h[L]) === !1)
                return h;
          return h;
        }, T.grep = function(h, b) {
          return R.call(h, b);
        }, e.JSON && (T.parseJSON = JSON.parse), T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(h, b) {
          We["[object " + b + "]"] = b.toLowerCase();
        }), T.fn = { constructor: G.Z, length: 0, forEach: M.forEach, reduce: M.reduce, push: M.push, sort: M.sort, splice: M.splice, indexOf: M.indexOf, concat: function() {
          var h, b, S = [];
          for (h = 0; h < arguments.length; h++)
            b = arguments[h], S[h] = G.isZ(b) ? b.toArray() : b;
          return B.apply(G.isZ(this) ? this.toArray() : this, S);
        }, map: function(h) {
          return T(T.map(this, function(b, S) {
            return h.call(b, S, b);
          }));
        }, slice: function() {
          return T(U.apply(this, arguments));
        }, ready: function(h) {
          if (O.readyState === "complete" || O.readyState !== "loading" && !O.documentElement.doScroll)
            setTimeout(function() {
              h(T);
            }, 0);
          else {
            var b = function() {
              O.removeEventListener("DOMContentLoaded", b, !1), e.removeEventListener("load", b, !1), h(T);
            };
            O.addEventListener("DOMContentLoaded", b, !1), e.addEventListener("load", b, !1);
          }
          return this;
        }, get: function(h) {
          return h === F ? U.call(this) : this[h >= 0 ? h : h + this.length];
        }, toArray: function() {
          return this.get();
        }, size: function() {
          return this.length;
        }, remove: function() {
          return this.each(function() {
            this.parentNode != null && this.parentNode.removeChild(this);
          });
        }, each: function(h) {
          return M.every.call(this, function(b, S) {
            return h.call(b, S, b) !== !1;
          }), this;
        }, filter: function(h) {
          return o(h) ? this.not(this.not(h)) : T(R.call(this, function(b) {
            return G.matches(b, h);
          }));
        }, add: function(h, b) {
          return T(D(this.concat(T(h, b))));
        }, is: function(h) {
          return typeof h == "string" ? this.length > 0 && G.matches(this[0], h) : h && this.selector == h.selector;
        }, not: function(h) {
          var b = [];
          if (o(h) && h.call !== F)
            this.each(function(L) {
              h.call(this, L) || b.push(this);
            });
          else {
            var S = typeof h == "string" ? this.filter(h) : r(h) && o(h.item) ? U.call(h) : T(h);
            this.forEach(function(L) {
              S.indexOf(L) < 0 && b.push(L);
            });
          }
          return T(b);
        }, has: function(h) {
          return this.filter(function() {
            return c(h) ? T.contains(this, h) : T(this).find(h).size();
          });
        }, eq: function(h) {
          return h === -1 ? this.slice(h) : this.slice(h, +h + 1);
        }, first: function() {
          var h = this[0];
          return h && !c(h) ? h : T(h);
        }, last: function() {
          var h = this[this.length - 1];
          return h && !c(h) ? h : T(h);
        }, find: function(h) {
          var b = this;
          return h ? typeof h == "object" ? T(h).filter(function() {
            var S = this;
            return M.some.call(b, function(L) {
              return T.contains(L, S);
            });
          }) : this.length == 1 ? T(G.qsa(this[0], h)) : this.map(function() {
            return G.qsa(this, h);
          }) : T();
        }, closest: function(h, b) {
          var S = [], L = typeof h == "object" && T(h);
          return this.each(function($, q) {
            for (; q && !(L ? L.indexOf(q) >= 0 : G.matches(q, h)); )
              q = q !== b && !u(q) && q.parentNode;
            q && S.indexOf(q) < 0 && S.push(q);
          }), T(S);
        }, parents: function(h) {
          for (var b = [], S = this; S.length > 0; )
            S = T.map(S, function(L) {
              return (L = L.parentNode) && !u(L) && b.indexOf(L) < 0 ? (b.push(L), L) : void 0;
            });
          return C(b, h);
        }, parent: function(h) {
          return C(D(this.pluck("parentNode")), h);
        }, children: function(h) {
          return C(this.map(function() {
            return g(this);
          }), h);
        }, contents: function() {
          return this.map(function() {
            return this.contentDocument || U.call(this.childNodes);
          });
        }, siblings: function(h) {
          return C(this.map(function(b, S) {
            return R.call(g(S.parentNode), function(L) {
              return L !== S;
            });
          }), h);
        }, empty: function() {
          return this.each(function() {
            this.innerHTML = "";
          });
        }, pluck: function(h) {
          return T.map(this, function(b) {
            return b[h];
          });
        }, show: function() {
          return this.each(function() {
            this.style.display == "none" && (this.style.display = ""), getComputedStyle(this, "").getPropertyValue("display") == "none" && (this.style.display = m(this.nodeName));
          });
        }, replaceWith: function(h) {
          return this.before(h).remove();
        }, wrap: function(h) {
          var b = o(h);
          if (this[0] && !b)
            var S = T(h).get(0), L = S.parentNode || this.length > 1;
          return this.each(function($) {
            T(this).wrapAll(b ? h.call(this, $) : L ? S.cloneNode(!0) : S);
          });
        }, wrapAll: function(h) {
          if (this[0]) {
            T(this[0]).before(h = T(h));
            for (var b; (b = h.children()).length; )
              h = b.first();
            T(h).append(this);
          }
          return this;
        }, wrapInner: function(h) {
          var b = o(h);
          return this.each(function(S) {
            var L = T(this), $ = L.contents(), q = b ? h.call(this, S) : h;
            $.length ? $.wrapAll(q) : L.append(q);
          });
        }, unwrap: function() {
          return this.parent().each(function() {
            T(this).replaceWith(T(this).children());
          }), this;
        }, clone: function() {
          return this.map(function() {
            return this.cloneNode(!0);
          });
        }, hide: function() {
          return this.css("display", "none");
        }, toggle: function(h) {
          return this.each(function() {
            var b = T(this);
            (h === F ? b.css("display") == "none" : h) ? b.show() : b.hide();
          });
        }, prev: function(h) {
          return T(this.pluck("previousElementSibling")).filter(h || "*");
        }, next: function(h) {
          return T(this.pluck("nextElementSibling")).filter(h || "*");
        }, html: function(h) {
          return 0 in arguments ? this.each(function(b) {
            var S = this.innerHTML;
            T(this).empty().append(_(this, h, b, S));
          }) : 0 in this ? this[0].innerHTML : null;
        }, text: function(h) {
          return 0 in arguments ? this.each(function(b) {
            var S = _(this, h, b, this.textContent);
            this.textContent = S == null ? "" : "" + S;
          }) : 0 in this ? this.pluck("textContent").join("") : null;
        }, attr: function(h, b) {
          var S;
          return typeof h != "string" || 1 in arguments ? this.each(function(L) {
            if (this.nodeType === 1)
              if (c(h))
                for (E in h)
                  I(this, E, h[E]);
              else
                I(this, h, _(this, b, L, this.getAttribute(h)));
          }) : 0 in this && this[0].nodeType == 1 && (S = this[0].getAttribute(h)) != null ? S : F;
        }, removeAttr: function(h) {
          return this.each(function() {
            this.nodeType === 1 && h.split(" ").forEach(function(b) {
              I(this, b);
            }, this);
          });
        }, prop: function(h, b) {
          return h = Xt[h] || h, typeof h != "string" || 1 in arguments ? this.each(function(S) {
            if (c(h))
              for (E in h)
                this[Xt[E] || E] = h[E];
            else
              this[h] = _(this, b, S, this[h]);
          }) : this[0] && this[0][h];
        }, removeProp: function(h) {
          return h = Xt[h] || h, this.each(function() {
            delete this[h];
          });
        }, data: function(h, b) {
          var S = "data-" + h.replace(be, "-$1").toLowerCase(), L = 1 in arguments ? this.attr(S, b) : this.attr(S);
          return L !== null ? A(L) : F;
        }, val: function(h) {
          return 0 in arguments ? (h == null && (h = ""), this.each(function(b) {
            this.value = _(this, h, b, this.value);
          })) : this[0] && (this[0].multiple ? T(this[0]).find("option").filter(function() {
            return this.selected;
          }).pluck("value") : this[0].value);
        }, offset: function(h) {
          if (h)
            return this.each(function(S) {
              var L = T(this), $ = _(this, h, S, L.offset()), q = L.offsetParent().offset(), ge = { top: $.top - q.top, left: $.left - q.left };
              L.css("position") == "static" && (ge.position = "relative"), L.css(ge);
            });
          if (!this.length)
            return null;
          if (O.documentElement !== this[0] && !T.contains(O.documentElement, this[0]))
            return { top: 0, left: 0 };
          var b = this[0].getBoundingClientRect();
          return { left: b.left + e.pageXOffset, top: b.top + e.pageYOffset, width: Math.round(b.width), height: Math.round(b.height) };
        }, css: function(h, b) {
          if (arguments.length < 2) {
            var S = this[0];
            if (typeof h == "string")
              return S ? S.style[x(h)] || getComputedStyle(S, "").getPropertyValue(h) : void 0;
            if ($e(h)) {
              if (!S)
                return;
              var L = {}, $ = getComputedStyle(S, "");
              return T.each(h, function(ge, fe) {
                L[fe] = S.style[x(fe)] || $.getPropertyValue(fe);
              }), L;
            }
          }
          var q = "";
          if (n(h) == "string")
            b || b === 0 ? q = l(h) + ":" + p(h, b) : this.each(function() {
              this.style.removeProperty(l(h));
            });
          else
            for (E in h)
              h[E] || h[E] === 0 ? q += l(E) + ":" + p(E, h[E]) + ";" : this.each(function() {
                this.style.removeProperty(l(E));
              });
          return this.each(function() {
            this.style.cssText += ";" + q;
          });
        }, index: function(h) {
          return h ? this.indexOf(T(h)[0]) : this.parent().children().indexOf(this[0]);
        }, hasClass: function(h) {
          return h ? M.some.call(this, function(b) {
            return this.test(N(b));
          }, f(h)) : !1;
        }, addClass: function(h) {
          return h ? this.each(function(b) {
            if ("className" in this) {
              w = [];
              var S = N(this), L = _(this, h, b, S);
              L.split(/\s+/g).forEach(function($) {
                T(this).hasClass($) || w.push($);
              }, this), w.length && N(this, S + (S ? " " : "") + w.join(" "));
            }
          }) : this;
        }, removeClass: function(h) {
          return this.each(function(b) {
            if ("className" in this) {
              if (h === F)
                return N(this, "");
              w = N(this), _(this, h, b, w).split(/\s+/g).forEach(function(S) {
                w = w.replace(f(S), " ");
              }), N(this, w.trim());
            }
          });
        }, toggleClass: function(h, b) {
          return h ? this.each(function(S) {
            var L = T(this), $ = _(this, h, S, N(this));
            $.split(/\s+/g).forEach(function(q) {
              (b === F ? !L.hasClass(q) : b) ? L.addClass(q) : L.removeClass(q);
            });
          }) : this;
        }, scrollTop: function(h) {
          if (this.length) {
            var b = "scrollTop" in this[0];
            return h === F ? b ? this[0].scrollTop : this[0].pageYOffset : this.each(b ? function() {
              this.scrollTop = h;
            } : function() {
              this.scrollTo(this.scrollX, h);
            });
          }
        }, scrollLeft: function(h) {
          if (this.length) {
            var b = "scrollLeft" in this[0];
            return h === F ? b ? this[0].scrollLeft : this[0].pageXOffset : this.each(b ? function() {
              this.scrollLeft = h;
            } : function() {
              this.scrollTo(h, this.scrollY);
            });
          }
        }, position: function() {
          if (this.length) {
            var h = this[0], b = this.offsetParent(), S = this.offset(), L = me.test(b[0].nodeName) ? { top: 0, left: 0 } : b.offset();
            return S.top -= parseFloat(T(h).css("margin-top")) || 0, S.left -= parseFloat(T(h).css("margin-left")) || 0, L.top += parseFloat(T(b[0]).css("border-top-width")) || 0, L.left += parseFloat(T(b[0]).css("border-left-width")) || 0, { top: S.top - L.top, left: S.left - L.left };
          }
        }, offsetParent: function() {
          return this.map(function() {
            for (var h = this.offsetParent || O.body; h && !me.test(h.nodeName) && T(h).css("position") == "static"; )
              h = h.offsetParent;
            return h;
          });
        } }, T.fn.detach = T.fn.remove, ["width", "height"].forEach(function(h) {
          var b = h.replace(/./, function(S) {
            return S[0].toUpperCase();
          });
          T.fn[h] = function(S) {
            var L, $ = this[0];
            return S === F ? i($) ? $["inner" + b] : u($) ? $.documentElement["scroll" + b] : (L = this.offset()) && L[h] : this.each(function(q) {
              $ = T(this), $.css(h, _(this, S, q, $[h]()));
            });
          };
        }), Y.forEach(function(h, b) {
          var S = b % 2;
          T.fn[h] = function() {
            var L, $, q = T.map(arguments, function(fe) {
              var ue = [];
              return L = n(fe), L == "array" ? (fe.forEach(function(Oe) {
                return Oe.nodeType !== F ? ue.push(Oe) : T.zepto.isZ(Oe) ? ue = ue.concat(Oe.get()) : void (ue = ue.concat(G.fragment(Oe)));
              }), ue) : L == "object" || fe == null ? fe : G.fragment(fe);
            }), ge = this.length > 1;
            return q.length < 1 ? this : this.each(function(fe, ue) {
              $ = S ? ue : ue.parentNode, ue = b == 0 ? ue.nextSibling : b == 1 ? ue.firstChild : b == 2 ? ue : null;
              var Oe = T.contains(O.documentElement, $);
              q.forEach(function(ft) {
                if (ge)
                  ft = ft.cloneNode(!0);
                else if (!$)
                  return T(ft).remove();
                $.insertBefore(ft, ue), Oe && j(ft, function(Ie) {
                  if (!(Ie.nodeName == null || Ie.nodeName.toUpperCase() !== "SCRIPT" || Ie.type && Ie.type !== "text/javascript" || Ie.src)) {
                    var qn = Ie.ownerDocument ? Ie.ownerDocument.defaultView : e;
                    qn.eval.call(qn, Ie.innerHTML);
                  }
                });
              });
            });
          }, T.fn[S ? h + "To" : "insert" + (b ? "Before" : "After")] = function(L) {
            return T(L)[h](this), this;
          };
        }), G.Z.prototype = k.prototype = T.fn, G.uniq = D, G.deserializeValue = A, T.zepto = G, T;
      }();
      return e.Zepto = t, e.$ === void 0 && (e.$ = t), function(n) {
        function o(w) {
          return w._zid || (w._zid = m++);
        }
        function i(w, x, D, M) {
          if (x = u(x), x.ns)
            var B = c(x.ns);
          return (C[o(w)] || []).filter(function(R) {
            return R && (!x.e || R.e == x.e) && (!x.ns || B.test(R.ns)) && (!D || o(R.fn) === o(D)) && (!M || R.sel == M);
          });
        }
        function u(w) {
          var x = ("" + w).split(".");
          return { e: x[0], ns: x.slice(1).sort().join(" ") };
        }
        function c(w) {
          return new RegExp("(?:^| )" + w.replace(" ", " .* ?") + "(?: |$)");
        }
        function a(w, x) {
          return w.del && !I && w.e in N || !!x;
        }
        function r(w) {
          return A[w] || I && N[w] || w;
        }
        function d(w, x, D, M, B, R, U) {
          var O = o(w), P = C[O] || (C[O] = []);
          x.split(/\s/).forEach(function(H) {
            if (H == "ready")
              return n(document).ready(D);
            var W = u(H);
            W.fn = D, W.sel = B, W.e in A && (D = function(K) {
              var ie = K.relatedTarget;
              return !ie || ie !== this && !n.contains(this, ie) ? W.fn.apply(this, arguments) : void 0;
            }), W.del = R;
            var ae = R || D;
            W.proxy = function(K) {
              if (K = l(K), !K.isImmediatePropagationStopped()) {
                K.data = M;
                var ie = ae.apply(w, K._args == p ? [K] : [K].concat(K._args));
                return ie === !1 && (K.preventDefault(), K.stopPropagation()), ie;
              }
            }, W.i = P.length, P.push(W), "addEventListener" in w && w.addEventListener(r(W.e), W.proxy, a(W, U));
          });
        }
        function s(w, x, D, M, B) {
          var R = o(w);
          (x || "").split(/\s/).forEach(function(U) {
            i(w, U, D, M).forEach(function(O) {
              delete C[R][O.i], "removeEventListener" in w && w.removeEventListener(r(O.e), O.proxy, a(O, B));
            });
          });
        }
        function l(w, x) {
          if (x || !w.isDefaultPrevented) {
            x || (x = w), n.each(T, function(D, M) {
              var B = x[D];
              w[D] = function() {
                return this[M] = j, B && B.apply(x, arguments);
              }, w[M] = F;
            });
            try {
              w.timeStamp || (w.timeStamp = Date.now());
            } catch {
            }
            (x.defaultPrevented !== p ? x.defaultPrevented : "returnValue" in x ? x.returnValue === !1 : x.getPreventDefault && x.getPreventDefault()) && (w.isDefaultPrevented = j);
          }
          return w;
        }
        function f(w) {
          var x, D = { originalEvent: w };
          for (x in w)
            E.test(x) || w[x] === p || (D[x] = w[x]);
          return l(D, w);
        }
        var p, m = 1, g = Array.prototype.slice, k = n.isFunction, y = function(w) {
          return typeof w == "string";
        }, C = {}, _ = {}, I = "onfocusin" in e, N = { focus: "focusin", blur: "focusout" }, A = { mouseenter: "mouseover", mouseleave: "mouseout" };
        _.click = _.mousedown = _.mouseup = _.mousemove = "MouseEvents", n.event = { add: d, remove: s }, n.proxy = function(w, x) {
          var D = 2 in arguments && g.call(arguments, 2);
          if (k(w)) {
            var M = function() {
              return w.apply(x, D ? D.concat(g.call(arguments)) : arguments);
            };
            return M._zid = o(w), M;
          }
          if (y(x))
            return D ? (D.unshift(w[x], w), n.proxy.apply(null, D)) : n.proxy(w[x], w);
          throw new TypeError("expected function");
        }, n.fn.bind = function(w, x, D) {
          return this.on(w, x, D);
        }, n.fn.unbind = function(w, x) {
          return this.off(w, x);
        }, n.fn.one = function(w, x, D, M) {
          return this.on(w, x, D, M, 1);
        };
        var j = function() {
          return !0;
        }, F = function() {
          return !1;
        }, E = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/, T = { preventDefault: "isDefaultPrevented", stopImmediatePropagation: "isImmediatePropagationStopped", stopPropagation: "isPropagationStopped" };
        n.fn.delegate = function(w, x, D) {
          return this.on(x, w, D);
        }, n.fn.undelegate = function(w, x, D) {
          return this.off(x, w, D);
        }, n.fn.live = function(w, x) {
          return n(document.body).delegate(this.selector, w, x), this;
        }, n.fn.die = function(w, x) {
          return n(document.body).undelegate(this.selector, w, x), this;
        }, n.fn.on = function(w, x, D, M, B) {
          var R, U, O = this;
          return w && !y(w) ? (n.each(w, function(P, H) {
            O.on(P, x, D, H, B);
          }), O) : (y(x) || k(M) || M === !1 || (M = D, D = x, x = p), (M === p || D === !1) && (M = D, D = p), M === !1 && (M = F), O.each(function(P, H) {
            B && (R = function(W) {
              return s(H, W.type, M), M.apply(this, arguments);
            }), x && (U = function(W) {
              var ae, K = n(W.target).closest(x, H).get(0);
              return K && K !== H ? (ae = n.extend(f(W), { currentTarget: K, liveFired: H }), (R || M).apply(K, [ae].concat(g.call(arguments, 1)))) : void 0;
            }), d(H, w, M, D, x, U || R);
          }));
        }, n.fn.off = function(w, x, D) {
          var M = this;
          return w && !y(w) ? (n.each(w, function(B, R) {
            M.off(B, x, R);
          }), M) : (y(x) || k(D) || D === !1 || (D = x, x = p), D === !1 && (D = F), M.each(function() {
            s(this, w, D, x);
          }));
        }, n.fn.trigger = function(w, x) {
          return w = y(w) || n.isPlainObject(w) ? n.Event(w) : l(w), w._args = x, this.each(function() {
            w.type in N && typeof this[w.type] == "function" ? this[w.type]() : "dispatchEvent" in this ? this.dispatchEvent(w) : n(this).triggerHandler(w, x);
          });
        }, n.fn.triggerHandler = function(w, x) {
          var D, M;
          return this.each(function(B, R) {
            D = f(y(w) ? n.Event(w) : w), D._args = x, D.target = R, n.each(i(R, w.type || w), function(U, O) {
              return M = O.proxy(D), D.isImmediatePropagationStopped() ? !1 : void 0;
            });
          }), M;
        }, "focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(w) {
          n.fn[w] = function(x) {
            return 0 in arguments ? this.bind(w, x) : this.trigger(w);
          };
        }), n.Event = function(w, x) {
          y(w) || (x = w, w = x.type);
          var D = document.createEvent(_[w] || "Events"), M = !0;
          if (x)
            for (var B in x)
              B == "bubbles" ? M = !!x[B] : D[B] = x[B];
          return D.initEvent(w, M, !0), l(D);
        };
      }(t), function(n) {
        function o(u) {
          var c = [["resolve", "done", n.Callbacks({ once: 1, memory: 1 }), "resolved"], ["reject", "fail", n.Callbacks({ once: 1, memory: 1 }), "rejected"], ["notify", "progress", n.Callbacks({ memory: 1 })]], a = "pending", r = { state: function() {
            return a;
          }, always: function() {
            return d.done(arguments).fail(arguments), this;
          }, then: function() {
            var s = arguments;
            return o(function(l) {
              n.each(c, function(f, p) {
                var m = n.isFunction(s[f]) && s[f];
                d[p[1]](function() {
                  var g = m && m.apply(this, arguments);
                  if (g && n.isFunction(g.promise))
                    g.promise().done(l.resolve).fail(l.reject).progress(l.notify);
                  else {
                    var k = this === r ? l.promise() : this, y = m ? [g] : arguments;
                    l[p[0] + "With"](k, y);
                  }
                });
              }), s = null;
            }).promise();
          }, promise: function(s) {
            return s != null ? n.extend(s, r) : r;
          } }, d = {};
          return n.each(c, function(s, l) {
            var f = l[2], p = l[3];
            r[l[1]] = f.add, p && f.add(function() {
              a = p;
            }, c[1 ^ s][2].disable, c[2][2].lock), d[l[0]] = function() {
              return d[l[0] + "With"](this === d ? r : this, arguments), this;
            }, d[l[0] + "With"] = f.fireWith;
          }), r.promise(d), u && u.call(d, d), d;
        }
        var i = Array.prototype.slice;
        n.when = function(u) {
          var c, a, r, d = i.call(arguments), s = d.length, l = 0, f = s !== 1 || u && n.isFunction(u.promise) ? s : 0, p = f === 1 ? u : o(), m = function(g, k, y) {
            return function(C) {
              k[g] = this, y[g] = arguments.length > 1 ? i.call(arguments) : C, y === c ? p.notifyWith(k, y) : --f || p.resolveWith(k, y);
            };
          };
          if (s > 1)
            for (c = new Array(s), a = new Array(s), r = new Array(s); s > l; ++l)
              d[l] && n.isFunction(d[l].promise) ? d[l].promise().done(m(l, r, d)).fail(p.reject).progress(m(l, a, c)) : --f;
          return f || p.resolveWith(r, d), p.promise();
        }, n.Deferred = o;
      }(t), function(n) {
        n.Callbacks = function(o) {
          o = n.extend({}, o);
          var i, u, c, a, r, d, s = [], l = !o.once && [], f = function(m) {
            for (i = o.memory && m, u = !0, d = a || 0, a = 0, r = s.length, c = !0; s && r > d; ++d)
              if (s[d].apply(m[0], m[1]) === !1 && o.stopOnFalse) {
                i = !1;
                break;
              }
            c = !1, s && (l ? l.length && f(l.shift()) : i ? s.length = 0 : p.disable());
          }, p = { add: function() {
            if (s) {
              var m = s.length, g = function(k) {
                n.each(k, function(y, C) {
                  typeof C == "function" ? o.unique && p.has(C) || s.push(C) : C && C.length && typeof C != "string" && g(C);
                });
              };
              g(arguments), c ? r = s.length : i && (a = m, f(i));
            }
            return this;
          }, remove: function() {
            return s && n.each(arguments, function(m, g) {
              for (var k; (k = n.inArray(g, s, k)) > -1; )
                s.splice(k, 1), c && (r >= k && --r, d >= k && --d);
            }), this;
          }, has: function(m) {
            return !(!s || !(m ? n.inArray(m, s) > -1 : s.length));
          }, empty: function() {
            return r = s.length = 0, this;
          }, disable: function() {
            return s = l = i = void 0, this;
          }, disabled: function() {
            return !s;
          }, lock: function() {
            return l = void 0, i || p.disable(), this;
          }, locked: function() {
            return !l;
          }, fireWith: function(m, g) {
            return !s || u && !l || (g = g || [], g = [m, g.slice ? g.slice() : g], c ? l.push(g) : f(g)), this;
          }, fire: function() {
            return p.fireWith(this, arguments);
          }, fired: function() {
            return !!u;
          } };
          return p;
        };
      }(t), t;
    }), function(e, t) {
      var n, o = {}, i = function(s, l) {
        var f, p, m;
        if (typeof s == "string")
          return a(s);
        for (f = [], p = s.length, m = 0; p > m; m++)
          f.push(a(s[m]));
        return l.apply(null, f);
      }, u = function(s, l, f) {
        arguments.length === 2 && (f = l, l = null), i(l || [], function() {
          c(s, f, arguments);
        });
      }, c = function(s, l, f) {
        var p, m = { exports: l };
        typeof l == "function" && (f.length || (f = [i, m.exports, m]), p = l.apply(null, f), p !== void 0 && (m.exports = p)), o[s] = m.exports;
      }, a = function(s) {
        var l = o[s] || e[s];
        if (!l)
          throw new Error("`" + s + "` is undefined");
        return l;
      }, r = function(s) {
        var l, f, p, m, g, k;
        k = function(y) {
          return y && y.charAt(0).toUpperCase() + y.substr(1);
        };
        for (l in o)
          if (f = s, o.hasOwnProperty(l)) {
            for (p = l.split("/"), g = k(p.pop()); m = k(p.shift()); )
              f[m] = f[m] || {}, f = f[m];
            f[g] = o[l];
          }
        return s;
      }, d = function(s) {
        return e.__dollar = s, r(t(e, u, i));
      };
      n = e.WebUploader, e.WebUploader = d(), e.WebUploader.noConflict = function() {
        e.WebUploader = n;
      };
    }(window, function(e, t, n) {
      return t("dollar-third", [], function() {
        var o = e.require, i = e.__dollar || e.jQuery || e.Zepto || o("jquery") || o("zepto");
        if (!i)
          throw new Error("jQuery or Zepto not found!");
        return i;
      }), t("dollar", ["dollar-third"], function(o) {
        return o;
      }), t("promise-third", ["dollar"], function(o) {
        return { Deferred: o.Deferred, when: o.when, isPromise: function(i) {
          return i && typeof i.then == "function";
        } };
      }), t("promise", ["promise-third"], function(o) {
        return o;
      }), t("base", ["dollar", "promise"], function(o, i) {
        function u(s) {
          return function() {
            return d.apply(s, arguments);
          };
        }
        function c(s, l) {
          return function() {
            return s.apply(l, arguments);
          };
        }
        function a(s) {
          var l;
          return Object.create ? Object.create(s) : (l = function() {
          }, l.prototype = s, new l());
        }
        var r = function() {
        }, d = Function.call;
        return { version: "0.1.8-alpha", $: o, Deferred: i.Deferred, isPromise: i.isPromise, when: i.when, browser: function(s) {
          var l = {}, f = s.match(/WebKit\/([\d.]+)/), p = s.match(/Chrome\/([\d.]+)/) || s.match(/CriOS\/([\d.]+)/), m = s.match(/MSIE\s([\d\.]+)/) || s.match(/(?:trident)(?:.*rv:([\w.]+))?/i), g = s.match(/Firefox\/([\d.]+)/), k = s.match(/Safari\/([\d.]+)/), y = s.match(/OPR\/([\d.]+)/);
          return f && (l.webkit = parseFloat(f[1])), p && (l.chrome = parseFloat(p[1])), m && (l.ie = parseFloat(m[1])), g && (l.firefox = parseFloat(g[1])), k && (l.safari = parseFloat(k[1])), y && (l.opera = parseFloat(y[1])), l;
        }(navigator.userAgent), os: function(s) {
          var l = {}, f = s.match(/(?:Android);?[\s\/]+([\d.]+)?/), p = s.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);
          return f && (l.android = parseFloat(f[1])), p && (l.ios = parseFloat(p[1].replace(/_/g, "."))), l;
        }(navigator.userAgent), inherits: function(s, l, f) {
          var p;
          return typeof l == "function" ? (p = l, l = null) : p = l && l.hasOwnProperty("constructor") ? l.constructor : function() {
            return s.apply(this, arguments);
          }, o.extend(!0, p, s, f || {}), p.__super__ = s.prototype, p.prototype = a(s.prototype), l && o.extend(!0, p.prototype, l), p;
        }, noop: r, bindFn: c, log: function() {
          return e.console ? c(console.log, console) : r;
        }(), nextTick: function() {
          return function(s) {
            setTimeout(s, 1);
          };
        }(), slice: u([].slice), guid: function() {
          var s = 0;
          return function(l) {
            for (var f = (+new Date()).toString(32), p = 0; 5 > p; p++)
              f += Math.floor(65535 * Math.random()).toString(32);
            return (l || "wu_") + f + (s++).toString(32);
          };
        }(), formatSize: function(s, l, f) {
          var p;
          for (f = f || ["B", "K", "M", "G", "TB"]; (p = f.shift()) && s > 1024; )
            s /= 1024;
          return (p === "B" ? s : s.toFixed(l || 2)) + p;
        } };
      }), t("mediator", ["base"], function(o) {
        function i(l, f, p, m) {
          return r.grep(l, function(g) {
            return !(!g || f && g.e !== f || p && g.cb !== p && g.cb._cb !== p || m && g.ctx !== m);
          });
        }
        function u(l, f, p) {
          r.each((l || "").split(s), function(m, g) {
            p(g, f);
          });
        }
        function c(l, f) {
          for (var p, m = !1, g = -1, k = l.length; ++g < k; )
            if (p = l[g], p.cb.apply(p.ctx2, f) === !1) {
              m = !0;
              break;
            }
          return !m;
        }
        var a, r = o.$, d = [].slice, s = /\s+/;
        return a = { on: function(l, f, p) {
          var m, g = this;
          return f ? (m = this._events || (this._events = []), u(l, f, function(k, y) {
            var C = { e: k };
            C.cb = y, C.ctx = p, C.ctx2 = p || g, C.id = m.length, m.push(C);
          }), this) : this;
        }, once: function(l, f, p) {
          var m = this;
          return f && u(l, f, function(g, k) {
            var y = function() {
              return m.off(g, y), k.apply(p || m, arguments);
            };
            y._cb = k, m.on(g, y, p);
          }), m;
        }, off: function(l, f, p) {
          var m = this._events;
          return m ? l || f || p ? (u(l, f, function(g, k) {
            r.each(i(m, g, k, p), function() {
              delete m[this.id];
            });
          }), this) : (this._events = [], this) : this;
        }, trigger: function(l) {
          var f, p, m;
          return this._events && l ? (f = d.call(arguments, 1), p = i(this._events, l), m = i(this._events, "all"), c(p, f) && c(m, arguments)) : this;
        } }, r.extend({ installTo: function(l) {
          return r.extend(l, a);
        } }, a);
      }), t("uploader", ["base", "mediator"], function(o, i) {
        function u(a) {
          this.options = c.extend(!0, {}, u.options, a), this._init(this.options);
        }
        var c = o.$;
        return u.options = {}, i.installTo(u.prototype), c.each({ upload: "start-upload", stop: "stop-upload", getFile: "get-file", getFiles: "get-files", addFile: "add-file", addFiles: "add-file", sort: "sort-files", removeFile: "remove-file", cancelFile: "cancel-file", skipFile: "skip-file", retry: "retry", isInProgress: "is-in-progress", makeThumb: "make-thumb", md5File: "md5-file", getDimension: "get-dimension", addButton: "add-btn", predictRuntimeType: "predict-runtime-type", refresh: "refresh", disable: "disable", enable: "enable", reset: "reset" }, function(a, r) {
          u.prototype[a] = function() {
            return this.request(r, arguments);
          };
        }), c.extend(u.prototype, { state: "pending", _init: function(a) {
          var r = this;
          r.request("init", a, function() {
            r.state = "ready", r.trigger("ready");
          });
        }, option: function(a, r) {
          var d = this.options;
          return arguments.length > 1 ? void (c.isPlainObject(r) && c.isPlainObject(d[a]) ? c.extend(d[a], r) : d[a] = r) : a ? d[a] : d;
        }, getStats: function() {
          var a = this.request("get-stats");
          return a ? { successNum: a.numOfSuccess, progressNum: a.numOfProgress, cancelNum: a.numOfCancel, invalidNum: a.numOfInvalid, uploadFailNum: a.numOfUploadFailed, queueNum: a.numOfQueue, interruptNum: a.numOfInterrupt } : {};
        }, trigger: function(a) {
          var r = [].slice.call(arguments, 1), d = this.options, s = "on" + a.substring(0, 1).toUpperCase() + a.substring(1);
          return !(i.trigger.apply(this, arguments) === !1 || c.isFunction(d[s]) && d[s].apply(this, r) === !1 || c.isFunction(this[s]) && this[s].apply(this, r) === !1 || i.trigger.apply(i, [this, a].concat(r)) === !1);
        }, destroy: function() {
          this.request("destroy", arguments), this.off();
        }, request: o.noop }), o.create = u.create = function(a) {
          return new u(a);
        }, o.Uploader = u, u;
      }), t("runtime/runtime", ["base", "mediator"], function(o, i) {
        function u(d) {
          this.options = c.extend({ container: document.body }, d), this.uid = o.guid("rt_");
        }
        var c = o.$, a = {}, r = function(d) {
          for (var s in d)
            if (d.hasOwnProperty(s))
              return s;
          return null;
        };
        return c.extend(u.prototype, { getContainer: function() {
          var d, s, l = this.options;
          return this._container ? this._container : (d = c(l.container || document.body), s = c(document.createElement("div")), s.attr("id", "rt_" + this.uid), s.css({ position: "absolute", top: "0px", left: "0px", width: "1px", height: "1px", overflow: "hidden", cursor: "pointer", lineHeight: "0" }), d.append(s), d.addClass("webuploader-container"), this._container = s, this._parent = d, s);
        }, init: o.noop, exec: o.noop, destroy: function() {
          this._container && this._container.remove(), this._parent && this._parent.removeClass("webuploader-container"), this.off();
        } }), u.orders = "html5,flash", u.addRuntime = function(d, s) {
          a[d] = s;
        }, u.hasRuntime = function(d) {
          return !!(d ? a[d] : r(a));
        }, u.create = function(d, s) {
          var l;
          if (s = s || u.orders, c.each(s.split(/\s*,\s*/g), function() {
            return a[this] ? (l = this, !1) : void 0;
          }), l = l || r(a), !l)
            throw new Error("Runtime Error");
          return new a[l](d);
        }, i.installTo(u.prototype), u;
      }), t("runtime/client", ["base", "mediator", "runtime/runtime"], function(o, i, u) {
        function c(r, d) {
          var s, l = o.Deferred();
          this.uid = o.guid("client_"), this.runtimeReady = function(f) {
            return l.done(f);
          }, this.connectRuntime = function(f, p) {
            if (s)
              throw new Error("already connected!");
            return l.done(p), typeof f == "string" && a.get(f) && (s = a.get(f)), s = s || a.get(null, d), s ? (o.$.extend(s.options, f), s.__promise.then(l.resolve), s.__client++) : (s = u.create(f, f.runtimeOrder), s.__promise = l.promise(), s.once("ready", l.resolve), s.init(), a.add(s), s.__client = 1), d && (s.__standalone = d), s;
          }, this.getRuntime = function() {
            return s;
          }, this.disconnectRuntime = function() {
            s && (s.__client--, s.__client <= 0 && (a.remove(s), delete s.__promise, s.destroy()), s = null);
          }, this.exec = function() {
            if (s) {
              var f = o.slice(arguments);
              return r && f.unshift(r), s.exec.apply(this, f);
            }
          }, this.getRuid = function() {
            return s && s.uid;
          }, this.destroy = function(f) {
            return function() {
              f && f.apply(this, arguments), this.trigger("destroy"), this.off(), this.exec("destroy"), this.disconnectRuntime();
            };
          }(this.destroy);
        }
        var a;
        return a = function() {
          var r = {};
          return { add: function(d) {
            r[d.uid] = d;
          }, get: function(d, s) {
            var l;
            if (d)
              return r[d];
            for (l in r)
              if (!s || !r[l].__standalone)
                return r[l];
            return null;
          }, remove: function(d) {
            delete r[d.uid];
          } };
        }(), i.installTo(c.prototype), c;
      }), t("lib/dnd", ["base", "mediator", "runtime/client"], function(o, i, u) {
        function c(r) {
          r = this.options = a.extend({}, c.options, r), r.container = a(r.container), r.container.length && u.call(this, "DragAndDrop");
        }
        var a = o.$;
        return c.options = { accept: null, disableGlobalDnd: !1 }, o.inherits(u, { constructor: c, init: function() {
          var r = this;
          r.connectRuntime(r.options, function() {
            r.exec("init"), r.trigger("ready");
          });
        } }), i.installTo(c.prototype), c;
      }), t("widgets/widget", ["base", "uploader"], function(o, i) {
        function u(f) {
          if (!f)
            return !1;
          var p = f.length, m = a.type(f);
          return f.nodeType === 1 && p ? !0 : m === "array" || m !== "function" && m !== "string" && (p === 0 || typeof p == "number" && p > 0 && p - 1 in f);
        }
        function c(f) {
          this.owner = f, this.options = f.options;
        }
        var a = o.$, r = i.prototype._init, d = i.prototype.destroy, s = {}, l = [];
        return a.extend(c.prototype, { init: o.noop, invoke: function(f, p) {
          var m = this.responseMap;
          return m && f in m && m[f] in this && a.isFunction(this[m[f]]) ? this[m[f]].apply(this, p) : s;
        }, request: function() {
          return this.owner.request.apply(this.owner, arguments);
        } }), a.extend(i.prototype, { _init: function() {
          var f = this, p = f._widgets = [], m = f.options.disableWidgets || "";
          return a.each(l, function(g, k) {
            (!m || !~m.indexOf(k._name)) && p.push(new k(f));
          }), r.apply(f, arguments);
        }, request: function(f, p, m) {
          var g, k, y, C, _ = 0, I = this._widgets, N = I && I.length, A = [], j = [];
          for (p = u(p) ? p : [p]; N > _; _++)
            g = I[_], k = g.invoke(f, p), k !== s && (o.isPromise(k) ? j.push(k) : A.push(k));
          return m || j.length ? (y = o.when.apply(o, j), C = y.pipe ? "pipe" : "then", y[C](function() {
            var F = o.Deferred(), E = arguments;
            return E.length === 1 && (E = E[0]), setTimeout(function() {
              F.resolve(E);
            }, 1), F.promise();
          })[m ? C : "done"](m || o.noop)) : A[0];
        }, destroy: function() {
          d.apply(this, arguments), this._widgets = null;
        } }), i.register = c.register = function(f, p) {
          var m, g = { init: "init", destroy: "destroy", name: "anonymous" };
          return arguments.length === 1 ? (p = f, a.each(p, function(k) {
            return k[0] === "_" || k === "name" ? void (k === "name" && (g.name = p.name)) : void (g[k.replace(/[A-Z]/g, "-$&").toLowerCase()] = k);
          })) : g = a.extend(g, f), p.responseMap = g, m = o.inherits(c, p), m._name = g.name, l.push(m), m;
        }, i.unRegister = c.unRegister = function(f) {
          if (f && f !== "anonymous")
            for (var p = l.length; p--; )
              l[p]._name === f && l.splice(p, 1);
        }, c;
      }), t("widgets/filednd", ["base", "uploader", "lib/dnd", "widgets/widget"], function(o, i, u) {
        var c = o.$;
        return i.options.dnd = "", i.register({ name: "dnd", init: function(a) {
          if (a.dnd && this.request("predict-runtime-type") === "html5") {
            var r, d = this, s = o.Deferred(), l = c.extend({}, { disableGlobalDnd: a.disableGlobalDnd, container: a.dnd, accept: a.accept });
            return this.dnd = r = new u(l), r.once("ready", s.resolve), r.on("drop", function(f) {
              d.request("add-file", [f]);
            }), r.on("accept", function(f) {
              return d.owner.trigger("dndAccept", f);
            }), r.init(), s.promise();
          }
        }, destroy: function() {
          this.dnd && this.dnd.destroy();
        } });
      }), t("lib/filepaste", ["base", "mediator", "runtime/client"], function(o, i, u) {
        function c(r) {
          r = this.options = a.extend({}, r), r.container = a(r.container || document.body), u.call(this, "FilePaste");
        }
        var a = o.$;
        return o.inherits(u, { constructor: c, init: function() {
          var r = this;
          r.connectRuntime(r.options, function() {
            r.exec("init"), r.trigger("ready");
          });
        } }), i.installTo(c.prototype), c;
      }), t("widgets/filepaste", ["base", "uploader", "lib/filepaste", "widgets/widget"], function(o, i, u) {
        var c = o.$;
        return i.register({ name: "paste", init: function(a) {
          if (a.paste && this.request("predict-runtime-type") === "html5") {
            var r, d = this, s = o.Deferred(), l = c.extend({}, { container: a.paste, accept: a.accept });
            return this.paste = r = new u(l), r.once("ready", s.resolve), r.on("paste", function(f) {
              d.owner.request("add-file", [f]);
            }), r.init(), s.promise();
          }
        }, destroy: function() {
          this.paste && this.paste.destroy();
        } });
      }), t("lib/blob", ["base", "runtime/client"], function(o, i) {
        function u(c, a) {
          var r = this;
          r.source = a, r.ruid = c, this.size = a.size || 0, this.type = !a.type && this.ext && ~"jpg,jpeg,png,gif,bmp".indexOf(this.ext) ? "image/" + (this.ext === "jpg" ? "jpeg" : this.ext) : a.type || "application/octet-stream", i.call(r, "Blob"), this.uid = a.uid || this.uid, c && r.connectRuntime(c);
        }
        return o.inherits(i, { constructor: u, slice: function(c, a) {
          return this.exec("slice", c, a);
        }, getSource: function() {
          return this.source;
        } }), u;
      }), t("lib/file", ["base", "lib/blob"], function(o, i) {
        function u(r, d) {
          var s;
          this.name = d.name || "untitled" + c++, s = a.exec(d.name) ? RegExp.$1.toLowerCase() : "", !s && d.type && (s = /\/(jpg|jpeg|png|gif|bmp)$/i.exec(d.type) ? RegExp.$1.toLowerCase() : "", this.name += "." + s), this.ext = s, this.lastModifiedDate = d.lastModifiedDate || d.lastModified && new Date(d.lastModified).toLocaleString() || new Date().toLocaleString(), i.apply(this, arguments);
        }
        var c = 1, a = /\.([^.]+)$/;
        return o.inherits(i, u);
      }), t("lib/filepicker", ["base", "runtime/client", "lib/file"], function(o, i, u) {
        function c(r) {
          if (r = this.options = a.extend({}, c.options, r), r.container = a(r.id), !r.container.length)
            throw new Error("\u6309\u94AE\u6307\u5B9A\u9519\u8BEF");
          r.innerHTML = r.innerHTML || r.label || r.container.html() || "", r.button = a(r.button || document.createElement("div")), r.button.html(r.innerHTML), r.container.html(r.button), i.call(this, "FilePicker", !0);
        }
        var a = o.$;
        return c.options = { button: null, container: null, label: null, innerHTML: null, multiple: !0, accept: null, name: "file", style: "webuploader-pick" }, o.inherits(i, { constructor: c, init: function() {
          var r = this, d = r.options, s = d.button, l = d.style;
          l && s.addClass("webuploader-pick"), r.on("all", function(f) {
            var p;
            switch (f) {
              case "mouseenter":
                l && s.addClass("webuploader-pick-hover");
                break;
              case "mouseleave":
                l && s.removeClass("webuploader-pick-hover");
                break;
              case "change":
                p = r.exec("getFiles"), r.trigger("select", a.map(p, function(m) {
                  return m = new u(r.getRuid(), m), m._refer = d.container, m;
                }), d.container);
            }
          }), r.connectRuntime(d, function() {
            r.refresh(), r.exec("init", d), r.trigger("ready");
          }), this._resizeHandler = o.bindFn(this.refresh, this), a(e).on("resize", this._resizeHandler);
        }, refresh: function() {
          var r = this.getRuntime().getContainer(), d = this.options.button, s = d[0] && d[0].offsetWidth || d.outerWidth() || d.width(), l = d[0] && d[0].offsetHeight || d.outerHeight() || d.height(), f = d.offset();
          s && l && r.css({ bottom: "auto", right: "auto", width: s + "px", height: l + "px" }).offset(f);
        }, enable: function() {
          var r = this.options.button;
          r.removeClass("webuploader-pick-disable"), this.refresh();
        }, disable: function() {
          var r = this.options.button;
          this.getRuntime().getContainer().css({ top: "-99999px" }), r.addClass("webuploader-pick-disable");
        }, destroy: function() {
          var r = this.options.button;
          a(e).off("resize", this._resizeHandler), r.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick");
        } }), c;
      }), t("widgets/filepicker", ["base", "uploader", "lib/filepicker", "widgets/widget"], function(o, i, u) {
        var c = o.$;
        return c.extend(i.options, { pick: null, accept: null }), i.register({ name: "picker", init: function(a) {
          return this.pickers = [], a.pick && this.addBtn(a.pick);
        }, refresh: function() {
          c.each(this.pickers, function() {
            this.refresh();
          });
        }, addBtn: function(a) {
          var r = this, d = r.options, s = d.accept, l = [];
          return a ? (c.isPlainObject(a) || (a = { id: a }), c(a.id).each(function() {
            var f, p, m;
            m = o.Deferred(), f = c.extend({}, a, { accept: c.isPlainObject(s) ? [s] : s, swf: d.swf, runtimeOrder: d.runtimeOrder, id: this }), p = new u(f), p.once("ready", m.resolve), p.on("select", function(g) {
              r.owner.request("add-file", [g]);
            }), p.on("dialogopen", function() {
              r.owner.trigger("dialogOpen", p.button);
            }), p.init(), r.pickers.push(p), l.push(m.promise());
          }), o.when.apply(o, l)) : void 0;
        }, disable: function() {
          c.each(this.pickers, function() {
            this.disable();
          });
        }, enable: function() {
          c.each(this.pickers, function() {
            this.enable();
          });
        }, destroy: function() {
          c.each(this.pickers, function() {
            this.destroy();
          }), this.pickers = null;
        } });
      }), t("lib/image", ["base", "runtime/client", "lib/blob"], function(o, i, u) {
        function c(r) {
          this.options = a.extend({}, c.options, r), i.call(this, "Image"), this.on("load", function() {
            this._info = this.exec("info"), this._meta = this.exec("meta");
          });
        }
        var a = o.$;
        return c.options = { quality: 90, crop: !1, preserveHeaders: !1, allowMagnify: !1 }, o.inherits(i, { constructor: c, info: function(r) {
          return r ? (this._info = r, this) : this._info;
        }, meta: function(r) {
          return r ? (this._meta = r, this) : this._meta;
        }, loadFromBlob: function(r) {
          var d = this, s = r.getRuid();
          this.connectRuntime(s, function() {
            d.exec("init", d.options), d.exec("loadFromBlob", r);
          });
        }, resize: function() {
          var r = o.slice(arguments);
          return this.exec.apply(this, ["resize"].concat(r));
        }, crop: function() {
          var r = o.slice(arguments);
          return this.exec.apply(this, ["crop"].concat(r));
        }, getAsDataUrl: function(r) {
          return this.exec("getAsDataUrl", r);
        }, getAsBlob: function(r) {
          var d = this.exec("getAsBlob", r);
          return new u(this.getRuid(), d);
        } }), c;
      }), t("widgets/image", ["base", "uploader", "lib/image", "widgets/widget"], function(o, i, u) {
        var c, a = o.$;
        return c = function(r) {
          var d = 0, s = [], l = function() {
            for (var f; s.length && r > d; )
              f = s.shift(), d += f[0], f[1]();
          };
          return function(f, p, m) {
            s.push([p, m]), f.once("destroy", function() {
              d -= p, setTimeout(l, 1);
            }), setTimeout(l, 1);
          };
        }(5242880), a.extend(i.options, { thumb: { width: 110, height: 110, quality: 70, allowMagnify: !0, crop: !0, preserveHeaders: !1, type: "image/jpeg" }, compress: { width: 1600, height: 1600, quality: 90, allowMagnify: !1, crop: !1, preserveHeaders: !0 } }), i.register({ name: "image", makeThumb: function(r, d, s, l) {
          var f, p;
          return r = this.request("get-file", r), r.type.match(/^image/) ? (f = a.extend({}, this.options.thumb), a.isPlainObject(s) && (f = a.extend(f, s), s = null), s = s || f.width, l = l || f.height, p = new u(f), p.once("load", function() {
            r._info = r._info || p.info(), r._meta = r._meta || p.meta(), 1 >= s && s > 0 && (s = r._info.width * s), 1 >= l && l > 0 && (l = r._info.height * l), p.resize(s, l);
          }), p.once("complete", function() {
            d(!1, p.getAsDataUrl(f.type)), p.destroy();
          }), p.once("error", function(m) {
            d(m || !0), p.destroy();
          }), void c(p, r.source.size, function() {
            r._info && p.info(r._info), r._meta && p.meta(r._meta), p.loadFromBlob(r.source);
          })) : void d(!0);
        }, beforeSendFile: function(r) {
          var d, s, l = this.options.compress || this.options.resize, f = l && l.compressSize || 0, p = l && l.noCompressIfLarger || !1;
          return r = this.request("get-file", r), !l || !~"image/jpeg,image/jpg".indexOf(r.type) || r.size < f || r._compressed ? void 0 : (l = a.extend({}, l), s = o.Deferred(), d = new u(l), s.always(function() {
            d.destroy(), d = null;
          }), d.once("error", s.reject), d.once("load", function() {
            var m = l.width, g = l.height;
            r._info = r._info || d.info(), r._meta = r._meta || d.meta(), 1 >= m && m > 0 && (m = r._info.width * m), 1 >= g && g > 0 && (g = r._info.height * g), d.resize(m, g);
          }), d.once("complete", function() {
            var m, g;
            try {
              m = d.getAsBlob(l.type), g = r.size, (!p || m.size < g) && (r.source = m, r.size = m.size, r.trigger("resize", m.size, g)), r._compressed = !0, s.resolve();
            } catch {
              s.resolve();
            }
          }), r._info && d.info(r._info), r._meta && d.meta(r._meta), d.loadFromBlob(r.source), s.promise());
        } });
      }), t("file", ["base", "mediator"], function(o, i) {
        function u() {
          return r + d++;
        }
        function c(f) {
          this.name = f.name || "Untitled", this.size = f.size || 0, this.type = f.type || "application/octet-stream", this.lastModifiedDate = f.lastModifiedDate || 1 * new Date(), this.id = u(), this.ext = s.exec(this.name) ? RegExp.$1 : "", this.statusText = "", l[this.id] = c.Status.INITED, this.source = f, this.loaded = 0, this.on("error", function(p) {
            this.setStatus(c.Status.ERROR, p);
          });
        }
        var a = o.$, r = "WU_FILE_", d = 0, s = /\.([^.]+)$/, l = {};
        return a.extend(c.prototype, { setStatus: function(f, p) {
          var m = l[this.id];
          typeof p < "u" && (this.statusText = p), f !== m && (l[this.id] = f, this.trigger("statuschange", f, m));
        }, getStatus: function() {
          return l[this.id];
        }, getSource: function() {
          return this.source;
        }, destroy: function() {
          this.off(), delete l[this.id];
        } }), i.installTo(c.prototype), c.Status = { INITED: "inited", QUEUED: "queued", PROGRESS: "progress", ERROR: "error", COMPLETE: "complete", CANCELLED: "cancelled", INTERRUPT: "interrupt", INVALID: "invalid" }, c;
      }), t("queue", ["base", "mediator", "file"], function(o, i, u) {
        function c() {
          this.stats = { numOfQueue: 0, numOfSuccess: 0, numOfCancel: 0, numOfProgress: 0, numOfUploadFailed: 0, numOfInvalid: 0, numOfDeleted: 0, numOfInterrupt: 0 }, this._queue = [], this._map = {};
        }
        var a = o.$, r = u.Status;
        return a.extend(c.prototype, { append: function(d) {
          return this._queue.push(d), this._fileAdded(d), this;
        }, prepend: function(d) {
          return this._queue.unshift(d), this._fileAdded(d), this;
        }, getFile: function(d) {
          return typeof d != "string" ? d : this._map[d];
        }, fetch: function(d) {
          var s, l, f = this._queue.length;
          for (d = d || r.QUEUED, s = 0; f > s; s++)
            if (l = this._queue[s], d === l.getStatus())
              return l;
          return null;
        }, sort: function(d) {
          typeof d == "function" && this._queue.sort(d);
        }, getFiles: function() {
          for (var d, s = [].slice.call(arguments, 0), l = [], f = 0, p = this._queue.length; p > f; f++)
            d = this._queue[f], (!s.length || ~a.inArray(d.getStatus(), s)) && l.push(d);
          return l;
        }, removeFile: function(d) {
          var s = this._map[d.id];
          s && (delete this._map[d.id], this._delFile(d), d.destroy(), this.stats.numOfDeleted++);
        }, _fileAdded: function(d) {
          var s = this, l = this._map[d.id];
          l || (this._map[d.id] = d, d.on("statuschange", function(f, p) {
            s._onFileStatusChange(f, p);
          }));
        }, _delFile: function(d) {
          for (var s = this._queue.length - 1; s >= 0; s--)
            if (this._queue[s] == d) {
              this._queue.splice(s, 1);
              break;
            }
        }, _onFileStatusChange: function(d, s) {
          var l = this.stats;
          switch (s) {
            case r.PROGRESS:
              l.numOfProgress--;
              break;
            case r.QUEUED:
              l.numOfQueue--;
              break;
            case r.ERROR:
              l.numOfUploadFailed--;
              break;
            case r.INVALID:
              l.numOfInvalid--;
              break;
            case r.INTERRUPT:
              l.numOfInterrupt--;
          }
          switch (d) {
            case r.QUEUED:
              l.numOfQueue++;
              break;
            case r.PROGRESS:
              l.numOfProgress++;
              break;
            case r.ERROR:
              l.numOfUploadFailed++;
              break;
            case r.COMPLETE:
              l.numOfSuccess++;
              break;
            case r.CANCELLED:
              l.numOfCancel++;
              break;
            case r.INVALID:
              l.numOfInvalid++;
              break;
            case r.INTERRUPT:
              l.numOfInterrupt++;
          }
        } }), i.installTo(c.prototype), c;
      }), t("widgets/queue", ["base", "uploader", "queue", "file", "lib/file", "runtime/client", "widgets/widget"], function(o, i, u, c, a, r) {
        var d = o.$, s = /\.\w+$/, l = c.Status;
        return i.register({ name: "queue", init: function(f) {
          var p, m, g, k, y, C, _, I = this;
          if (d.isPlainObject(f.accept) && (f.accept = [f.accept]), f.accept) {
            for (y = [], g = 0, m = f.accept.length; m > g; g++)
              k = f.accept[g].extensions, k && y.push(k);
            y.length && (C = "\\." + y.join(",").replace(/,/g, "$|\\.").replace(/\*/g, ".*") + "$"), I.accept = new RegExp(C, "i");
          }
          return I.queue = new u(), I.stats = I.queue.stats, this.request("predict-runtime-type") === "html5" ? (p = o.Deferred(), this.placeholder = _ = new r("Placeholder"), _.connectRuntime({ runtimeOrder: "html5" }, function() {
            I._ruid = _.getRuid(), p.resolve();
          }), p.promise()) : void 0;
        }, _wrapFile: function(f) {
          if (!(f instanceof c)) {
            if (!(f instanceof a)) {
              if (!this._ruid)
                throw new Error("Can't add external files.");
              f = new a(this._ruid, f);
            }
            f = new c(f);
          }
          return f;
        }, acceptFile: function(f) {
          var p = !f || !f.size || this.accept && s.exec(f.name) && !this.accept.test(f.name);
          return !p;
        }, _addFile: function(f) {
          var p = this;
          return f = p._wrapFile(f), p.owner.trigger("beforeFileQueued", f) ? p.acceptFile(f) ? (p.queue.append(f), p.owner.trigger("fileQueued", f), f) : void p.owner.trigger("error", "Q_TYPE_DENIED", f) : void 0;
        }, getFile: function(f) {
          return this.queue.getFile(f);
        }, addFile: function(f) {
          var p = this;
          f.length || (f = [f]), f = d.map(f, function(m) {
            return p._addFile(m);
          }), f.length && (p.owner.trigger("filesQueued", f), p.options.auto && setTimeout(function() {
            p.request("start-upload");
          }, 20));
        }, getStats: function() {
          return this.stats;
        }, removeFile: function(f, p) {
          var m = this;
          f = f.id ? f : m.queue.getFile(f), this.request("cancel-file", f), p && this.queue.removeFile(f);
        }, getFiles: function() {
          return this.queue.getFiles.apply(this.queue, arguments);
        }, fetchFile: function() {
          return this.queue.fetch.apply(this.queue, arguments);
        }, retry: function(f, p) {
          var m, g, k, y = this;
          if (f)
            return f = f.id ? f : y.queue.getFile(f), f.setStatus(l.QUEUED), void (p || y.request("start-upload"));
          for (m = y.queue.getFiles(l.ERROR), g = 0, k = m.length; k > g; g++)
            f = m[g], f.setStatus(l.QUEUED);
          y.request("start-upload");
        }, sortFiles: function() {
          return this.queue.sort.apply(this.queue, arguments);
        }, reset: function() {
          this.owner.trigger("reset"), this.queue = new u(), this.stats = this.queue.stats;
        }, destroy: function() {
          this.reset(), this.placeholder && this.placeholder.destroy();
        } });
      }), t("widgets/runtime", ["uploader", "runtime/runtime", "widgets/widget"], function(o, i) {
        return o.support = function() {
          return i.hasRuntime.apply(i, arguments);
        }, o.register({ name: "runtime", init: function() {
          if (!this.predictRuntimeType())
            throw Error("Runtime Error");
        }, predictRuntimeType: function() {
          var u, c, a = this.options.runtimeOrder || i.orders, r = this.type;
          if (!r) {
            for (a = a.split(/\s*,\s*/g), u = 0, c = a.length; c > u; u++)
              if (i.hasRuntime(a[u])) {
                this.type = r = a[u];
                break;
              }
          }
          return r;
        } });
      }), t("lib/transport", ["base", "runtime/client", "mediator"], function(o, i, u) {
        function c(r) {
          var d = this;
          r = d.options = a.extend(!0, {}, c.options, r || {}), i.call(this, "Transport"), this._blob = null, this._formData = r.formData || {}, this._headers = r.headers || {}, this.on("progress", this._timeout), this.on("load error", function() {
            d.trigger("progress", 1), clearTimeout(d._timer);
          });
        }
        var a = o.$;
        return c.options = { server: "", method: "POST", withCredentials: !1, fileVal: "file", timeout: 12e4, formData: {}, headers: {}, sendAsBinary: !1 }, a.extend(c.prototype, { appendBlob: function(r, d, s) {
          var l = this, f = l.options;
          l.getRuid() && l.disconnectRuntime(), l.connectRuntime(d.ruid, function() {
            l.exec("init");
          }), l._blob = d, f.fileVal = r || f.fileVal, f.filename = s || f.filename;
        }, append: function(r, d) {
          typeof r == "object" ? a.extend(this._formData, r) : this._formData[r] = d;
        }, setRequestHeader: function(r, d) {
          typeof r == "object" ? a.extend(this._headers, r) : this._headers[r] = d;
        }, send: function(r) {
          this.exec("send", r), this._timeout();
        }, abort: function() {
          return clearTimeout(this._timer), this.exec("abort");
        }, destroy: function() {
          this.trigger("destroy"), this.off(), this.exec("destroy"), this.disconnectRuntime();
        }, getResponseHeaders: function() {
          return this.exec("getResponseHeaders");
        }, getResponse: function() {
          return this.exec("getResponse");
        }, getResponseAsJson: function() {
          return this.exec("getResponseAsJson");
        }, getStatus: function() {
          return this.exec("getStatus");
        }, _timeout: function() {
          var r = this, d = r.options.timeout;
          d && (clearTimeout(r._timer), r._timer = setTimeout(function() {
            r.abort(), r.trigger("error", "timeout");
          }, d));
        } }), u.installTo(c.prototype), c;
      }), t("widgets/upload", ["base", "uploader", "file", "lib/transport", "widgets/widget"], function(o, i, u, c) {
        function a(l, f) {
          var p, m, g = [], k = l.source, y = k.size, C = f ? Math.ceil(y / f) : 1, _ = 0, I = 0;
          for (m = { file: l, has: function() {
            return !!g.length;
          }, shift: function() {
            return g.shift();
          }, unshift: function(N) {
            g.unshift(N);
          } }; C > I; )
            p = Math.min(f, y - _), g.push({ file: l, start: _, end: f ? _ + p : y, total: y, chunks: C, chunk: I++, cuted: m }), _ += p;
          return l.blocks = g.concat(), l.remaning = g.length, m;
        }
        var r = o.$, d = o.isPromise, s = u.Status;
        r.extend(i.options, { prepareNextFile: !1, chunked: !1, chunkSize: 5242880, chunkRetry: 2, chunkRetryDelay: 1e3, threads: 3, formData: {} }), i.register({ name: "upload", init: function() {
          var l = this.owner, f = this;
          this.runing = !1, this.progress = !1, l.on("startUpload", function() {
            f.progress = !0;
          }).on("uploadFinished", function() {
            f.progress = !1;
          }), this.pool = [], this.stack = [], this.pending = [], this.remaning = 0, this.__tick = o.bindFn(this._tick, this), l.on("uploadComplete", function(p) {
            p.blocks && r.each(p.blocks, function(m, g) {
              g.transport && (g.transport.abort(), g.transport.destroy()), delete g.transport;
            }), delete p.blocks, delete p.remaning;
          });
        }, reset: function() {
          this.request("stop-upload", !0), this.runing = !1, this.pool = [], this.stack = [], this.pending = [], this.remaning = 0, this._trigged = !1, this._promise = null;
        }, startUpload: function(l) {
          var f = this;
          if (r.each(f.request("get-files", s.INVALID), function() {
            f.request("remove-file", this);
          }), l ? (l = l.id ? l : f.request("get-file", l), l.getStatus() === s.INTERRUPT ? (l.setStatus(s.QUEUED), r.each(f.pool, function(m, g) {
            g.file === l && (g.transport && g.transport.send(), l.setStatus(s.PROGRESS));
          })) : l.getStatus() !== s.PROGRESS && l.setStatus(s.QUEUED)) : r.each(f.request("get-files", [s.INITED]), function() {
            this.setStatus(s.QUEUED);
          }), f.runing)
            return f.owner.trigger("startUpload", l), o.nextTick(f.__tick);
          f.runing = !0;
          var p = [];
          l || r.each(f.pool, function(m, g) {
            var k = g.file;
            if (k.getStatus() === s.INTERRUPT) {
              if (f._trigged = !1, p.push(k), g.waiting)
                return;
              g.transport ? g.transport.send() : f._doSend(g);
            }
          }), r.each(p, function() {
            this.setStatus(s.PROGRESS);
          }), l || r.each(f.request("get-files", s.INTERRUPT), function() {
            this.setStatus(s.PROGRESS);
          }), f._trigged = !1, o.nextTick(f.__tick), f.owner.trigger("startUpload");
        }, stopUpload: function(l, f) {
          var p = this;
          if (l === !0 && (f = l, l = null), p.runing !== !1) {
            if (l)
              return l = l.id ? l : p.request("get-file", l), l.getStatus() !== s.PROGRESS && l.getStatus() !== s.QUEUED ? void 0 : (l.setStatus(s.INTERRUPT), r.each(p.pool, function(m, g) {
                g.file === l && (g.transport && g.transport.abort(), f && (p._putback(g), p._popBlock(g)));
              }), p.owner.trigger("stopUpload", l), o.nextTick(p.__tick));
            p.runing = !1, this._promise && this._promise.file && this._promise.file.setStatus(s.INTERRUPT), f && r.each(p.pool, function(m, g) {
              g.transport && g.transport.abort(), g.file.setStatus(s.INTERRUPT);
            }), p.owner.trigger("stopUpload");
          }
        }, cancelFile: function(l) {
          l = l.id ? l : this.request("get-file", l), l.blocks && r.each(l.blocks, function(f, p) {
            var m = p.transport;
            m && (m.abort(), m.destroy(), delete p.transport);
          }), l.setStatus(s.CANCELLED), this.owner.trigger("fileDequeued", l);
        }, isInProgress: function() {
          return !!this.progress;
        }, _getStats: function() {
          return this.request("get-stats");
        }, skipFile: function(l, f) {
          l = l.id ? l : this.request("get-file", l), l.setStatus(f || s.COMPLETE), l.skipped = !0, l.blocks && r.each(l.blocks, function(p, m) {
            var g = m.transport;
            g && (g.abort(), g.destroy(), delete m.transport);
          }), this.owner.trigger("uploadSkip", l);
        }, _tick: function() {
          var l, f, p = this, m = p.options;
          return p._promise ? p._promise.always(p.__tick) : void (p.pool.length < m.threads && (f = p._nextBlock()) ? (p._trigged = !1, l = function(g) {
            p._promise = null, g && g.file && p._startSend(g), o.nextTick(p.__tick);
          }, p._promise = d(f) ? f.always(l) : l(f)) : p.remaning || p._getStats().numOfQueue || p._getStats().numOfInterrupt || (p.runing = !1, p._trigged || o.nextTick(function() {
            p.owner.trigger("uploadFinished");
          }), p._trigged = !0));
        }, _putback: function(l) {
          var f;
          l.cuted.unshift(l), f = this.stack.indexOf(l.cuted), ~f || (this.remaning++, l.file.remaning++, this.stack.unshift(l.cuted));
        }, _getStack: function() {
          for (var l, f = 0; l = this.stack[f++]; ) {
            if (l.has() && l.file.getStatus() === s.PROGRESS)
              return l;
            (!l.has() || l.file.getStatus() !== s.PROGRESS && l.file.getStatus() !== s.INTERRUPT) && this.stack.splice(--f, 1);
          }
          return null;
        }, _nextBlock: function() {
          var l, f, p, m, g = this, k = g.options;
          return (l = this._getStack()) ? (k.prepareNextFile && !g.pending.length && g._prepareNextFile(), l.shift()) : g.runing ? (!g.pending.length && g._getStats().numOfQueue && g._prepareNextFile(), f = g.pending.shift(), p = function(y) {
            return y ? (l = a(y, k.chunked ? k.chunkSize : 0), g.stack.push(l), l.shift()) : null;
          }, d(f) ? (m = f.file, f = f[f.pipe ? "pipe" : "then"](p), f.file = m, f) : p(f)) : void 0;
        }, _prepareNextFile: function() {
          var l, f = this, p = f.request("fetch-file"), m = f.pending;
          p && (l = f.request("before-send-file", p, function() {
            return p.getStatus() === s.PROGRESS || p.getStatus() === s.INTERRUPT ? p : f._finishFile(p);
          }), f.owner.trigger("uploadStart", p), p.setStatus(s.PROGRESS), l.file = p, l.done(function() {
            var g = r.inArray(l, m);
            ~g && m.splice(g, 1, p);
          }), l.fail(function(g) {
            p.setStatus(s.ERROR, g), f.owner.trigger("uploadError", p, g), f.owner.trigger("uploadComplete", p);
          }), m.push(l));
        }, _popBlock: function(l) {
          var f = r.inArray(l, this.pool);
          this.pool.splice(f, 1), l.file.remaning--, this.remaning--;
        }, _startSend: function(l) {
          var f, p = this, m = l.file;
          return m.getStatus() !== s.PROGRESS ? void (m.getStatus() === s.INTERRUPT && p._putback(l)) : (p.pool.push(l), p.remaning++, l.blob = l.chunks === 1 ? m.source : m.source.slice(l.start, l.end), l.waiting = f = p.request("before-send", l, function() {
            delete l.waiting, m.getStatus() === s.PROGRESS ? p._doSend(l) : l.file.getStatus() !== s.INTERRUPT && p._popBlock(l), o.nextTick(p.__tick);
          }), void f.fail(function() {
            delete l.waiting, m.remaning === 1 ? p._finishFile(m).always(function() {
              l.percentage = 1, p._popBlock(l), p.owner.trigger("uploadComplete", m), o.nextTick(p.__tick);
            }) : (l.percentage = 1, p.updateFileProgress(m), p._popBlock(l), o.nextTick(p.__tick));
          }));
        }, _doSend: function(l) {
          var f, p, m = this, g = m.owner, k = r.extend({}, m.options, l.options), y = l.file, C = new c(k), _ = r.extend({}, k.formData), I = r.extend({}, k.headers);
          l.transport = C, C.on("destroy", function() {
            delete l.transport, m._popBlock(l), o.nextTick(m.__tick);
          }), C.on("progress", function(N) {
            l.percentage = N, m.updateFileProgress(y);
          }), f = function(N) {
            var A;
            return p = C.getResponseAsJson() || {}, p._raw = C.getResponse(), p._headers = C.getResponseHeaders(), l.response = p, A = function(j) {
              N = j;
            }, g.trigger("uploadAccept", l, p, A) || (N = N || "server"), N;
          }, C.on("error", function(N, A) {
            var j, F, E = N.split("|");
            N = E[0], j = parseFloat(E[1]), F = E[2], l.retried = l.retried || 0, l.chunks > 1 && ~"http,abort,server".indexOf(N.replace(/-.*/, "")) && l.retried < k.chunkRetry ? (l.retried++, m.retryTimer = setTimeout(function() {
              C.send();
            }, k.chunkRetryDelay || 1e3)) : (A || N !== "server" || (N = f(N)), y.setStatus(s.ERROR, N), g.trigger("uploadError", y, N, j, F), g.trigger("uploadComplete", y));
          }), C.on("load", function() {
            var N;
            return (N = f()) ? void C.trigger("error", N, !0) : void (y.remaning === 1 ? m._finishFile(y, p) : C.destroy());
          }), _ = r.extend(_, { id: y.id, name: y.name, type: y.type, lastModifiedDate: y.lastModifiedDate, size: y.size }), l.chunks > 1 && r.extend(_, { chunks: l.chunks, chunk: l.chunk }), g.trigger("uploadBeforeSend", l, _, I), C.appendBlob(k.fileVal, l.blob, y.name), C.append(_), C.setRequestHeader(I), C.send();
        }, _finishFile: function(l, f, p) {
          var m = this.owner;
          return m.request("after-send-file", arguments, function() {
            l.setStatus(s.COMPLETE), m.trigger("uploadSuccess", l, f, p);
          }).fail(function(g) {
            l.getStatus() === s.PROGRESS && l.setStatus(s.ERROR, g), m.trigger("uploadError", l, g);
          }).always(function() {
            m.trigger("uploadComplete", l);
          });
        }, updateFileProgress: function(l) {
          var f = 0, p = 0;
          l.blocks && (r.each(l.blocks, function(m, g) {
            p += (g.percentage || 0) * (g.end - g.start);
          }), f = p / l.size, this.owner.trigger("uploadProgress", l, f || 0));
        }, destroy: function() {
          clearTimeout(this.retryTimer);
        } });
      }), t("widgets/validator", ["base", "uploader", "file", "widgets/widget"], function(o, i, u) {
        var c, a = o.$, r = {};
        return c = { addValidator: function(d, s) {
          r[d] = s;
        }, removeValidator: function(d) {
          delete r[d];
        } }, i.register({ name: "validator", init: function() {
          var d = this;
          o.nextTick(function() {
            a.each(r, function() {
              this.call(d.owner);
            });
          });
        } }), c.addValidator("fileNumLimit", function() {
          var d = this, s = d.options, l = 0, f = parseInt(s.fileNumLimit, 10), p = !0;
          f && (d.on("beforeFileQueued", function(m) {
            return this.trigger("beforeFileQueuedCheckfileNumLimit", m, l) ? (l >= f && p && (p = !1, this.trigger("error", "Q_EXCEED_NUM_LIMIT", f, m), setTimeout(function() {
              p = !0;
            }, 1)), !(l >= f)) : !1;
          }), d.on("fileQueued", function() {
            l++;
          }), d.on("fileDequeued", function() {
            l--;
          }), d.on("reset", function() {
            l = 0;
          }));
        }), c.addValidator("fileSizeLimit", function() {
          var d = this, s = d.options, l = 0, f = parseInt(s.fileSizeLimit, 10), p = !0;
          f && (d.on("beforeFileQueued", function(m) {
            var g = l + m.size > f;
            return g && p && (p = !1, this.trigger("error", "Q_EXCEED_SIZE_LIMIT", f, m), setTimeout(function() {
              p = !0;
            }, 1)), !g;
          }), d.on("fileQueued", function(m) {
            l += m.size;
          }), d.on("fileDequeued", function(m) {
            l -= m.size;
          }), d.on("reset", function() {
            l = 0;
          }));
        }), c.addValidator("fileSingleSizeLimit", function() {
          var d = this, s = d.options, l = s.fileSingleSizeLimit;
          l && d.on("beforeFileQueued", function(f) {
            return f.size > l ? (f.setStatus(u.Status.INVALID, "exceed_size"), this.trigger("error", "F_EXCEED_SIZE", l, f), !1) : void 0;
          });
        }), c.addValidator("duplicate", function() {
          function d(p) {
            for (var m, g = 0, k = 0, y = p.length; y > k; k++)
              m = p.charCodeAt(k), g = m + (g << 6) + (g << 16) - g;
            return g;
          }
          var s = this, l = s.options, f = {};
          l.duplicate || (s.on("beforeFileQueued", function(p) {
            var m = p.__hash || (p.__hash = d(p.name + p.size + p.lastModifiedDate));
            return f[m] ? (this.trigger("error", "F_DUPLICATE", p), !1) : void 0;
          }), s.on("fileQueued", function(p) {
            var m = p.__hash;
            m && (f[m] = !0);
          }), s.on("fileDequeued", function(p) {
            var m = p.__hash;
            m && delete f[m];
          }), s.on("reset", function() {
            f = {};
          }));
        }), c;
      }), t("runtime/compbase", [], function() {
        function o(i, u) {
          this.owner = i, this.options = i.options, this.getRuntime = function() {
            return u;
          }, this.getRuid = function() {
            return u.uid;
          }, this.trigger = function() {
            return i.trigger.apply(i, arguments);
          };
        }
        return o;
      }), t("runtime/html5/runtime", ["base", "runtime/runtime", "runtime/compbase"], function(o, i, u) {
        function c() {
          var d = {}, s = this, l = this.destroy;
          i.apply(s, arguments), s.type = a, s.exec = function(f, p) {
            var m, g = this, k = g.uid, y = o.slice(arguments, 2);
            return r[f] && (m = d[k] = d[k] || new r[f](g, s), m[p]) ? m[p].apply(m, y) : void 0;
          }, s.destroy = function() {
            return l && l.apply(this, arguments);
          };
        }
        var a = "html5", r = {};
        return o.inherits(i, { constructor: c, init: function() {
          var d = this;
          setTimeout(function() {
            d.trigger("ready");
          }, 1);
        } }), c.register = function(d, s) {
          var l = r[d] = o.inherits(u, s);
          return l;
        }, e.Blob && e.FileReader && e.DataView && i.addRuntime(a, c), c;
      }), t("runtime/html5/blob", ["runtime/html5/runtime", "lib/blob"], function(o, i) {
        return o.register("Blob", { slice: function(u, c) {
          var a = this.owner.source, r = a.slice || a.webkitSlice || a.mozSlice;
          return a = r.call(a, u, c), new i(this.getRuid(), a);
        } });
      }), t("runtime/html5/dnd", ["base", "runtime/html5/runtime", "lib/file"], function(o, i, u) {
        var c = o.$, a = "webuploader-dnd-";
        return i.register("DragAndDrop", { init: function() {
          var r = this.elem = this.options.container;
          this.dragEnterHandler = o.bindFn(this._dragEnterHandler, this), this.dragOverHandler = o.bindFn(this._dragOverHandler, this), this.dragLeaveHandler = o.bindFn(this._dragLeaveHandler, this), this.dropHandler = o.bindFn(this._dropHandler, this), this.dndOver = !1, r.on("dragenter", this.dragEnterHandler), r.on("dragover", this.dragOverHandler), r.on("dragleave", this.dragLeaveHandler), r.on("drop", this.dropHandler), this.options.disableGlobalDnd && (c(document).on("dragover", this.dragOverHandler), c(document).on("drop", this.dropHandler));
        }, _dragEnterHandler: function(r) {
          var d, s = this, l = s._denied || !1;
          return r = r.originalEvent || r, s.dndOver || (s.dndOver = !0, d = r.dataTransfer.items, d && d.length && (s._denied = l = !s.trigger("accept", d)), s.elem.addClass(a + "over"), s.elem[l ? "addClass" : "removeClass"](a + "denied")), r.dataTransfer.dropEffect = l ? "none" : "copy", !1;
        }, _dragOverHandler: function(r) {
          var d = this.elem.parent().get(0);
          return d && !c.contains(d, r.currentTarget) || (clearTimeout(this._leaveTimer), this._dragEnterHandler.call(this, r)), !1;
        }, _dragLeaveHandler: function() {
          var r, d = this;
          return r = function() {
            d.dndOver = !1, d.elem.removeClass(a + "over " + a + "denied");
          }, clearTimeout(d._leaveTimer), d._leaveTimer = setTimeout(r, 100), !1;
        }, _dropHandler: function(r) {
          var d, s, l = this, f = l.getRuid(), p = l.elem.parent().get(0);
          if (p && !c.contains(p, r.currentTarget))
            return !1;
          r = r.originalEvent || r, d = r.dataTransfer;
          try {
            s = d.getData("text/html");
          } catch {
          }
          return l.dndOver = !1, l.elem.removeClass(a + "over"), d && !s ? (l._getTansferFiles(d, function(m) {
            l.trigger("drop", c.map(m, function(g) {
              return new u(f, g);
            }));
          }), !1) : void 0;
        }, _getTansferFiles: function(r, d) {
          var s, l, f, p, m, g, k, y = [], C = [];
          for (s = r.items, l = r.files, k = !(!s || !s[0].webkitGetAsEntry), m = 0, g = l.length; g > m; m++)
            f = l[m], p = s && s[m], k && p.webkitGetAsEntry().isDirectory ? C.push(this._traverseDirectoryTree(p.webkitGetAsEntry(), y)) : y.push(f);
          o.when.apply(o, C).done(function() {
            y.length && d(y);
          });
        }, _traverseDirectoryTree: function(r, d) {
          var s = o.Deferred(), l = this;
          return r.isFile ? r.file(function(f) {
            d.push(f), s.resolve();
          }) : r.isDirectory && r.createReader().readEntries(function(f) {
            var p, m = f.length, g = [], k = [];
            for (p = 0; m > p; p++)
              g.push(l._traverseDirectoryTree(f[p], k));
            o.when.apply(o, g).then(function() {
              d.push.apply(d, k), s.resolve();
            }, s.reject);
          }), s.promise();
        }, destroy: function() {
          var r = this.elem;
          r && (r.off("dragenter", this.dragEnterHandler), r.off("dragover", this.dragOverHandler), r.off("dragleave", this.dragLeaveHandler), r.off("drop", this.dropHandler), this.options.disableGlobalDnd && (c(document).off("dragover", this.dragOverHandler), c(document).off("drop", this.dropHandler)));
        } });
      }), t("runtime/html5/filepaste", ["base", "runtime/html5/runtime", "lib/file"], function(o, i, u) {
        return i.register("FilePaste", { init: function() {
          var c, a, r, d, s = this.options, l = this.elem = s.container, f = ".*";
          if (s.accept) {
            for (c = [], a = 0, r = s.accept.length; r > a; a++)
              d = s.accept[a].mimeTypes, d && c.push(d);
            c.length && (f = c.join(","), f = f.replace(/,/g, "|").replace(/\*/g, ".*"));
          }
          this.accept = f = new RegExp(f, "i"), this.hander = o.bindFn(this._pasteHander, this), l.on("paste", this.hander);
        }, _pasteHander: function(c) {
          var a, r, d, s, l, f = [], p = this.getRuid();
          for (c = c.originalEvent || c, a = c.clipboardData.items, s = 0, l = a.length; l > s; s++)
            r = a[s], r.kind === "file" && (d = r.getAsFile()) && f.push(new u(p, d));
          f.length && (c.preventDefault(), c.stopPropagation(), this.trigger("paste", f));
        }, destroy: function() {
          this.elem.off("paste", this.hander);
        } });
      }), t("runtime/html5/filepicker", ["base", "runtime/html5/runtime"], function(o, i) {
        var u = o.$;
        return i.register("FilePicker", { init: function() {
          var c, a, r, d, s, l = this.getRuntime().getContainer(), f = this, p = f.owner, m = f.options, g = this.label = u(document.createElement("label")), k = this.input = u(document.createElement("input"));
          if (k.attr("type", "file"), k.attr("capture", "camera"), k.attr("name", m.name), k.addClass("webuploader-element-invisible"), g.on("click", function(y) {
            k.trigger("click"), y.stopPropagation(), p.trigger("dialogopen");
          }), g.css({ opacity: 0, width: "100%", height: "100%", display: "block", cursor: "pointer", background: "#ffffff" }), m.multiple && k.attr("multiple", "multiple"), m.accept && m.accept.length > 0) {
            for (c = [], a = 0, r = m.accept.length; r > a; a++)
              c.push(m.accept[a].mimeTypes);
            k.attr("accept", c.join(","));
          }
          l.append(k), l.append(g), d = function(y) {
            p.trigger(y.type);
          }, s = function(y) {
            var C;
            return y.target.files.length === 0 ? !1 : (f.files = y.target.files, C = this.cloneNode(!0), C.value = null, this.parentNode.replaceChild(C, this), k.off(), k = u(C).on("change", s).on("mouseenter mouseleave", d), void p.trigger("change"));
          }, k.on("change", s), g.on("mouseenter mouseleave", d);
        }, getFiles: function() {
          return this.files;
        }, destroy: function() {
          this.input.off(), this.label.off();
        } });
      }), t("runtime/html5/util", ["base"], function(o) {
        var i = e.createObjectURL && e || e.URL && URL.revokeObjectURL && URL || e.webkitURL, u = o.noop, c = u;
        return i && (u = function() {
          return i.createObjectURL.apply(i, arguments);
        }, c = function() {
          return i.revokeObjectURL.apply(i, arguments);
        }), { createObjectURL: u, revokeObjectURL: c, dataURL2Blob: function(a) {
          var r, d, s, l, f, p;
          for (p = a.split(","), r = ~p[0].indexOf("base64") ? atob(p[1]) : decodeURIComponent(p[1]), s = new ArrayBuffer(r.length), d = new Uint8Array(s), l = 0; l < r.length; l++)
            d[l] = r.charCodeAt(l);
          return f = p[0].split(":")[1].split(";")[0], this.arrayBufferToBlob(s, f);
        }, dataURL2ArrayBuffer: function(a) {
          var r, d, s, l;
          for (l = a.split(","), r = ~l[0].indexOf("base64") ? atob(l[1]) : decodeURIComponent(l[1]), d = new Uint8Array(r.length), s = 0; s < r.length; s++)
            d[s] = r.charCodeAt(s);
          return d.buffer;
        }, arrayBufferToBlob: function(a, r) {
          var d, s = e.BlobBuilder || e.WebKitBlobBuilder;
          return s ? (d = new s(), d.append(a), d.getBlob(r)) : new Blob([a], r ? { type: r } : {});
        }, canvasToDataUrl: function(a, r, d) {
          return a.toDataURL(r, d / 100);
        }, parseMeta: function(a, r) {
          r(!1, {});
        }, updateImageHead: function(a) {
          return a;
        } };
      }), t("runtime/html5/imagemeta", ["runtime/html5/util"], function(o) {
        var i;
        return i = { parsers: { 65505: [] }, maxMetaDataSize: 262144, parse: function(u, c) {
          var a = this, r = new FileReader();
          r.onload = function() {
            c(!1, a._parse(this.result)), r = r.onload = r.onerror = null;
          }, r.onerror = function(d) {
            c(d.message), r = r.onload = r.onerror = null;
          }, u = u.slice(0, a.maxMetaDataSize), r.readAsArrayBuffer(u.getSource());
        }, _parse: function(u, c) {
          if (!(u.byteLength < 6)) {
            var a, r, d, s, l = new DataView(u), f = 2, p = l.byteLength - 4, m = f, g = {};
            if (l.getUint16(0) === 65496) {
              for (; p > f && (a = l.getUint16(f), a >= 65504 && 65519 >= a || a === 65534) && (r = l.getUint16(f + 2) + 2, !(f + r > l.byteLength)); ) {
                if (d = i.parsers[a], !c && d)
                  for (s = 0; s < d.length; s += 1)
                    d[s].call(i, l, f, r, g);
                f += r, m = f;
              }
              m > 6 && (g.imageHead = u.slice ? u.slice(2, m) : new Uint8Array(u).subarray(2, m));
            }
            return g;
          }
        }, updateImageHead: function(u, c) {
          var a, r, d, s = this._parse(u, !0);
          return d = 2, s.imageHead && (d = 2 + s.imageHead.byteLength), r = u.slice ? u.slice(d) : new Uint8Array(u).subarray(d), a = new Uint8Array(c.byteLength + 2 + r.byteLength), a[0] = 255, a[1] = 216, a.set(new Uint8Array(c), 2), a.set(new Uint8Array(r), c.byteLength + 2), a.buffer;
        } }, o.parseMeta = function() {
          return i.parse.apply(i, arguments);
        }, o.updateImageHead = function() {
          return i.updateImageHead.apply(i, arguments);
        }, i;
      }), t("runtime/html5/imagemeta/exif", ["base", "runtime/html5/imagemeta"], function(o, i) {
        var u = {};
        return u.ExifMap = function() {
          return this;
        }, u.ExifMap.prototype.map = { Orientation: 274 }, u.ExifMap.prototype.get = function(c) {
          return this[c] || this[this.map[c]];
        }, u.exifTagTypes = { 1: { getValue: function(c, a) {
          return c.getUint8(a);
        }, size: 1 }, 2: { getValue: function(c, a) {
          return String.fromCharCode(c.getUint8(a));
        }, size: 1, ascii: !0 }, 3: { getValue: function(c, a, r) {
          return c.getUint16(a, r);
        }, size: 2 }, 4: { getValue: function(c, a, r) {
          return c.getUint32(a, r);
        }, size: 4 }, 5: { getValue: function(c, a, r) {
          return c.getUint32(a, r) / c.getUint32(a + 4, r);
        }, size: 8 }, 9: { getValue: function(c, a, r) {
          return c.getInt32(a, r);
        }, size: 4 }, 10: { getValue: function(c, a, r) {
          return c.getInt32(a, r) / c.getInt32(a + 4, r);
        }, size: 8 } }, u.exifTagTypes[7] = u.exifTagTypes[1], u.getExifValue = function(c, a, r, d, s, l) {
          var f, p, m, g, k, y, C = u.exifTagTypes[d];
          if (!C)
            return void o.log("Invalid Exif data: Invalid tag type.");
          if (f = C.size * s, p = f > 4 ? a + c.getUint32(r + 8, l) : r + 8, p + f > c.byteLength)
            return void o.log("Invalid Exif data: Invalid data offset.");
          if (s === 1)
            return C.getValue(c, p, l);
          for (m = [], g = 0; s > g; g += 1)
            m[g] = C.getValue(c, p + g * C.size, l);
          if (C.ascii) {
            for (k = "", g = 0; g < m.length && (y = m[g], y !== "\0"); g += 1)
              k += y;
            return k;
          }
          return m;
        }, u.parseExifTag = function(c, a, r, d, s) {
          var l = c.getUint16(r, d);
          s.exif[l] = u.getExifValue(c, a, r, c.getUint16(r + 2, d), c.getUint32(r + 4, d), d);
        }, u.parseExifTags = function(c, a, r, d, s) {
          var l, f, p;
          if (r + 6 > c.byteLength)
            return void o.log("Invalid Exif data: Invalid directory offset.");
          if (l = c.getUint16(r, d), f = r + 2 + 12 * l, f + 4 > c.byteLength)
            return void o.log("Invalid Exif data: Invalid directory size.");
          for (p = 0; l > p; p += 1)
            this.parseExifTag(c, a, r + 2 + 12 * p, d, s);
          return c.getUint32(f, d);
        }, u.parseExifData = function(c, a, r, d) {
          var s, l, f = a + 10;
          if (c.getUint32(a + 4) === 1165519206) {
            if (f + 8 > c.byteLength)
              return void o.log("Invalid Exif data: Invalid segment size.");
            if (c.getUint16(a + 8) !== 0)
              return void o.log("Invalid Exif data: Missing byte alignment offset.");
            switch (c.getUint16(f)) {
              case 18761:
                s = !0;
                break;
              case 19789:
                s = !1;
                break;
              default:
                return void o.log("Invalid Exif data: Invalid byte alignment marker.");
            }
            if (c.getUint16(f + 2, s) !== 42)
              return void o.log("Invalid Exif data: Missing TIFF marker.");
            l = c.getUint32(f + 4, s), d.exif = new u.ExifMap(), l = u.parseExifTags(c, f, f + l, s, d);
          }
        }, i.parsers[65505].push(u.parseExifData), u;
      }), t("runtime/html5/image", ["base", "runtime/html5/runtime", "runtime/html5/util"], function(o, i, u) {
        var c = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D";
        return i.register("Image", { modified: !1, init: function() {
          var a = this, r = new Image();
          r.onload = function() {
            a._info = { type: a.type, width: this.width, height: this.height }, a._metas || a.type !== "image/jpeg" ? a.owner.trigger("load") : u.parseMeta(a._blob, function(d, s) {
              a._metas = s, a.owner.trigger("load");
            });
          }, r.onerror = function() {
            a.owner.trigger("error");
          }, a._img = r;
        }, loadFromBlob: function(a) {
          var r = this, d = r._img;
          r._blob = a, r.type = a.type, d.src = u.createObjectURL(a.getSource()), r.owner.once("load", function() {
            u.revokeObjectURL(d.src);
          });
        }, resize: function(a, r) {
          var d = this._canvas || (this._canvas = document.createElement("canvas"));
          this._resize(this._img, d, a, r), this._blob = null, this.modified = !0, this.owner.trigger("complete", "resize");
        }, crop: function(a, r, d, s, l) {
          var f = this._canvas || (this._canvas = document.createElement("canvas")), p = this.options, m = this._img, g = m.naturalWidth, k = m.naturalHeight, y = this.getOrientation();
          l = l || 1, f.width = d, f.height = s, p.preserveHeaders || this._rotate2Orientaion(f, y), this._renderImageToCanvas(f, m, -a, -r, g * l, k * l), this._blob = null, this.modified = !0, this.owner.trigger("complete", "crop");
        }, getAsBlob: function(a) {
          var r, d = this._blob, s = this.options;
          if (a = a || this.type, this.modified || this.type !== a) {
            if (r = this._canvas, a === "image/jpeg") {
              if (d = u.canvasToDataUrl(r, a, s.quality), s.preserveHeaders && this._metas && this._metas.imageHead)
                return d = u.dataURL2ArrayBuffer(d), d = u.updateImageHead(d, this._metas.imageHead), d = u.arrayBufferToBlob(d, a);
            } else
              d = u.canvasToDataUrl(r, a);
            d = u.dataURL2Blob(d);
          }
          return d;
        }, getAsDataUrl: function(a) {
          var r = this.options;
          return a = a || this.type, a === "image/jpeg" ? u.canvasToDataUrl(this._canvas, a, r.quality) : this._canvas.toDataURL(a);
        }, getOrientation: function() {
          return this._metas && this._metas.exif && this._metas.exif.get("Orientation") || 1;
        }, info: function(a) {
          return a ? (this._info = a, this) : this._info;
        }, meta: function(a) {
          return a ? (this._metas = a, this) : this._metas;
        }, destroy: function() {
          var a = this._canvas;
          this._img.onload = null, a && (a.getContext("2d").clearRect(0, 0, a.width, a.height), a.width = a.height = 0, this._canvas = null), this._img.src = c, this._img = this._blob = null;
        }, _resize: function(a, r, d, s) {
          var l, f, p, m, g, k = this.options, y = a.width, C = a.height, _ = this.getOrientation();
          ~[5, 6, 7, 8].indexOf(_) && (d ^= s, s ^= d, d ^= s), l = Math[k.crop ? "max" : "min"](d / y, s / C), k.allowMagnify || (l = Math.min(1, l)), f = y * l, p = C * l, k.crop ? (r.width = d, r.height = s) : (r.width = f, r.height = p), m = (r.width - f) / 2, g = (r.height - p) / 2, k.preserveHeaders || this._rotate2Orientaion(r, _), this._renderImageToCanvas(r, a, m, g, f, p);
        }, _rotate2Orientaion: function(a, r) {
          var d = a.width, s = a.height, l = a.getContext("2d");
          switch (r) {
            case 5:
            case 6:
            case 7:
            case 8:
              a.width = s, a.height = d;
          }
          switch (r) {
            case 2:
              l.translate(d, 0), l.scale(-1, 1);
              break;
            case 3:
              l.translate(d, s), l.rotate(Math.PI);
              break;
            case 4:
              l.translate(0, s), l.scale(1, -1);
              break;
            case 5:
              l.rotate(0.5 * Math.PI), l.scale(1, -1);
              break;
            case 6:
              l.rotate(0.5 * Math.PI), l.translate(0, -s);
              break;
            case 7:
              l.rotate(0.5 * Math.PI), l.translate(d, -s), l.scale(-1, 1);
              break;
            case 8:
              l.rotate(-0.5 * Math.PI), l.translate(-d, 0);
          }
        }, _renderImageToCanvas: function() {
          function a(d, s, l) {
            var f, p, m, g = document.createElement("canvas"), k = g.getContext("2d"), y = 0, C = l, _ = l;
            for (g.width = 1, g.height = l, k.drawImage(d, 0, 0), f = k.getImageData(0, 0, 1, l).data; _ > y; )
              p = f[4 * (_ - 1) + 3], p === 0 ? C = _ : y = _, _ = C + y >> 1;
            return m = _ / l, m === 0 ? 1 : m;
          }
          function r(d) {
            var s, l, f = d.naturalWidth, p = d.naturalHeight;
            return f * p > 1048576 ? (s = document.createElement("canvas"), s.width = s.height = 1, l = s.getContext("2d"), l.drawImage(d, -f + 1, 0), l.getImageData(0, 0, 1, 1).data[3] === 0) : !1;
          }
          return o.os.ios ? o.os.ios >= 7 ? function(d, s, l, f, p, m) {
            var g = s.naturalWidth, k = s.naturalHeight, y = a(s, g, k);
            return d.getContext("2d").drawImage(s, 0, 0, g * y, k * y, l, f, p, m);
          } : function(d, s, l, f, p, m) {
            var g, k, y, C, _, I, N, A = s.naturalWidth, j = s.naturalHeight, F = d.getContext("2d"), E = r(s), T = this.type === "image/jpeg", w = 1024, x = 0, D = 0;
            for (E && (A /= 2, j /= 2), F.save(), g = document.createElement("canvas"), g.width = g.height = w, k = g.getContext("2d"), y = T ? a(s, A, j) : 1, C = Math.ceil(w * p / A), _ = Math.ceil(w * m / j / y); j > x; ) {
              for (I = 0, N = 0; A > I; )
                k.clearRect(0, 0, w, w), k.drawImage(s, -I, -x), F.drawImage(g, 0, 0, w, w, l + N, f + D, C, _), I += w, N += C;
              x += w, D += _;
            }
            F.restore(), g = k = null;
          } : function(d) {
            var s = o.slice(arguments, 1), l = d.getContext("2d");
            l.drawImage.apply(l, s);
          };
        }() });
      }), t("runtime/html5/transport", ["base", "runtime/html5/runtime"], function(o, i) {
        var u = o.noop, c = o.$;
        return i.register("Transport", { init: function() {
          this._status = 0, this._response = null;
        }, send: function() {
          var a, r, d, s = this.owner, l = this.options, f = this._initAjax(), p = s._blob, m = l.server;
          l.sendAsBinary ? (m += l.attachInfoToQuery !== !1 ? (/\?/.test(m) ? "&" : "?") + c.param(s._formData) : "", r = p.getSource()) : (a = new FormData(), c.each(s._formData, function(g, k) {
            a.append(g, k);
          }), a.append(l.fileVal, p.getSource(), l.filename || s._formData.name || "")), l.withCredentials && "withCredentials" in f ? (f.open(l.method, m, !0), f.withCredentials = !0) : f.open(l.method, m), this._setRequestHeader(f, l.headers), r ? (f.overrideMimeType && f.overrideMimeType("application/octet-stream"), o.os.android ? (d = new FileReader(), d.onload = function() {
            f.send(this.result), d = d.onload = null;
          }, d.readAsArrayBuffer(r)) : f.send(r)) : f.send(a);
        }, getResponse: function() {
          return this._response;
        }, getResponseAsJson: function() {
          return this._parseJson(this._response);
        }, getResponseHeaders: function() {
          return this._headers;
        }, getStatus: function() {
          return this._status;
        }, abort: function() {
          var a = this._xhr;
          a && (a.upload.onprogress = u, a.onreadystatechange = u, a.abort(), this._xhr = a = null);
        }, destroy: function() {
          this.abort();
        }, _parseHeader: function(a) {
          var r = {};
          return a && a.replace(/^([^\:]+):(.*)$/gm, function(d, s, l) {
            r[s.trim()] = l.trim();
          }), r;
        }, _initAjax: function() {
          var a = this, r = new XMLHttpRequest(), d = this.options;
          return !d.withCredentials || "withCredentials" in r || typeof XDomainRequest > "u" || (r = new XDomainRequest()), r.upload.onprogress = function(s) {
            var l = 0;
            return s.lengthComputable && (l = s.loaded / s.total), a.trigger("progress", l);
          }, r.onreadystatechange = function() {
            if (r.readyState === 4) {
              r.upload.onprogress = u, r.onreadystatechange = u, a._xhr = null, a._status = r.status;
              var s = "|", l = s + r.status + s + r.statusText;
              return r.status >= 200 && r.status < 300 ? (a._response = r.responseText, a._headers = a._parseHeader(r.getAllResponseHeaders()), a.trigger("load")) : r.status >= 500 && r.status < 600 ? (a._response = r.responseText, a._headers = a._parseHeader(r.getAllResponseHeaders()), a.trigger("error", "server" + l)) : a.trigger("error", a._status ? "http" + l : "abort");
            }
          }, a._xhr = r, r;
        }, _setRequestHeader: function(a, r) {
          c.each(r, function(d, s) {
            a.setRequestHeader(d, s);
          });
        }, _parseJson: function(a) {
          var r;
          try {
            r = JSON.parse(a);
          } catch {
            r = {};
          }
          return r;
        } });
      }), t("preset/html5only", ["base", "widgets/filednd", "widgets/filepaste", "widgets/filepicker", "widgets/image", "widgets/queue", "widgets/runtime", "widgets/upload", "widgets/validator", "runtime/html5/blob", "runtime/html5/dnd", "runtime/html5/filepaste", "runtime/html5/filepicker", "runtime/html5/imagemeta/exif", "runtime/html5/image", "runtime/html5/transport"], function(o) {
        return o;
      }), t("webuploader", ["preset/html5only"], function(o) {
        return o;
      }), n("webuploader");
    }), window.console || (window.console = {}), console.log || (console.log = function() {
    });
    var Ct = "4.4.8 (2023-03-09)", ye = navigator.userAgent.toLowerCase(), Q = ye.indexOf("msie") > -1 && ye.indexOf("opera") == -1, ki = ye.indexOf("msie") == -1 && ye.indexOf("trident") > -1, Be = ye.indexOf("gecko") > -1 && ye.indexOf("khtml") == -1, Fe = ye.indexOf("applewebkit") > -1, Kt = ye.indexOf("opera") > -1, bi = ye.indexOf("mobile") > -1, wi = /ipad|iphone|ipod/.test(ye), Me = document.compatMode != "CSS1Compat", ke = !window.getSelection, In = /(?:msie|firefox|webkit|opera)[\/:\s](\d+)/.exec(ye), ce = In ? In[1] : "0", _t = new Date().getTime(), Ne = Math.round, v = { DEBUG: !1, VERSION: Ct, IE: Q, GECKO: Be, WEBKIT: Fe, OPERA: Kt, V: ce, TIME: _t, each: z, isArray: te, isFunction: re, inArray: pe, inString: Ke, trim: ne, addUnit: J, removeUnit: X, escape: se, unescape: Ge, toCamel: Qe, toHex: mt, toMap: oe, toArray: Dt, undef: V, invalidUrl: Wn, addParam: $n, extend: he, json: Jt }, An = oe("a,abbr,acronym,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,img,input,ins,kbd,label,map,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"), Rn = oe("address,applet,blockquote,body,center,dd,dir,div,dl,dt,fieldset,form,frameset,h1,h2,h3,h4,h5,h6,head,hr,html,iframe,ins,isindex,li,map,menu,meta,noframes,noscript,object,ol,p,pre,script,style,table,tbody,td,tfoot,th,thead,title,tr,ul,audio,video"), Ln = oe("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"), Bn = oe("b,basefont,big,del,em,font,i,s,small,span,strike,strong,sub,sup,u"), xi = oe("img,table,input,textarea,button,audio,video"), Gt = oe("pre,style,script"), Tt = oe("html,head,body,td,tr,table,ol,ul,li"), Ci = (oe("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"), oe("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected")), _i = oe("input,button,textarea,select");
    v.basePath = Vn(), v.Tools = { All: ["source", "|", "undo", "redo", "removeformat", "clearhtml", "|", "template", "code", "cut", "copy", "plainpaste", "wordpaste", "|", "preview", "selectall", "fullscreen", "print", "|", "quickformat", "/", "formatblock", "fontname", "fontsize", "|", "forecolor", "hilitecolor", "bold", "italic", "underline", "strikethrough", "|", "justifyleft", "justifycenter", "justifyright", "justifyfull", "|", "insertorderedlist", "insertunorderedlist", "indent", "outdent", "lineheight", "/", "quote", "subscript", "superscript", "|", "image", "multiimage", "media", "insertfile", "baidumap", "link", "unlink", "|", "table", "anchor", "hr", "pagebreak", "|", "emoticons", "symbols"], Normal: ["source", "|", "formatblock", "fontname", "fontsize", "|", "forecolor", "hilitecolor", "bold", "italic", "underline", "strikethrough", "|", "justifyleft", "justifycenter", "justifyright", "justifyfull", "|", "insertorderedlist", "insertunorderedlist", "indent", "outdent", "lineheight", "/", "image", "multiimage", "media", "insertfile", "baidumap", "link", "unlink", "|", "table", "anchor", "hr", "pagebreak", "|", "quote", "subscript", "superscript", "|", "preview", "fullscreen", "quickformat", "emoticons", "symbols"], Small: ["source", "|", "formatblock", "fontname", "fontsize", "|", "bold", "italic", "underline", "strikethrough", "|", "justifyleft", "justifycenter", "justifyright", "justifyfull", "|", "insertorderedlist", "insertunorderedlist", "indent", "outdent", "lineheight", "/", "quote", "image", "multiimage", "media", "insertfile", "|", "table", "hr", "pagebreak", "|", "link", "unlink", "|", "preview", "fullscreen"], Mini: ["formatblock", "bold", "italic", "underline", "strikethrough", "|", "justifyleft", "justifycenter", "justifyright", "justifyfull", "|", "insertorderedlist", "insertunorderedlist", "|", "image", "insertfile", "table", "link", "unlink"] }, v.Templates = [{ name: "\u56FE\u7247\u548C\u6587\u5B57", content: '<h3><img align="left" height="100" style="margin-right: 10px" width="100" />\u5728\u6B64\u5904\u8F93\u5165\u6807\u9898</h3><p>\u5728\u6B64\u5904\u8F93\u5165\u5185\u5BB9</p>' }, { name: "\u8868\u683C", content: '<h3>\u6807\u9898</h3><table style="width:100%;" cellpadding="2" cellspacing="0" border="1"><tbody><tr><td><h3>\u6807\u98981</h3></td><td><h3>\u6807\u98981</h3></td></tr><tr><td>\u5185\u5BB91</td><td>\u5185\u5BB92</td></tr><tr><td>\u5185\u5BB93</td><td>\u5185\u5BB94</td></tr></tbody></table><p>\u8868\u683C\u8BF4\u660E</p>' }, { name: "\u9879\u76EE\u7F16\u53F7", content: "<p>\u5728\u6B64\u5904\u8F93\u5165\u5185\u5BB9</p><ol><li>\u63CF\u8FF01</li><li>\u63CF\u8FF02</li><li>\u63CF\u8FF03</li></ol><p>\u5728\u6B64\u5904\u8F93\u5165\u5185\u5BB9</p><ul><li>\u63CF\u8FF01</li><li>\u63CF\u8FF02</li><li>\u63CF\u8FF03</li></ul>" }], v.options = { designMode: !0, fullscreenMode: !1, filterMode: !0, wellFormatMode: !0, shadowMode: !0, loadStyleMode: !0, basePath: v.basePath, themesPath: v.basePath + "themes/", langPath: v.basePath + "lang/", pluginsPath: v.basePath + "plugins/", themeType: "default", langType: "zh-CN", urlType: "", newlineTag: "p", resizeType: 2, syncType: "form", pasteType: 2, dialogAlignType: "page", useContextmenu: !0, fullscreenShortcut: !1, bodyClass: "ke-content", indentChar: "	", cssPath: "", cssData: "", minWidth: 650, minHeight: 100, minChangeSize: 50, zIndex: 811213, items: v.Tools.Normal, noDisableItems: ["source", "fullscreen"], colorTable: [["#1abc9c", "#2ecc71", "#3498db", "#9b59b6", "#4e5f70", "#f1c40f"], ["#16a085", "#27ae60", "#2980b9", "#8e44ad", "#2c3e50", "#f39c12"], ["#E53333", "#E56600", "#FF9900", "#64451D", "#DFC5A4", "#FFE500"], ["#009900", "#006600", "#99BB00", "#B8D100", "#60D978", "#00D5FF"], ["#337FE5", "#003399", "#4C33E5", "#9933E5", "#CC33E5", "#EE33EE"], ["#FFFFFF", "#CCCCCC", "#999999", "#666666", "#333333", "#000000"]], fontSizeTable: ["9px", "10px", "12px", "14px", "16px", "18px", "24px", "32px"], htmlTags: { font: ["id", "class", "color", "size", "face", ".background-color"], span: ["id", "class", ".color", ".background-color", ".font-size", ".font-family", ".background", ".font-weight", ".font-style", ".text-decoration", ".vertical-align", ".line-height"], div: ["id", "class", "align", ".border", ".margin", ".padding", ".text-align", ".color", ".background-color", ".font-size", ".font-family", ".font-weight", ".background", ".font-style", ".text-decoration", ".vertical-align", ".margin-left"], table: ["id", "class", "border", "cellspacing", "cellpadding", "width", "height", "align", "bordercolor", ".padding", ".margin", ".border", "bgcolor", ".text-align", ".color", ".background-color", ".font-size", ".font-family", ".font-weight", ".font-style", ".text-decoration", ".background", ".width", ".height", ".border-collapse"], "td,th": ["id", "class", "align", "valign", "width", "height", "colspan", "rowspan", "bgcolor", ".text-align", ".color", ".background-color", ".font-size", ".font-family", ".font-weight", ".font-style", ".text-decoration", ".vertical-align", ".background", ".border"], a: ["id", "class", "href", "target", "name"], media: ["id", "class"], audio: ["id", "class", "src", "width", "height", "type", "loop", "autostart", "autoplay", ".width", ".height", "controls", "muted", "preload", "data-ke-class"], video: ["id", "class", "src", "width", "height", "type", "loop", "autostart", "autoplay", ".width", ".height", "controls", "muted", "poster", "preload", "data-ke-class"], img: ["id", "class", "src", "width", "height", "border", "alt", "title", "align", ".width", ".height", ".border", "data-ke-class"], "p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6": ["id", "class", "align", ".text-align", ".color", ".background-color", ".font-size", ".font-family", ".background", ".font-weight", ".font-style", ".text-decoration", ".vertical-align", ".text-indent", ".margin-left"], pre: ["id", "class"], hr: ["id", "class", ".page-break-after"], "br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del": ["id", "class"], iframe: ["id", "class", "src", "frameborder", "width", "height", ".width", ".height"] }, layout: '<div class="container"><div class="toolbar"></div><div class="edit"></div><div class="statusbar"></div></div>' };
    var Fn = !1, On = oe("8,9,13,32,46,48..57,59,61,65..90,106,109..111,188,190..192,219..222"), Ti = oe("33..40"), Qt = {};
    z(On, function(e, t) {
      Qt[e] = t;
    }), z(Ti, function(e, t) {
      Qt[e] = t;
    });
    var Si = "altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(",");
    he(en, { init: function(e, t) {
      var n = this, o = e.ownerDocument || e.document || e;
      if (n.event = t, z(Si, function(c, a) {
        n[a] = t[a];
      }), n.target || (n.target = n.srcElement || o), n.target.nodeType === 3 && (n.target = n.target.parentNode), !n.relatedTarget && n.fromElement && (n.relatedTarget = n.fromElement === n.target ? n.toElement : n.fromElement), n.pageX == null && n.clientX != null) {
        var i = o.documentElement, u = o.body;
        n.pageX = n.clientX + (i && i.scrollLeft || u && u.scrollLeft || 0) - (i && i.clientLeft || u && u.clientLeft || 0), n.pageY = n.clientY + (i && i.scrollTop || u && u.scrollTop || 0) - (i && i.clientTop || u && u.clientTop || 0);
      }
      switch (!n.which && (n.charCode || n.charCode === 0 ? n.charCode : n.keyCode) && (n.which = n.charCode || n.keyCode), !n.metaKey && n.ctrlKey && (n.metaKey = n.ctrlKey), n.which || n.button === void 0 || (n.which = 1 & n.button ? 1 : 2 & n.button ? 3 : 4 & n.button ? 2 : 0), n.which) {
        case 186:
          n.which = 59;
          break;
        case 187:
        case 107:
        case 43:
          n.which = 61;
          break;
        case 189:
        case 45:
          n.which = 109;
          break;
        case 42:
          n.which = 106;
          break;
        case 47:
          n.which = 111;
          break;
        case 78:
          n.which = 110;
      }
      n.which >= 96 && n.which <= 105 && (n.which -= 48);
    }, preventDefault: function() {
      var e = this.event;
      e.preventDefault ? e.preventDefault() : e.returnValue = !1;
    }, stopPropagation: function() {
      var e = this.event;
      e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0;
    }, stop: function() {
      this.preventDefault(), this.stopPropagation();
    } });
    var St = "kindeditor_" + _t, Un = 0, le = {}, zn = !1;
    window.attachEvent && window.attachEvent("onunload", function() {
      z(le, function(e, t) {
        t.el && Ye(t.el);
      });
    }), v.ctrl = Nt, v.ready = Qn, v.formatUrl = Ze, v.formatHtml = Ae, v.getCssList = ze, v.getAttrList = we, v.mediaType = on, v.mediaAttrs = ln, v.mediaEmbed = It, v.mediaImg = an, v.clearMsWord = rn, v.tmpl = Jn;
    var jn = document.createElement("div");
    jn.setAttribute("className", "t");
    var Ei = jn.className !== "t";
    v.query = ei, v.queryAll = kt, he(de, { init: function(e) {
      var t = this;
      e = te(e) ? e : [e];
      for (var n = 0, o = 0, i = e.length; i > o; o++)
        e[o] && (t[o] = e[o].constructor === de ? e[o][0] : e[o], n++);
      t.length = n, t.doc = Re(t[0]), t.name = sn(t[0]), t.type = t.length > 0 ? t[0].nodeType : null, t.win = Le(t[0]);
    }, each: function(e) {
      for (var t = this, n = 0; n < t.length; n++)
        if (e.call(t[n], n, t[n]) === !1)
          return t;
      return t;
    }, bind: function(e, t) {
      return this.each(function() {
        Ue(this, e, t);
      }), this;
    }, unbind: function(e, t) {
      return this.each(function() {
        Ye(this, e, t);
      }), this;
    }, fire: function(e) {
      return this.length < 1 ? this : (nn(this[0], e), this);
    }, hasAttr: function(e) {
      return this.length < 1 ? !1 : !!yt(this[0], e);
    }, attr: function(e, t) {
      var n = this;
      return e === void 0 ? we(n.outer()) : typeof e == "object" ? (z(e, function(o, i) {
        n.attr(o, i);
      }), n) : t === void 0 ? (t = n.length < 1 ? null : yt(n[0], e), t === null ? "" : t) : (n.each(function() {
        Rt(this, e, t);
      }), n);
    }, removeAttr: function(e) {
      return this.each(function() {
        ni(this, e);
      }), this;
    }, get: function(e) {
      return this.length < 1 ? null : this[e || 0];
    }, eq: function(e) {
      return this.length < 1 ? null : this[e] ? new de(this[e]) : null;
    }, hasClass: function(e) {
      return this.length < 1 ? !1 : At(this[0], e);
    }, addClass: function(e) {
      return this.each(function() {
        At(this, e) || (this.className = ne(this.className + " " + e));
      }), this;
    }, removeClass: function(e) {
      return this.each(function() {
        At(this, e) && (this.className = ne(this.className.replace(new RegExp("(^|\\s)" + e + "(\\s|$)"), " ")));
      }), this;
    }, html: function(e) {
      var t = this;
      return e === void 0 ? t.length < 1 || t.type != 1 ? "" : Ae(t[0].innerHTML) : (t.each(function() {
        ti(this, e);
      }), t);
    }, text: function() {
      var e = this;
      return e.length < 1 ? "" : Q ? e[0].innerText : e[0].textContent;
    }, hasVal: function() {
      return this.length < 1 ? !1 : cn(this[0]);
    }, val: function(e) {
      var t = this;
      return e === void 0 ? t.length < 1 ? "" : t.hasVal() ? t[0].value : t.attr("value") : (t.each(function() {
        cn(this) ? this.value = e : Rt(this, "value", e);
      }), t);
    }, css: function(e, t) {
      var n = this;
      return e === void 0 ? ze(n.attr("style")) : typeof e == "object" ? (z(e, function(o, i) {
        n.css(o, i);
      }), n) : t === void 0 ? n.length < 1 ? "" : n[0].style[Qe(e)] || ii(n[0], e) || "" : (n.each(function() {
        this.style[Qe(e)] = t;
      }), n);
    }, width: function(e) {
      var t = this;
      return e === void 0 ? t.length < 1 ? 0 : t[0].offsetWidth : t.css("width", J(e));
    }, height: function(e) {
      var t = this;
      return e === void 0 ? t.length < 1 ? 0 : t[0].offsetHeight : t.css("height", J(e));
    }, opacity: function(e) {
      return this.each(function() {
        this.style.opacity === void 0 ? this.style.filter = e == 1 ? "" : "alpha(opacity=" + 100 * e + ")" : this.style.opacity = e == 1 ? "" : e;
      }), this;
    }, data: function(e, t) {
      var n = this;
      return e = "kindeditor_data_" + e, t === void 0 ? n.length < 1 ? null : n[0][e] : (this.each(function() {
        this[e] = t;
      }), n);
    }, pos: function() {
      var e = this, t = e[0], n = 0, o = 0;
      if (t)
        if (t.getBoundingClientRect) {
          var i = t.getBoundingClientRect(), u = je(e.doc);
          n = i.left + u.x, o = i.top + u.y;
        } else
          for (; t; )
            n += t.offsetLeft, o += t.offsetTop, t = t.offsetParent;
      return { x: Ne(n), y: Ne(o) };
    }, clone: function(e) {
      return new de(this.length < 1 ? [] : this[0].cloneNode(e));
    }, append: function(e) {
      return this.each(function() {
        this.appendChild && this.appendChild(xe(e));
      }), this;
    }, appendTo: function(e) {
      return this.each(function() {
        xe(e).appendChild(this);
      }), this;
    }, before: function(e) {
      return this.each(function() {
        this.parentNode.insertBefore(xe(e), this);
      }), this;
    }, after: function(e) {
      return this.each(function() {
        this.nextSibling ? this.parentNode.insertBefore(xe(e), this.nextSibling) : this.parentNode.appendChild(xe(e));
      }), this;
    }, replaceWith: function(e) {
      var t = [];
      return this.each(function(n, o) {
        Ye(o);
        var i = xe(e);
        o.parentNode.replaceChild(i, o), t.push(i);
      }), v(t);
    }, empty: function() {
      var e = this;
      return e.each(function(t, n) {
        for (var o = n.firstChild; o; ) {
          if (!n.parentNode)
            return;
          var i = o.nextSibling;
          o.parentNode.removeChild(o), o = i;
        }
      }), e;
    }, remove: function(e) {
      var t = this;
      return t.each(function(n, o) {
        if (o.parentNode) {
          if (Ye(o), e)
            for (var i = o.firstChild; i; ) {
              var u = i.nextSibling;
              o.parentNode.insertBefore(i, o), i = u;
            }
          o.parentNode.removeChild(o), delete t[n];
        }
      }), t.length = 0, t;
    }, show: function(e) {
      var t = this;
      return e === void 0 && (e = t._originDisplay || ""), t.css("display") != "none" ? t : t.css("display", e);
    }, hide: function() {
      var e = this;
      return e.length < 1 ? e : (e._originDisplay = e[0].style.display, e.css("display", "none"));
    }, outer: function() {
      var e = this;
      if (e.length < 1)
        return "";
      var t, n = e.doc.createElement("div");
      return n.appendChild(e[0].cloneNode(!0)), t = Ae(n.innerHTML), n = null, t;
    }, isSingle: function() {
      return !!Ln[this.name];
    }, isInline: function() {
      return !!An[this.name];
    }, isBlock: function() {
      return !!Rn[this.name];
    }, isStyle: function() {
      return !!Bn[this.name];
    }, isControl: function() {
      return !!xi[this.name];
    }, contains: function(e) {
      return this.length < 1 ? !1 : vt(this[0], xe(e));
    }, parent: function() {
      if (this.length < 1)
        return null;
      var e = this[0].parentNode;
      return e ? new de(e) : null;
    }, children: function() {
      if (this.length < 1)
        return new de([]);
      for (var e = [], t = this[0].firstChild; t; )
        (t.nodeType != 3 || ne(t.nodeValue) !== "") && e.push(t), t = t.nextSibling;
      return new de(e);
    }, first: function() {
      var e = this.children();
      return e.length > 0 ? e.eq(0) : null;
    }, last: function() {
      var e = this.children();
      return e.length > 0 ? e.eq(e.length - 1) : null;
    }, index: function() {
      if (this.length < 1)
        return -1;
      for (var e = -1, t = this[0]; t; )
        e++, t = t.previousSibling;
      return e;
    }, prev: function() {
      if (this.length < 1)
        return null;
      var e = this[0].previousSibling;
      return e ? new de(e) : null;
    }, next: function() {
      if (this.length < 1)
        return null;
      var e = this[0].nextSibling;
      return e ? new de(e) : null;
    }, scan: function(e, t) {
      function n(o) {
        for (var i = t ? o.firstChild : o.lastChild; i; ) {
          var u = t ? i.nextSibling : i.previousSibling;
          if (e(i) === !1 || n(i) === !1)
            return !1;
          i = u;
        }
      }
      if (!(this.length < 1))
        return t = t === void 0 ? !0 : t, n(this[0]), this;
    } }), z("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu".split(","), function(e, t) {
      de.prototype[t] = function(n) {
        return n ? this.bind(t, n) : this.fire(t);
      };
    });
    var Di = v;
    v = function(e, t) {
      function n(s) {
        return s[0] || (s = []), new de(s);
      }
      if (e != null) {
        if (typeof e == "string") {
          t && (t = xe(t));
          var o = e.length;
          if (e.charAt(0) === "@" && (e = e.substr(1)), e.length !== o || /<.+>/.test(e)) {
            var i = t ? t.ownerDocument || t : document, u = i.createElement("div"), c = [];
            u.innerHTML = '<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />' + e;
            for (var a = 0, r = u.childNodes.length; r > a; a++) {
              var d = u.childNodes[a];
              d.id != "__kindeditor_temp_tag__" && c.push(d);
            }
            return n(c);
          }
          return n(kt(e, t));
        }
        return e && e.constructor === de ? e : (e.toArray && (e = e.toArray()), n(te(e) ? e : Dt(arguments)));
      }
    }, z(Di, function(e, t) {
      v[e] = t;
    }), v.NodeClass = de, window.KindEditor = v;
    var at = 0, st = 1, He = 2, ct = 3, Pn = 0;
    he(Ce, { init: function(e) {
      var t = this;
      t.startContainer = e, t.startOffset = 0, t.endContainer = e, t.endOffset = 0, t.collapsed = !0, t.doc = e;
    }, commonAncestor: function() {
      function e(r) {
        for (var d = []; r; )
          d.push(r), r = r.parentNode;
        return d;
      }
      for (var t, n, o = e(this.startContainer), i = e(this.endContainer), u = 0, c = o.length, a = i.length; ++u && (t = o[c - u], n = i[a - u], t && n && t === n); )
        ;
      return o[c - u + 1];
    }, setStart: function(e, t) {
      var n = this, o = n.doc;
      return n.startContainer = e, n.startOffset = t, n.endContainer === o && (n.endContainer = e, n.endOffset = t), un(this);
    }, setEnd: function(e, t) {
      var n = this, o = n.doc;
      return n.endContainer = e, n.endOffset = t, n.startContainer === o && (n.startContainer = e, n.startOffset = t), un(this);
    }, setStartBefore: function(e) {
      return this.setStart(e.parentNode || this.doc, v(e).index());
    }, setStartAfter: function(e) {
      return this.setStart(e.parentNode || this.doc, v(e).index() + 1);
    }, setEndBefore: function(e) {
      return this.setEnd(e.parentNode || this.doc, v(e).index());
    }, setEndAfter: function(e) {
      return this.setEnd(e.parentNode || this.doc, v(e).index() + 1);
    }, selectNode: function(e) {
      return this.setStartBefore(e).setEndAfter(e);
    }, selectNodeContents: function(e) {
      var t = v(e);
      if (t.type == 3 || t.isSingle())
        return this.selectNode(e);
      var n = t.children();
      return n.length > 0 ? this.setStartBefore(n[0]).setEndAfter(n[n.length - 1]) : this.setStart(e, 0).setEnd(e, 0);
    }, collapse: function(e) {
      return e ? this.setEnd(this.startContainer, this.startOffset) : this.setStart(this.endContainer, this.endOffset);
    }, compareBoundaryPoints: function(e, t) {
      var n = this.get(), o = t.get();
      if (!ke)
        return n.compareBoundaryPoints(e, o);
      var i = {};
      i[at] = "StartToStart", i[st] = "EndToStart", i[He] = "EndToEnd", i[ct] = "StartToEnd";
      var u = n.compareEndPoints(i[e], o);
      if (u !== 0)
        return u;
      var c, a, r, d, s;
      if ((e === at || e === ct) && (c = this.startContainer, d = this.startOffset), (e === st || e === He) && (c = this.endContainer, d = this.endOffset), (e === at || e === st) && (a = t.startContainer, s = t.startOffset), (e === He || e === ct) && (a = t.endContainer, s = t.endOffset), c === a) {
        var l = d - s;
        return l > 0 ? 1 : 0 > l ? -1 : 0;
      }
      for (r = a; r && r.parentNode !== c; )
        r = r.parentNode;
      if (r)
        return v(r).index() >= d ? -1 : 1;
      for (r = c; r && r.parentNode !== a; )
        r = r.parentNode;
      return r ? v(r).index() >= s ? 1 : -1 : (r = v(a).next(), r && r.contains(c) ? 1 : (r = v(c).next(), r && r.contains(a) ? -1 : void 0));
    }, cloneRange: function() {
      return new Ce(this.doc).setStart(this.startContainer, this.startOffset).setEnd(this.endContainer, this.endOffset);
    }, toString: function() {
      var e = this.get(), t = ke ? e.text : e.toString();
      return t.replace(/\r\n|\n|\r/g, "");
    }, cloneContents: function() {
      return Lt(this, !0, !1);
    }, deleteContents: function() {
      return Lt(this, !1, !0);
    }, extractContents: function() {
      return Lt(this, !0, !0);
    }, insertNode: function(e) {
      var t, n, o, i = this, u = i.startContainer, c = i.startOffset, a = i.endContainer, r = i.endOffset, d = 1;
      return e.nodeName.toLowerCase() === "#document-fragment" && (t = e.firstChild, n = e.lastChild, d = e.childNodes.length), u.nodeType == 1 ? (o = u.childNodes[c], o ? (u.insertBefore(e, o), u === a && (r += d)) : u.appendChild(e)) : u.nodeType == 3 && (c === 0 ? (u.parentNode.insertBefore(e, u), u.parentNode === a && (r += d)) : c >= u.nodeValue.length ? u.nextSibling ? u.parentNode.insertBefore(e, u.nextSibling) : u.parentNode.appendChild(e) : (o = c > 0 ? u.splitText(c) : u, u.parentNode.insertBefore(e, o), u === a && (a = o, r -= c))), t ? i.setStartBefore(t).setEndAfter(n) : i.selectNode(e), i.compareBoundaryPoints(He, i.cloneRange().setEnd(a, r)) >= 1 ? i : i.setEnd(a, r);
    }, surroundContents: function(e) {
      return e.appendChild(this.extractContents()), this.insertNode(e).selectNode(e);
    }, isControl: function() {
      var e = this, t = e.startContainer, n = e.startOffset, o = e.endContainer, i = e.endOffset;
      return t.nodeType == 1 && t === o && n + 1 === i && v(t.childNodes[n]).isControl();
    }, get: function(e) {
      var t, n = this, o = n.doc;
      if (!ke) {
        t = o.createRange();
        try {
          t.setStart(n.startContainer, n.startOffset), t.setEnd(n.endContainer, n.endOffset);
        } catch {
        }
        return t;
      }
      if (e && n.isControl())
        return t = o.body.createControlRange(), t.addElement(n.startContainer.childNodes[n.startOffset]), t;
      var i = n.cloneRange().down();
      return t = o.body.createTextRange(), t.setEndPoint("StartToStart", fn(i.startContainer, i.startOffset)), t.setEndPoint("EndToStart", fn(i.endContainer, i.endOffset)), t;
    }, html: function() {
      return v(this.cloneContents()).outer();
    }, down: function() {
      function e(n, o, i) {
        if (n.nodeType == 1) {
          var u = v(n).children();
          if (u.length !== 0) {
            var c, a, r, d;
            o > 0 && (c = u.eq(o - 1)), o < u.length && (a = u.eq(o)), c && c.type == 3 && (r = c[0], d = r.nodeValue.length), a && a.type == 3 && (r = a[0], d = 0), r && (i ? t.setStart(r, d) : t.setEnd(r, d));
          }
        }
      }
      var t = this;
      return e(t.startContainer, t.startOffset, !0), e(t.endContainer, t.endOffset, !1), t;
    }, up: function() {
      function e(n, o, i) {
        n.nodeType == 3 && (o === 0 ? i ? t.setStartBefore(n) : t.setEndBefore(n) : o == n.nodeValue.length && (i ? t.setStartAfter(n) : t.setEndAfter(n)));
      }
      var t = this;
      return e(t.startContainer, t.startOffset, !0), e(t.endContainer, t.endOffset, !1), t;
    }, enlarge: function(e) {
      function t(o, i, u) {
        var c, a = v(o);
        if (!(a.type == 3 || Tt[a.name] || !e && a.isBlock())) {
          if (i === 0) {
            for (; !a.prev() && (c = a.parent(), c && !Tt[c.name] && (e || !c.isBlock())); )
              a = c;
            u ? n.setStartBefore(a[0]) : n.setEndBefore(a[0]);
          } else if (i == a.children().length) {
            for (; !a.next() && (c = a.parent(), c && !Tt[c.name] && (e || !c.isBlock())); )
              a = c;
            u ? n.setStartAfter(a[0]) : n.setEndAfter(a[0]);
          }
        }
      }
      var n = this;
      return n.up(), t(n.startContainer, n.startOffset, !0), t(n.endContainer, n.endOffset, !1), n;
    }, shrink: function() {
      for (var e, t = this, n = t.collapsed; t.startContainer.nodeType == 1 && (e = t.startContainer.childNodes[t.startOffset]) && e.nodeType == 1 && !v(e).isSingle(); )
        t.setStart(e, 0);
      if (n)
        return t.collapse(n);
      for (; t.endContainer.nodeType == 1 && t.endOffset > 0 && (e = t.endContainer.childNodes[t.endOffset - 1]) && e.nodeType == 1 && !v(e).isSingle(); )
        t.setEnd(e, e.childNodes.length);
      return t;
    }, createBookmark: function(e) {
      var t, n = this, o = n.doc, i = v('<span style="display:none;"></span>', o)[0];
      return i.id = "__kindeditor_bookmark_start_" + Pn++ + "__", n.collapsed || (t = i.cloneNode(!0), t.id = "__kindeditor_bookmark_end_" + Pn++ + "__"), t && n.cloneRange().collapse(!1).insertNode(t).setEndBefore(t), n.insertNode(i).setStartAfter(i), { start: e ? "#" + i.id : i, end: t ? e ? "#" + t.id : t : null };
    }, moveToBookmark: function(e) {
      var t = this, n = t.doc, o = v(e.start, n), i = e.end ? v(e.end, n) : null;
      return !o || o.length < 1 || (t.setStartBefore(o[0]), o.remove(), i && i.length > 0 ? (t.setEndBefore(i[0]), i.remove()) : t.collapse(!0)), t;
    }, dump: function() {
      console.log("--------------------"), console.log(this.startContainer.nodeType == 3 ? this.startContainer.nodeValue : this.startContainer, this.startOffset), console.log(this.endContainer.nodeType == 3 ? this.endContainer.nodeValue : this.endContainer, this.endOffset);
    } }), v.RangeClass = Ce, v.range = Bt, v.START_TO_START = at, v.START_TO_END = st, v.END_TO_END = He, v.END_TO_START = ct, he(Je, { init: function(e, t) {
      var n = this, o = e.doc;
      n.doc = o, n.win = Le(o), n.sel = Ft(o), n.range = e, n.editorOptions = t;
    }, selection: function(e) {
      var t = this, n = t.doc, o = ri(n);
      return t.sel = Ft(n), o ? (t.range = Bt(o), v(t.range.startContainer).name == "html" && t.range.selectNodeContents(n.body).collapse(!1), t) : (e && t.range.selectNodeContents(n.body).collapse(!1), t);
    }, select: function(e) {
      e = V(e, !0);
      var t, n = this, o = n.sel, i = n.range.cloneRange().shrink(), u = i.startContainer, c = i.startOffset, a = (i.endContainer, i.endOffset, Re(u)), r = n.win, d = !1;
      if (e && u.nodeType == 1 && i.collapsed) {
        if (ke) {
          var s = v("<span>&nbsp;</span>", a);
          i.insertNode(s[0]), t = a.body.createTextRange();
          try {
            t.moveToElementText(s[0]);
          } catch {
          }
          return t.collapse(!1), t.select(), s.remove(), r.focus(), n;
        }
        if (Fe) {
          var l = u.childNodes;
          (v(u).isInline() || c > 0 && v(l[c - 1]).isInline() || l[c] && v(l[c]).isInline()) && (i.insertNode(a.createTextNode("\u200B")), d = !0);
        }
      }
      if (ke)
        try {
          t = i.get(!0), t.select();
        } catch (m) {
          console.info("error", m);
        }
      else if (d && i.collapse(!1), t = i.get(!0), o.removeAllRanges(), o.addRange(t), n.editorOptions && n.editorOptions.scrollToEditingTarget && a !== document) {
        try {
          var f = [].filter.call(t.endContainer.children, function(m) {
            return m.nodeName == "IMG";
          }).length;
          if (f > 1)
            return;
        } catch (m) {
          console.info("error", m);
        }
        var p = v(t.endContainer).pos();
        r.scrollTo(p.x, p.y);
      }
      return r.focus(), n;
    }, wrap: function(e) {
      var t, n = this, o = n.doc, i = n.range;
      if (t = v(e, o), i.collapsed)
        return i.shrink(), i.insertNode(t[0]).selectNodeContents(t[0]), n;
      if (t.isBlock()) {
        for (var u = t.clone(!0), c = u; c.first(); )
          c = c.first();
        return c.append(i.extractContents()), i.insertNode(u[0]).selectNode(u[0]), n;
      }
      i.enlarge();
      var a = i.createBookmark(), r = i.commonAncestor(), d = !1;
      return v(r).scan(function(s) {
        if (!d && s == a.start)
          return void (d = !0);
        if (d) {
          if (s == a.end)
            return !1;
          var l = v(s);
          if (si(l))
            return;
          if (l.type == 3 && ne(s.nodeValue).length > 0) {
            for (var f; (f = l.parent()) && f.isStyle() && f.children().length == 1; )
              l = f;
            li(l, t);
          }
        }
      }), i.moveToBookmark(a), n;
    }, split: function(e, t) {
      for (var n, o = this.range, i = o.doc, u = o.cloneRange().collapse(e), c = u.startContainer, a = u.startOffset, r = c.nodeType == 3 ? c.parentNode : c, d = !1; r && r.parentNode; ) {
        if (n = v(r), t) {
          if (!n.isStyle() || !Ot(n, t))
            break;
        } else if (Tt[n.name])
          break;
        d = !0, r = r.parentNode;
      }
      if (d) {
        var s = i.createElement("span");
        o.cloneRange().collapse(!e).insertNode(s), e ? u.setStartBefore(r.firstChild).setEnd(c, a) : u.setStart(c, a).setEndAfter(r.lastChild);
        var l = u.extractContents(), f = l.firstChild, p = l.lastChild;
        e ? (u.insertNode(l), o.setStartAfter(p).setEndBefore(s)) : (r.appendChild(l), o.setStartBefore(s).setEndBefore(f));
        var m = s.parentNode;
        if (m == o.endContainer) {
          var g = v(s).prev(), k = v(s).next();
          g && k && g.type == 3 && k.type == 3 ? o.setEnd(g[0], g[0].nodeValue.length) : e || o.setEnd(o.endContainer, o.endOffset - 1);
        }
        m.removeChild(s);
      }
      return this;
    }, remove: function(e) {
      var t = this, n = t.doc, o = t.range;
      if (o.enlarge(), o.startOffset === 0) {
        for (var i, u = v(o.startContainer); (i = u.parent()) && i.isStyle() && i.children().length == 1; )
          u = i;
        o.setStart(u[0], 0), u = v(o.startContainer), u.isBlock() && Ut(u, e);
        var c = u.parent();
        c && c.isBlock() && Ut(c, e);
      }
      var a, r;
      if (o.collapsed) {
        if (t.split(!0, e), a = o.startContainer, r = o.startOffset, r > 0) {
          var d = v(a.childNodes[r - 1]);
          d && Pe(d) && (d.remove(), o.setStart(a, r - 1));
        }
        var s = v(a.childNodes[r]);
        return s && Pe(s) && s.remove(), Pe(a) && (o.startBefore(a), a.remove()), o.collapse(!0), t;
      }
      t.split(!0, e), t.split(!1, e);
      var l = n.createElement("span"), f = n.createElement("span");
      o.cloneRange().collapse(!1).insertNode(f), o.cloneRange().collapse(!0).insertNode(l);
      var p = [], m = !1;
      v(o.commonAncestor()).scan(function(N) {
        return m || N != l ? N == f ? !1 : void (m && p.push(N)) : void (m = !0);
      }), v(l).remove(), v(f).remove(), a = o.startContainer, r = o.startOffset;
      var g = o.endContainer, k = o.endOffset;
      if (r > 0) {
        var y = v(a.childNodes[r - 1]);
        y && Pe(y) && (y.remove(), o.setStart(a, r - 1), a == g && o.setEnd(g, k - 1));
        var C = v(a.childNodes[r]);
        C && Pe(C) && (C.remove(), a == g && o.setEnd(g, k - 1));
      }
      var _ = v(g.childNodes[o.endOffset]);
      _ && Pe(_) && _.remove();
      var I = o.createBookmark(!0);
      return z(p, function(N, A) {
        Ut(v(A), e);
      }), o.moveToBookmark(I), t;
    }, commonNode: function(e) {
      function t(r) {
        for (var d = r, s = r; s; ) {
          if (Ot(v(s), e))
            return v(s);
          s = s.parentNode;
        }
        for (; d && (d = d.lastChild); )
          if (Ot(v(d), e))
            return v(d);
        return null;
      }
      var n = this.range, o = n.endContainer, i = n.endOffset, u = o.nodeType == 3 || i === 0 ? o : o.childNodes[i - 1], c = t(u);
      if (c)
        return c;
      if (!u)
        return null;
      if (u.nodeType == 1 || o.nodeType == 3 && i === 0) {
        var a = v(u).prev();
        if (a)
          return t(a);
      }
      return null;
    }, commonAncestor: function(e) {
      function t(l) {
        for (; l; ) {
          if (l.nodeType == 1 && l.tagName.toLowerCase() === e)
            return l;
          l = l.parentNode;
        }
        return null;
      }
      var n = this.range, o = n.startContainer, i = n.startOffset, u = n.endContainer, c = n.endOffset, a = o.nodeType == 3 || i === 0 ? o : o.childNodes[i - 1], r = u.nodeType == 3 || c === 0 ? u : u.childNodes[c - 1], d = t(a), s = t(r);
      return d && s && d === s ? v(d) : null;
    }, state: function(e) {
      var t = this, n = t.doc, o = !1;
      try {
        o = n.queryCommandState(e);
      } catch {
      }
      return o;
    }, val: function(e) {
      function t(c) {
        return c.toLowerCase();
      }
      var n = this, o = n.doc;
      n.range, e = t(e);
      var i, u = "";
      return e === "fontfamily" || e === "fontname" ? (u = hn(o, "fontname"), u = u.replace(/['"]/g, ""), t(u)) : e === "formatblock" ? (u = hn(o, e), u === "" && (i = n.commonNode({ "h1,h2,h3,h4,h5,h6,p,div,pre,address": "*" }), i && (u = i.name)), u === "Normal" && (u = "p"), t(u)) : e === "fontsize" ? (i = n.commonNode({ "*": ".font-size" }), i && (u = i.css("font-size")), t(u)) : e === "forecolor" ? (i = n.commonNode({ "*": ".color" }), i && (u = i.css("color")), u = mt(u), u === "" && (u = "default"), t(u)) : e === "hilitecolor" ? (i = n.commonNode({ "*": ".background-color" }), i && (u = i.css("background-color")), u = mt(u), u === "" && (u = "default"), t(u)) : u;
    }, toggle: function(e, t) {
      var n = this;
      return n.commonNode(t) ? n.remove(t) : n.wrap(e), n.select();
    }, bold: function() {
      return this.toggle("<strong></strong>", { span: ".font-weight=bold", strong: "*", b: "*" });
    }, italic: function() {
      return this.toggle("<em></em>", { span: ".font-style=italic", em: "*", i: "*" });
    }, underline: function() {
      return this.toggle("<u></u>", { span: ".text-decoration=underline", u: "*" });
    }, strikethrough: function() {
      return this.toggle("<s></s>", { span: ".text-decoration=line-through", s: "*" });
    }, forecolor: function(e) {
      return this.wrap('<span style="color:' + e + ';"></span>').select();
    }, hilitecolor: function(e) {
      return this.wrap('<span style="background-color:' + e + ';"></span>').select();
    }, fontsize: function(e) {
      return this.wrap('<span style="font-size:' + e + ';"></span>').select();
    }, fontname: function(e) {
      return this.fontfamily(e);
    }, fontfamily: function(e) {
      return this.wrap('<span style="font-family:' + e + ';"></span>').select();
    }, removeformat: function() {
      var e = { "*": ".font-weight,.font-style,.text-decoration,.color,.background-color,.font-size,.font-family,.text-indent" }, t = Bn;
      return z(t, function(n, o) {
        e[n] = "*";
      }), this.remove(e), this.select();
    }, inserthtml: function(e, t) {
      function n(c, a) {
        a = '<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />' + a;
        var r = c.get();
        r.item ? r.item(0).outerHTML = a : r.pasteHTML(a);
        var d = c.doc.getElementById("__kindeditor_temp_tag__");
        d.parentNode.removeChild(d);
        var s = pn(r);
        c.setEnd(s.endContainer, s.endOffset), c.collapse(!1), i.select(!1);
      }
      function o(c, a) {
        var r = c.doc, d = r.createDocumentFragment();
        v("@" + a, r).each(function() {
          d.appendChild(this);
        }), c.deleteContents(), c.insertNode(d), c.collapse(!1), i.select(!1);
      }
      var i = this, u = i.range;
      if (e === "")
        return i;
      if (ke && t) {
        try {
          n(u, e);
        } catch {
          o(u, e);
        }
        return i;
      }
      return o(u, e), i;
    }, hr: function() {
      return this.inserthtml("<hr />");
    }, print: function() {
      return this.win.print(), this;
    }, insertimage: function(e, t, n, o, i, u, c, a) {
      t = V(t, ""), c = V(c, "");
      var r = '<img data-ke-class="' + c + '" src="' + se(e) + '" data-ke-src="' + se(e) + '" ';
      return n && (r += 'width="' + se(n) + '" '), o && (r += 'height="' + se(o) + '" '), t && (r += 'title="' + se(t) + '" '), u && (r += 'align="' + se(u) + '" '), r += 'alt="' + se(t) + '" ', r += "/>", a && (r = "<" + a + ">" + r + "</" + a + ">"), this.inserthtml(r);
    }, createlink: function(e, t) {
      function n(m, g, k) {
        v(m).attr("href", g).attr("data-ke-src", g), k ? v(m).attr("target", k) : v(m).removeAttr("target");
      }
      var o = this, i = o.doc, u = o.range;
      o.select();
      var c = o.commonNode({ a: "*" });
      c && !u.isControl() && (u.selectNode(c.get()), o.select());
      var a = '<a href="' + se(e) + '" data-ke-src="' + se(e) + '" ';
      if (t && (a += ' target="' + se(t) + '"'), u.collapsed)
        return a += ">" + se(e) + "</a>", o.inserthtml(a);
      if (u.isControl()) {
        var r = v(u.startContainer.childNodes[u.startOffset]);
        return a += "></a>", r.after(v(a, i)), r.next().append(r), u.selectNode(r[0]), o.select();
      }
      var d = u.startContainer, s = u.startOffset, l = u.endContainer, f = u.endOffset;
      if (d.nodeType == 1 && d === l && s + 1 === f) {
        var p = d.childNodes[s];
        if (p.nodeName.toLowerCase() == "a")
          return n(p, e, t), o;
      }
      return Se(i, "createlink", "__kindeditor_temp_url__"), v('a[href="__kindeditor_temp_url__"]', i).each(function() {
        n(this, e, t);
      }), o;
    }, unlink: function() {
      var e = this, t = e.doc, n = e.range;
      if (e.select(), n.collapsed) {
        var o = e.commonNode({ a: "*" });
        if (o && (n.selectNode(o.get()), e.select()), Se(t, "unlink", null), Fe && v(n.startContainer).name === "img") {
          var i = v(n.startContainer).parent();
          i.name === "a" && i.remove(!0);
        }
      } else
        Se(t, "unlink", null);
      return e;
    } }), z("formatblock,selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript".split(","), function(e, t) {
      Je.prototype[t] = function(n) {
        var o = this;
        return o.select(), Se(o.doc, t, n), ke && pe(t, "justifyleft,justifycenter,justifyright,justifyfull".split(",")) >= 0 && o.selection(), (!ke || pe(t, "formatblock,selectall,insertorderedlist,insertunorderedlist".split(",")) >= 0) && o.selection(), o;
      };
    }), z("cut,copy,paste".split(","), function(e, t) {
      Je.prototype[t] = function() {
        var n = this;
        if (!n.doc.queryCommandSupported(t))
          throw "not supported";
        return n.select(), Se(n.doc, t, null), n;
      };
    }), v.CmdClass = Je, v.cmd = yn, he(Ee, { init: function(e) {
      var t = this;
      if (t.name = e.name || "", t.doc = e.doc || document, t.win = Le(t.doc), t.x = J(e.x), t.y = J(e.y), t.z = e.z, t.width = J(e.width), t.height = J(e.height), t.div = v('<div style="display:block;"></div>'), t.options = e, t._alignEl = e.alignEl, t.width && t.div.css("width", t.width), t.height && t.div.css("height", t.height), t.z && t.div.css({ position: "absolute", left: t.x, top: t.y, "z-index": t.z }), !t.z || t.x !== void 0 && t.y !== void 0 || t.autoPos(t.width, t.height), e.cls && t.div.addClass(e.cls), e.shadowMode && t.div.addClass("ke-shadow"), e.css && t.div.css(e.css), e.src ? v(e.src).replaceWith(t.div) : v(t.doc.body).append(t.div), e.html && t.div.html(e.html), e.autoScroll)
        if (Q && 7 > ce || Me) {
          var n = je();
          v(t.win).bind("scroll", function(o) {
            var i = je(), u = i.x - n.x, c = i.y - n.y;
            t.pos(X(t.x) + u, X(t.y) + c, !1);
          });
        } else
          t.div.css("position", "fixed");
    }, pos: function(e, t, n) {
      var o = this;
      return n = V(n, !0), e !== null && (e = 0 > e ? 0 : J(e), o.div.css("left", e), n && (o.x = e)), t !== null && (t = 0 > t ? 0 : J(t), o.div.css("top", t), n && (o.y = t)), o;
    }, autoPos: function(e, t) {
      var n, o, i = this, u = X(e) || 0, c = X(t) || 0, a = je();
      if (i._alignEl) {
        var r = v(i._alignEl), d = r.pos(), s = Ne(r[0].clientWidth / 2 - u / 2), l = Ne(r[0].clientHeight / 2 - c / 2);
        n = 0 > s ? d.x : d.x + s, o = 0 > l ? d.y : d.y + l;
      } else {
        var f = ve(i.doc);
        n = Ne(a.x + (f.clientWidth - u) / 2), o = Ne(a.y + (f.clientHeight - c) / 2);
      }
      return Q && 7 > ce || Me || (n -= a.x, o -= a.y), i.pos(n, o);
    }, remove: function() {
      var e = this;
      return (Q && 7 > ce || Me) && v(e.win).unbind("scroll"), e.div.remove(), z(e, function(t) {
        e[t] = null;
      }), this;
    }, show: function() {
      return this.div.show(), this;
    }, hide: function() {
      return this.div.hide(), this;
    }, draggable: function(e) {
      var t = this;
      return e = e || {}, e.moveEl = t.div, e.moveFn = function(n, o, i, u, c, a) {
        (n += c) < 0 && (n = 0), (o += a) < 0 && (o = 0), t.pos(n, o);
      }, jt(e), t;
    } }), v.WidgetClass = Ee, v.widget = Pt;
    var Et, Yt = "";
    (Et = document.getElementsByTagName("html")) && (Yt = Et[0].dir), he(tt, Ee, { init: function(e) {
      function t() {
        var s = Ht(n.iframe);
        s.open(), a && (s.domain = document.domain), s.write(ci(o, i, u, c)), s.close(), n.win = n.iframe[0].contentWindow, n.doc = s;
        var l = yn(s, e.editorOptions);
        n.afterChange(function(f) {
          l.selection();
        }), Fe && v(s).click(function(f) {
          (v(f.target).name === "img" || v(f.target).name === "audio" || v(f.target).name === "video") && (l.selection(!0), l.range.selectNode(f.target), l.select());
        }), Q && (n._mousedownHandler = function() {
          var f = l.range.cloneRange();
          f.shrink(), f.isControl() && n.blur();
        }, v(document).mousedown(n._mousedownHandler), v(s).keydown(function(f) {
          if (f.which == 8) {
            l.selection();
            var p = l.range;
            p.isControl() && (p.collapse(!0), v(p.startContainer.childNodes[p.startOffset]).remove(), f.preventDefault());
          }
        })), n.cmd = l, n.html(et(n.srcElement)), Q ? (s.body.disabled = !0, s.body.contentEditable = !0, s.body.removeAttribute("disabled")) : s.designMode = "on", e.afterCreate && e.afterCreate.call(n);
      }
      var n = this;
      tt.parent.init.call(n, e), n.srcElement = v(e.srcElement), n.div.addClass("ke-edit"), n.designMode = V(e.designMode, !0), n.beforeGetHtml = e.beforeGetHtml, n.beforeSetHtml = e.beforeSetHtml, n.afterSetHtml = e.afterSetHtml;
      var o = V(e.themesPath, ""), i = e.bodyClass, u = e.cssPath, c = e.cssData, a = location.protocol != "res:" && location.host.replace(/:\d+/, "") !== document.domain, r = "document.open();" + (a ? 'document.domain="' + document.domain + '";' : "") + "document.close();", d = Q ? ' src="javascript:void(function(){' + encodeURIComponent(r) + '}())"' : "";
      n.iframe = v('<iframe class="ke-edit-iframe" hidefocus="true" frameborder="0"' + d + "></iframe>").css("width", "100%"), n.textarea = v('<textarea class="ke-edit-textarea" hidefocus="true"></textarea>').css("width", "100%"), n.tabIndex = isNaN(parseInt(e.tabIndex, 10)) ? n.srcElement.attr("tabindex") : parseInt(e.tabIndex, 10), n.iframe.attr("tabindex", n.tabIndex), n.textarea.attr("tabindex", n.tabIndex), n.width && n.setWidth(n.width), n.height && n.setHeight(n.height), n.designMode ? n.textarea.hide() : n.iframe.hide(), a && n.iframe.bind("load", function(s) {
        n.iframe.unbind("load"), Q ? t() : setTimeout(t, 0);
      }), n.div.append(n.iframe), n.div.append(n.textarea), n.srcElement.hide(), !a && t();
    }, setWidth: function(e) {
      var t = this;
      return e = J(e), t.width = e, t.div.css("width", e), t;
    }, setHeight: function(e) {
      var t = this;
      return e = J(e), t.height = e, t.div.css("height", e), t.iframe.css("height", e), (Q && 8 > ce || Me) && (e = J(X(e) - 2)), t.textarea.css("height", e), t;
    }, remove: function() {
      var e = this, t = e.doc;
      v(t.body).unbind(), v(t).unbind(), v(e.win).unbind(), e._mousedownHandler && v(document).unbind("mousedown", e._mousedownHandler), et(e.srcElement, e.html()), e.srcElement.show(), e.iframe.unbind(), e.textarea.unbind(), tt.parent.remove.call(e);
    }, html: function(e, t) {
      var n = this, o = n.doc;
      if (n.designMode) {
        var i = o.body;
        return e === void 0 ? (e = t ? "<!doctype html><html>" + i.parentNode.innerHTML + "</html>" : i.innerHTML, n.beforeGetHtml && (e = n.beforeGetHtml(e)), Be && e == "<br />" && (e = ""), e) : (n.beforeSetHtml && (e = n.beforeSetHtml(e)), Q && ce >= 9 && (e = e.replace(/(<.*?checked=")checked(".*>)/gi, "$1$2")), v(i).html(e), n.afterSetHtml && n.afterSetHtml(), n);
      }
      return e === void 0 ? n.textarea.val() : (n.textarea.val(e), n);
    }, design: function(e) {
      var t, n = this;
      if (e === void 0 ? !n.designMode : e) {
        if (!n.designMode) {
          t = n.html(), n.designMode = !0, n.textarea.hide(), n.html(t);
          var o = n.iframe, i = X(n.height);
          o.height(i - 2), o.show(), setTimeout(function() {
            o.height(i);
          }, 0);
        }
      } else
        n.designMode && (t = n.html(), n.designMode = !1, n.html(t), n.iframe.hide(), n.textarea.show());
      return n.focus();
    }, focus: function() {
      var e = this;
      return e.designMode ? e.win.focus() : e.textarea[0].focus(), e;
    }, blur: function() {
      var e = this;
      if (Q) {
        var t = v('<input type="text" style="float:left;width:0;height:0;padding:0;margin:0;border:0;" value="" />', e.div);
        e.div.append(t), t[0].focus(), t.remove();
      } else
        e.designMode ? e.win.blur() : e.textarea[0].blur();
      return e;
    }, afterChange: function(e) {
      function t(u) {
        setTimeout(function() {
          e(u);
        }, 1);
      }
      var n = this, o = n.doc, i = o.body;
      if (e)
        return v(o).keyup(function(u) {
          u.ctrlKey || u.altKey || !Qt[u.which] || e(u);
        }), v(o).mouseup(e).contextmenu(e), v(n.win).blur(e), v(i).bind("paste", t), v(i).bind("cut", t), n;
    } }), v.EditClass = tt, v.edit = kn, v.iframeDoc = Ht, he(bt, Ee, { init: function(e) {
      function t(i) {
        var u = v(i);
        return u.hasClass("ke-outline") ? u : u.hasClass("ke-toolbar-icon") ? u.parent() : void 0;
      }
      function n(i, u) {
        var c = t(i.target);
        if (c) {
          if (c.hasClass("ke-disabled") || c.hasClass("ke-selected"))
            return;
          c[u]("ke-on");
        }
      }
      var o = this;
      bt.parent.init.call(o, e), o.disableMode = V(e.disableMode, !1), o.noDisableItemMap = oe(V(e.noDisableItems, [])), o._itemMap = {}, o.div.addClass("ke-toolbar").bind("contextmenu,mousedown,mousemove", function(i) {
        i.preventDefault();
      }).attr("unselectable", "on"), o.div.mouseover(function(i) {
        n(i, "addClass");
      }).mouseout(function(i) {
        n(i, "removeClass");
      }).click(function(i) {
        var u = t(i.target);
        if (u) {
          if (u.hasClass("ke-disabled"))
            return;
          o.options.click.call(this, i, u.attr("data-name"));
        }
      });
    }, get: function(e) {
      return this._itemMap[e] ? this._itemMap[e] : this._itemMap[e] = v("span.ke-icon-" + e, this.div).parent();
    }, select: function(e) {
      return bn.call(this, e, function(t) {
        t.addClass("ke-selected");
      }), self;
    }, unselect: function(e) {
      return bn.call(this, e, function(t) {
        t.removeClass("ke-selected").removeClass("ke-on");
      }), self;
    }, enable: function(e) {
      var t = this, n = e.get ? e : t.get(e);
      return n && (n.removeClass("ke-disabled"), n.opacity(1)), t;
    }, disable: function(e) {
      var t = this, n = e.get ? e : t.get(e);
      return n && (n.removeClass("ke-selected").addClass("ke-disabled"), n.opacity(0.5)), t;
    }, disableAll: function(e, t) {
      var n = this, o = n.noDisableItemMap;
      return t && (o = oe(t)), (e === void 0 ? !n.disableMode : e) ? (v("span.ke-outline", n.div).each(function() {
        var i = v(this), u = i[0].getAttribute("data-name", 2);
        o[u] || n.disable(i);
      }), n.disableMode = !0) : (v("span.ke-outline", n.div).each(function() {
        var i = v(this), u = i[0].getAttribute("data-name", 2);
        o[u] || n.enable(i);
      }), n.disableMode = !1), n;
    } }), v.ToolbarClass = bt, v.toolbar = wn, he(nt, Ee, { init: function(e) {
      var t = this;
      e.z = e.z || 811213, nt.parent.init.call(t, e), t.centerLineMode = V(e.centerLineMode, !0), t.div.addClass("ke-menu").bind("click,mousedown", function(n) {
        n.stopPropagation();
      }).attr("unselectable", "on");
    }, addItem: function(e) {
      var t = this;
      if (e.title === "-")
        return void t.div.append(v('<div class="ke-menu-separator"></div>'));
      var n = v('<div class="ke-menu-item" unselectable="on"></div>'), o = v('<div class="ke-inline-block ke-menu-item-left"></div>'), i = v('<div class="ke-inline-block ke-menu-item-right"></div>'), u = J(e.height), c = V(e.iconClass, "");
      t.div.append(n), u && (n.css("height", u), i.css("line-height", u));
      var a;
      return t.centerLineMode && (a = v('<div class="ke-inline-block ke-menu-item-center"></div>'), u && a.css("height", u)), n.mouseover(function(r) {
        v(this).addClass("ke-menu-item-on"), a && a.addClass("ke-menu-item-center-on");
      }).mouseout(function(r) {
        v(this).removeClass("ke-menu-item-on"), a && a.removeClass("ke-menu-item-center-on");
      }).click(function(r) {
        e.click.call(v(this)), r.stopPropagation();
      }).append(o), a && n.append(a), n.append(i), e.checked && (c = "ke-icon-checked icon-ke-font"), c !== "" && o.html('<span class="ke-inline-block ke-toolbar-icon icon-ke-font ke-toolbar-icon-url ' + c + '"></span>'), i.html(e.title), t;
    }, remove: function() {
      var e = this;
      return e.options.beforeRemove && e.options.beforeRemove.call(e), v(".ke-menu-item", e.div[0]).unbind(), nt.parent.remove.call(e), e;
    } }), v.MenuClass = nt, v.menu = qt, he(it, Ee, { init: function(e) {
      var t = this;
      e.z = e.z || 811213, it.parent.init.call(t, e);
      var n = e.colors || [["#1abc9c", "#2ecc71", "#3498db", "#9b59b6", "#4e5f70", "#f1c40f"], ["#16a085", "#27ae60", "#2980b9", "#8e44ad", "#2c3e50", "#f39c12"], ["#E53333", "#E56600", "#FF9900", "#64451D", "#DFC5A4", "#FFE500"], ["#009900", "#006600", "#99BB00", "#B8D100", "#60D978", "#00D5FF"], ["#337FE5", "#003399", "#4C33E5", "#9933E5", "#CC33E5", "#EE33EE"], ["#FFFFFF", "#CCCCCC", "#999999", "#666666", "#333333", "#000000"]];
      t.selectedColor = (e.selectedColor || "").toLowerCase(), t._cells = [], t.div.addClass("ke-colorpicker").bind("click,mousedown", function(r) {
        r.stopPropagation();
      }).attr("unselectable", "on");
      var o = t.doc.createElement("table");
      t.div.append(o), o.className = "ke-colorpicker-table", o.cellPadding = 0, o.cellSpacing = 0, o.border = 0;
      var i = o.insertRow(0), u = i.insertCell(0);
      u.colSpan = n[0].length, t._addAttr(u, "", "ke-colorpicker-cell-top");
      for (var c = 0; c < n.length; c++) {
        i = o.insertRow(c + 1);
        for (var a = 0; a < n[c].length; a++)
          u = i.insertCell(a), t._addAttr(u, n[c][a], "ke-colorpicker-cell");
      }
    }, _addAttr: function(e, t, n) {
      var o = this;
      e = v(e).addClass(n), o.selectedColor === t.toLowerCase() && e.addClass("ke-colorpicker-cell-selected"), e.attr("title", t || o.options.noColor), e.mouseover(function(i) {
        v(this).addClass("ke-colorpicker-cell-on");
      }), e.mouseout(function(i) {
        v(this).removeClass("ke-colorpicker-cell-on");
      }), e.click(function(i) {
        i.stop(), o.options.click.call(v(this), t);
      }), t ? e.append(v('<div class="ke-colorpicker-cell-color" unselectable="on"></div>').css("background-color", t)) : e.html(o.options.noColor), v(e).attr("unselectable", "on"), o._cells.push(e);
    }, remove: function() {
      var e = this;
      return z(e._cells, function() {
        this.unbind();
      }), it.parent.remove.call(e), e;
    } }), v.ColorPickerClass = it, v.colorpicker = xn, he(Wt, { init: function(e) {
      var t = this, n = v(e.button), o = e.fieldName || "file", i = e.url || "", u = n.val(), c = e.extraParams || {}, a = e.uploadResponseFilter, r = n[0].className || "", d = e.target || "kindeditor_upload_iframe_" + new Date().getTime();
      e.afterError = e.afterError || function(y) {
        alert(y);
      };
      var s = [];
      for (var l in c)
        s.push('<input type="hidden" name="' + l + '" value="' + c[l] + '" />');
      var f = ['<div class="ke-inline-block ' + r + '">', e.target ? "" : '<iframe name="' + d + '" style="display:none;"></iframe>', e.form ? '<div class="ke-upload-area">' : '<form class="ke-upload-area ke-form" method="post" enctype="multipart/form-data" target="' + d + '" action="' + i + '">', '<span class="ke-button-common">', s.join(""), '<input type="button" class="ke-button-common ke-button" value="' + u + '" />', "</span>", '<input type="file" class="ke-upload-file" name="' + o + '" tabindex="-1" />', e.form ? "</div>" : "</form>", "</div>"].join(""), p = v(f, n.doc);
      n.hide(), n.before(p), t.div = p, t.button = n, t.fileBox = v(".ke-upload-file", p), t.form = e.form ? v(e.form) : v("form", p);
      var m = v.undef(e.fileSizeLimit, "1MB"), g = v.undef(e.fileTypeLimit, "*.jpg;*.gif;*.png");
      t.uploader = WebUploader.create({ server: e.uploadUrl, resize: !1, fileVal: "file", accept: { title: "upload", extensions: g.replace(/\*\./g, "").replace(/;/g, ","), mimeTypes: "image/*" }, headers: e.uploadHeader, formData: e.uploadData, fileNumLimit: 1, fileSingleSizeLimit: 1 * m.replace(/MB/g, "") * 1024 * 1024 }), t.uploader.on("uploadStart", function(y) {
      }), t.uploader.on("uploadSuccess", function(y, C) {
        var _ = C;
        a && (_ = a.call(null, C)), t.options.afterUpload.call(t, _);
      }), t.uploader.on("uploadError", function(y, C) {
        t.options.afterUpload.call(t, { error: 1, message: "[http-error]\u56FE\u7247\u4E0A\u4F20\u5931\u8D25\uFF01" });
      }), t.uploader.on("error", function(y) {
        var C = "\u6587\u4EF6\u4E0A\u4F20\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5\uFF01";
        y === "Q_TYPE_DENIED" ? C = "[" + arguments[1].name + "]\u6587\u4EF6\u7C7B\u578B\u4E0D\u6B63\u786E\uFF01" : y === "F_EXCEED_SIZE" ? C = "\u6587\u4EF6\u5927\u5C0F\u8D85\u51FA\u9650\u5236\uFF08\u6700\u5927" + 1 * e.fileSizeLimit.replace(/MB/g, "") + "M\uFF09\uFF01" : y === "F_DUPLICATE" && (C = "[" + arguments[1].name + "]\u6587\u4EF6\u5DF2\u5B58\u5728\u4E8E\u5F85\u4E0A\u4F20\u5217\u8868\u4E2D\uFF01"), console.error("\u6587\u4EF6\u4E0A\u4F20\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5\uFF01", arguments), t.options.afterUpload.call(t, { error: 1, message: C }), t.uploader.reset(), t.form && t.form[0] && t.form[0].reset && t.form[0].reset();
      }), t.fileBox.bind("change", function() {
        t.uploader.reset(), this.files && t.uploader.addFiles(this.files);
      });
      var k = e.width || v(".ke-button-common", p).width();
      v(".ke-upload-area", p).width(k), t.options = e;
    }, submit: function() {
      var e = this, t = e.uploader.getFiles();
      return t.length <= 0 ? (alert("\u8BF7\u9009\u62E9\u6587\u4EF6"), void e.uploader.reset()) : (setTimeout(function() {
        e.uploader.upload();
      }, 100), e);
    }, remove: function() {
      var e = this;
      return e.fileBox && e.fileBox.unbind(), e.div.remove(), e.button.show(), e;
    } }), v.UploadButtonClass = Wt, v.uploadbutton = ui, he(rt, Ee, { init: function(e) {
      var t = this, n = V(e.shadowMode, !0);
      e.z = e.z || 811213, e.shadowMode = !1, e.autoScroll = V(e.autoScroll, !0), rt.parent.init.call(t, e);
      var o = e.title, i = v(e.body, t.doc), u = e.previewBtn, c = e.yesBtn, a = e.noBtn, r = e.closeBtn, d = V(e.showMask, !0);
      t.div.addClass("ke-dialog").bind("click,mousedown", function(y) {
        y.stopPropagation();
      });
      var s = v('<div class="ke-dialog-content"></div>').appendTo(t.div);
      Q && 7 > ce ? t.iframeMask = v('<iframe src="about:blank" class="ke-dialog-shadow"></iframe>').appendTo(t.div) : n && v('<div class="ke-dialog-shadow"></div>').appendTo(t.div);
      var l = v('<div class="ke-dialog-header"></div>');
      s.append(l), l.html(o), t.closeIcon = v('<span class="ke-dialog-icon-close" title="' + r.name + '"></span>').click(r.click), l.append(t.closeIcon), t.draggable({ clickEl: l, beforeDrag: e.beforeDrag });
      var f = v('<div class="ke-dialog-body"></div>');
      s.append(f), f.append(i);
      var p = v('<div class="ke-dialog-footer"></div>');
      if ((u || c || a) && s.append(p), z([{ btn: u, name: "preview" }, { btn: c, name: "yes" }, { btn: a, name: "no" }], function() {
        if (this.btn) {
          var y = di(this.btn);
          y.addClass("ke-dialog-" + this.name), p.append(y);
        }
      }), t.height && f.height(X(t.height) - l.height() - p.height() - 2), t.div.width(t.div.width()), t.div.height(t.div.height()), t.mask = null, d) {
        var m = ve(t.doc), g = Math.max(m.scrollWidth, m.clientWidth), k = Math.max(m.scrollHeight, m.clientHeight);
        t.mask = Pt({ x: 0, y: 0, z: t.z - 1, cls: "ke-dialog-mask", width: g, height: k });
      }
      t.autoPos(t.div.width(), t.div.height()), t.footerDiv = p, t.bodyDiv = f, t.headerDiv = l, t.isLoading = !1;
    }, setMaskIndex: function(e) {
      var t = this;
      t.mask.div.css("z-index", e);
    }, showLoading: function(e) {
      e = V(e, "");
      var t = this, n = t.bodyDiv;
      return t.loading = v('<div class="ke-dialog-loading"><div class="ke-inline-block ke-dialog-loading-content" style="margin-top:' + Math.round(n.height() / 3) + 'px;">' + e + "</div></div>").width(n.width()).height(n.height()).css("top", t.headerDiv.height() + "px"), n.css("visibility", "hidden").after(t.loading), t.isLoading = !0, t;
    }, hideLoading: function() {
      return this.loading && this.loading.remove(), this.bodyDiv.css("visibility", "visible"), this.isLoading = !1, this;
    }, remove: function() {
      var e = this;
      return e.options.beforeRemove && e.options.beforeRemove.call(e), e.mask && e.mask.remove(), e.iframeMask && e.iframeMask.remove(), e.closeIcon.unbind(), v("input", e.div).unbind(), v("button", e.div).unbind(), e.footerDiv.unbind(), e.bodyDiv.unbind(), e.headerDiv.unbind(), v("iframe", e.div).each(function() {
        v(this).remove();
      }), rt.parent.remove.call(e), e;
    } }), v.DialogClass = rt, v.dialog = Cn, v.tabs = fi, v.loadScript = $t, v.loadStyle = Vt, v.ajax = pi;
    var _e = {}, Te = {};
    ot.prototype = { lang: function(e) {
      return En(e, this.langType);
    }, loadPlugin: function(e, t) {
      var n = this, o = this._pluginStatus;
      return o || (o = this._pluginStatus = {}), _e[e] ? re(_e[e]) ? (o[e] || (_e[e].call(n, KindEditor), o[e] = "inited"), t && t.call(n), n) : (setTimeout(function() {
        n.loadPlugin(e, t);
      }, 100), n) : (_e[e] = "loading", $t(n.pluginsPath + e + "/" + e + ".js?ver=" + encodeURIComponent(v.DEBUG ? _t : Ct), function() {
        setTimeout(function() {
          _e[e] && n.loadPlugin(e, t);
        }, 0);
      }), n);
    }, handler: function(e, t) {
      var n = this;
      return n._handlers[e] || (n._handlers[e] = []), re(t) ? (n._handlers[e].push(t), n) : (z(n._handlers[e], function() {
        t = this.call(n, t);
      }), t);
    }, clickToolbar: function(e, t) {
      var n = this, o = "clickToolbar" + e;
      return t === void 0 ? n._handlers[o] ? n.handler(o) : (n.loadPlugin(e, function() {
        n.handler(o);
      }), n) : n.handler(o, t);
    }, updateState: function() {
      var e = this;
      return z("justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,subscript,superscript,bold,italic,underline,strikethrough".split(","), function(t, n) {
        e.cmd.state(n) ? e.toolbar.select(n) : e.toolbar.unselect(n);
      }), e;
    }, addContextmenu: function(e) {
      return this._contextmenus.push(e), this;
    }, afterCreate: function(e) {
      return this.handler("afterCreate", e);
    }, beforeRemove: function(e) {
      return this.handler("beforeRemove", e);
    }, beforeGetHtml: function(e) {
      return this.handler("beforeGetHtml", e);
    }, beforeSetHtml: function(e) {
      return this.handler("beforeSetHtml", e);
    }, afterSetHtml: function(e) {
      return this.handler("afterSetHtml", e);
    }, create: function() {
      function e() {
        return r.height() === 0 ? void setTimeout(e, 100) : void t.resize(o, i, !1);
      }
      var t = this, n = t.fullscreenMode;
      if (t.isCreated || t.srcElement.data("kindeditor"))
        return t;
      t.srcElement.data("kindeditor", "true"), n ? ve().style.overflow = "hidden" : ve().style.overflow = "";
      var o = n ? ve().clientWidth + "px" : t.width, i = n ? ve().clientHeight + "px" : t.height;
      (Q && 8 > ce || Me) && (i = J(X(i) + 2));
      var u = t.container = v(t.layout);
      n ? v(document.body).append(u) : t.srcElement.before(u);
      var c = v(".toolbar", u), a = v(".edit", u), r = t.statusbar = v(".statusbar", u);
      u.removeClass("container").addClass("ke-container ke-container-" + t.themeType).css("width", o), n ? (u.css({ position: "absolute", left: 0, top: 0, "z-index": 811211 }), Be || (t._scrollPos = je()), window.scrollTo(0, 0), v(document.body).css({ height: "1px", overflow: "hidden" }), v(document.body.parentNode).css("overflow", "hidden"), t._fullscreenExecuted = !0) : (t._fullscreenExecuted && (v(document.body).css({ height: "", overflow: "" }), v(document.body.parentNode).css("overflow", "")), t._scrollPos && window.scrollTo(t._scrollPos.x, t._scrollPos.y));
      var d = [];
      v.each(t.items, function(p, m) {
        m == "|" ? d.push('<span class="ke-inline-block ke-separator"></span>') : m == "/" ? d.push('<div class="ke-hr"></div>') : (d.push('<span class="ke-outline" data-name="' + m + '" title="' + t.lang(m) + '" unselectable="on">'), d.push('<span class="ke-toolbar-icon icon-ke-font ke-toolbar-icon-url ke-icon-' + m + '" unselectable="on"></span></span>'));
      });
      var s = t.toolbar = wn({ src: c, html: d.join(""), noDisableItems: t.noDisableItems, click: function(p, m) {
        if (p.stop(), t.menu) {
          var g = t.menu.name;
          if (t.hideMenu(), g === m)
            return;
        }
        t.clickToolbar(m);
      } }), l = X(i) - s.div.height(), f = t.edit = kn({ height: l > 0 && X(i) > t.minHeight ? l : t.minHeight, src: a, srcElement: t.srcElement, designMode: t.designMode, themesPath: t.themesPath, bodyClass: t.bodyClass, cssPath: t.cssPath, cssData: t.cssData, editorOptions: t.options, beforeGetHtml: function(p) {
        return p = t.beforeGetHtml(p), p = De(xt(p)), Ae(p, t.filterMode ? t.htmlTags : null, t.urlType, t.wellFormatMode, t.indentChar);
      }, beforeSetHtml: function(p) {
        return p = Ae(p, t.filterMode ? t.htmlTags : null, "", !1), t.beforeSetHtml(p);
      }, afterSetHtml: function() {
        t.edit = f = this, t.afterSetHtml();
      }, afterCreate: function() {
        if (t.edit = f = this, t.cmd = f.cmd, t._docMousedownFn = function(m) {
          t.menu && t.hideMenu();
        }, v(f.doc, document).mousedown(t._docMousedownFn), hi.call(t), mi.call(t), gi.call(t), vi.call(t), f.afterChange(function(m) {
          f.designMode && (t.updateState(), t.addBookmark(), t.options.afterChange && t.options.afterChange.call(t));
        }), f.textarea.keyup(function(m) {
          m.ctrlKey || m.altKey || !On[m.which] || t.options.afterChange && t.options.afterChange.call(t);
        }), t.readonlyMode && t.readonly(), t.isCreated = !0, t.initContent === "" && (t.initContent = t.html()), t._undoStack.length > 0) {
          var p = t._undoStack.pop();
          p.start && (t.html(p.html), f.cmd.range.moveToBookmark(p), t.select());
        }
        t.afterCreate(), t.options.afterCreate && t.options.afterCreate.call(t);
      } });
      return r.removeClass("statusbar").addClass("ke-statusbar").append('<span class="ke-inline-block ke-statusbar-center-icon"><i></i><i></i><i></i></span>').append('<span class="ke-inline-block ke-statusbar-right-icon"></span>'), t._fullscreenResizeHandler && (v(window).unbind("resize", t._fullscreenResizeHandler), t._fullscreenResizeHandler = null), e(), n ? (t._fullscreenResizeHandler = function(p) {
        t.isCreated && t.resize(ve().clientWidth, ve().clientHeight, !1);
      }, v(window).bind("resize", t._fullscreenResizeHandler), s.select("fullscreen"), r.first().css("visibility", "hidden"), r.last().css("visibility", "hidden")) : (Be && v(window).bind("scroll", function(p) {
        t._scrollPos = je();
      }), t.resizeType > 0 ? jt({ moveEl: u, clickEl: r, moveFn: function(p, m, g, k, y, C) {
        k += C, t.resize(null, k);
      } }) : r.first().css("visibility", "hidden"), t.resizeType === 2 ? jt({ moveEl: u, clickEl: r.last(), moveFn: function(p, m, g, k, y, C) {
        g += y, k += C, t.resize(g, k);
      } }) : r.last().css("visibility", "hidden")), setTimeout(function() {
        t.focus && t.focus();
      }, 100), t;
    }, remove: function() {
      var e = this;
      return e.isCreated && (e.beforeRemove(), e.srcElement.data("kindeditor", ""), e.menu && e.hideMenu(), z(e.dialogs, function() {
        e.hideDialog();
      }), v(document).unbind("mousedown", e._docMousedownFn), e.toolbar.remove(), e.edit.remove(), e.statusbar.last().unbind(), e.statusbar.unbind(), e.container.remove(), e.container = e.toolbar = e.edit = e.menu = null, e.dialogs = [], e.isCreated = !1), e;
    }, resize: function(e, t, n) {
      var o = this;
      if (n = V(n, !0), e && (/%/.test(e) || (e = X(e), e = e < o.minWidth ? o.minWidth : e), o.container.css("width", J(e)), n && (o.width = J(e))), t) {
        t = X(t);
        var i = X(t) - o.toolbar.div.height() - o.statusbar.height();
        i = i < o.minHeight ? o.minHeight : i, o.edit.setHeight(i), n && (o.height = J(t));
      }
      return o;
    }, select: function() {
      return this.isCreated && this.cmd.select(), this;
    }, html: function(e) {
      var t = this;
      return e === void 0 ? t.isCreated ? t.edit.html() : et(t.srcElement) : (t.isCreated ? t.edit.html(e) : et(t.srcElement, e), t.isCreated && t.cmd.selection(), t);
    }, fullHtml: function() {
      return this.isCreated ? this.edit.html(void 0, !0) : "";
    }, text: function(e) {
      var t = this;
      return e === void 0 ? ne(t.html().replace(/<(?!img|embed).*?>/gi, "").replace(/&nbsp;/gi, " ")) : t.html(se(e));
    }, isEmpty: function() {
      return ne(this.text().replace(/\r\n|\n|\r/, "")) === "";
    }, isDirty: function() {
      return ne(this.initContent.replace(/\r\n|\n|\r|t/g, "")) !== ne(this.html().replace(/\r\n|\n|\r|t/g, ""));
    }, selectedHtml: function() {
      var e = this.isCreated ? this.cmd.range.html() : "";
      return e = De(xt(e));
    }, count: function(e) {
      var t = this;
      return e = (e || "html").toLowerCase(), e === "html" ? t.html().length : e === "text" ? t.text().replace(/<(?:img|embed).*?>/gi, "K").replace(/\r\n|\n|\r/g, "").length : 0;
    }, exec: function(e) {
      e = e.toLowerCase();
      var t = this, n = t.cmd, o = pe(e, "selectall,copy,paste,print".split(",")) < 0;
      return o && t.addBookmark(!1), n[e].apply(n, Dt(arguments, 1)), o && (t.updateState(), t.addBookmark(!1), t.options.afterChange && t.options.afterChange.call(t)), t;
    }, insertHtml: function(e, t) {
      return this.isCreated ? (e = this.beforeSetHtml(e), this.exec("inserthtml", e, t), this) : this;
    }, appendHtml: function(e) {
      if (this.html(this.html() + e), this.isCreated) {
        var t = this.cmd;
        t.range.selectNodeContents(t.doc.body).collapse(!1), t.select();
      }
      return this;
    }, sync: function() {
      return et(this.srcElement, this.html()), this;
    }, focus: function() {
      return this.isCreated ? this.edit.focus() : this.srcElement[0].focus(), this;
    }, blur: function() {
      return this.isCreated ? this.edit.blur() : this.srcElement[0].blur(), this;
    }, addBookmark: function(e) {
      e = V(e, !0);
      var t, n = this, o = n.edit, i = o.doc.body, u = xt(i.innerHTML);
      if (e && n._undoStack.length > 0) {
        var c = n._undoStack[n._undoStack.length - 1];
        if (Math.abs(u.length - De(c.html).length) < n.minChangeSize)
          return n;
      }
      if (o.designMode && !n._firstAddBookmark) {
        var a = n.cmd.range;
        t = a.createBookmark(!0), t.html = xt(i.innerHTML), a.moveToBookmark(t);
      } else
        t = { html: u };
      return n._firstAddBookmark = !1, Dn(n._undoStack, t), n;
    }, undo: function() {
      return Mn.call(this, this._undoStack, this._redoStack);
    }, redo: function() {
      return Mn.call(this, this._redoStack, this._undoStack);
    }, fullscreen: function(e) {
      return this.fullscreenMode = e === void 0 ? !this.fullscreenMode : e, this.addBookmark(!1), this.remove().create();
    }, readonly: function(e) {
      e = V(e, !0);
      var t = this, n = t.edit, o = n.doc;
      t.designMode ? t.toolbar.disableAll(e, []) : z(t.noDisableItems, function() {
        t.toolbar[e ? "disable" : "enable"](this);
      }), Q ? o.body.contentEditable = !e : o.designMode = e ? "off" : "on", n.textarea[0].disabled = e;
    }, createMenu: function(e) {
      var t = this, n = e.name, o = t.toolbar.get(n), i = o.pos();
      return e.x = i.x, e.y = i.y + o.height(), e.z = t.options.zIndex, e.shadowMode = V(e.shadowMode, t.shadowMode), e.selectedColor !== void 0 ? (e.cls = "ke-colorpicker-" + t.themeType, e.noColor = t.lang("noColor"), t.menu = xn(e)) : (e.cls = "ke-menu-" + t.themeType, e.centerLineMode = !1, t.menu = qt(e)), t.menu;
    }, hideMenu: function() {
      return this.menu.remove(), this.menu = null, this;
    }, hideContextmenu: function() {
      return this.contextmenu.remove(), this.contextmenu = null, this;
    }, createDialog: function(e) {
      var t = this;
      if (e.name, e.z = t.options.zIndex, e.shadowMode = V(e.shadowMode, t.shadowMode), e.closeBtn = V(e.closeBtn, { name: t.lang("close"), click: function(u) {
        t.hideDialog(), Q && t.cmd && t.cmd.select();
      } }), e.noBtn = V(e.noBtn, { name: t.lang(e.yesBtn ? "no" : "close"), click: function(u) {
        t.hideDialog(), Q && t.cmd && t.cmd.select();
      } }), t.dialogAlignType != "page" && (e.alignEl = t.container), e.cls = "ke-dialog-" + t.themeType, t.dialogs.length > 0) {
        var n = t.dialogs[0], o = t.dialogs[t.dialogs.length - 1];
        n.setMaskIndex(o.z + 2), e.z = o.z + 3, e.showMask = !1;
      }
      var i = Cn(e);
      return t.dialogs.push(i), i;
    }, hideDialog: function() {
      var e = this;
      if (e.dialogs.length > 0 && e.dialogs.pop().remove(), e.dialogs.length > 0) {
        var t = e.dialogs[0], n = e.dialogs[e.dialogs.length - 1];
        t.setMaskIndex(n.z - 1);
      }
      return e;
    }, errorDialog: function(e) {
      var t = this, n = t.createDialog({ width: 750, title: t.lang("uploadError"), body: '<div style="padding:10px 20px;"><iframe frameborder="0" style="width:708px;height:400px;"></iframe></div>' }), o = v("iframe", n.div), i = v.iframeDoc(o);
      return i.open(), i.write(e), i.close(), v(i.body).css("background-color", "#FFF"), o[0].contentWindow.focus(), t;
    } };
    var ut = [];
    return v.remove = function(e) {
      lt(e, function(t) {
        this.remove(), ut.splice(t, 1);
      });
    }, v.sync = function(e) {
      lt(e, function() {
        this.sync();
      });
    }, v.html = function(e, t) {
      lt(e, function() {
        this.html(t);
      });
    }, v.insertHtml = function(e, t) {
      lt(e, function() {
        this.insertHtml(t);
      });
    }, v.appendHtml = function(e, t) {
      lt(e, function() {
        this.appendHtml(t);
      });
    }, Q && 7 > ce && Se(document, "BackgroundImageCache", !0), v.EditorClass = ot, v.editor = yi, v.create = Nn, v.instances = ut, v.plugin = Tn, v.lang = En, Tn("core", function(e) {
      var t = this, n = { undo: "Z", redo: "Y", bold: "B", italic: "I", underline: "U", print: "P", selectall: "A" };
      if (t.afterSetHtml(function() {
        t.options.afterChange && t.options.afterChange.call(t);
      }), t.afterCreate(function() {
        if (t.syncType == "form") {
          for (var i = e(t.srcElement), u = !1; i = i.parent(); )
            if (i.name == "form") {
              u = !0;
              break;
            }
          if (u) {
            i.bind("submit", function(a) {
              t.sync(), e(window).bind("unload", function() {
                t.edit.textarea.remove();
              });
            });
            var c = e('[type="reset"]', i);
            c.click(function() {
              t.html(t.initContent), t.cmd.selection();
            }), t.beforeRemove(function() {
              i.unbind(), c.unbind();
            });
          }
        }
      }), t.clickToolbar("source", function() {
        t.edit.designMode ? (t.toolbar.disableAll(!0), t.edit.design(!1), t.toolbar.select("source")) : (t.toolbar.disableAll(!1), t.edit.design(!0), t.toolbar.unselect("source"), Be ? setTimeout(function() {
          t.cmd.selection();
        }, 0) : t.cmd.selection()), t.designMode = t.edit.designMode;
      }), t.afterCreate(function() {
        t.designMode || t.toolbar.disableAll(!0).select("source");
      }), t.clickToolbar("fullscreen", function() {
        t.fullscreen();
      }), t.fullscreenShortcut) {
        var o = !1;
        t.afterCreate(function() {
          if (e(t.edit.doc, t.edit.textarea).keyup(function(i) {
            i.which == 27 && setTimeout(function() {
              t.fullscreen();
            }, 0);
          }), o) {
            if (Q && !t.designMode)
              return;
            t.focus();
          }
          o || (o = !0);
        });
      }
      z("undo,redo".split(","), function(i, u) {
        n[u] && t.afterCreate(function() {
          Nt(this.edit.doc, n[u], function() {
            t.clickToolbar(u);
          });
        }), t.clickToolbar(u, function() {
          t[u]();
        });
      }), t.clickToolbar("formatblock", function() {
        var i = t.lang("formatblock.formatBlock"), u = { h1: 28, h2: 24, h3: 18, H4: 14, p: 12 }, c = t.cmd.val("formatblock"), a = t.createMenu({ name: "formatblock", width: t.langType == "en" ? 200 : 150 });
        z(i, function(r, d) {
          var s = "font-size:" + u[r] + "px;";
          r.charAt(0) === "h" && (s += "font-weight:bold;"), a.addItem({ title: '<span style="' + s + '" unselectable="on">' + d + "</span>", height: u[r] + 12, checked: c === r || c === d, click: function() {
            t.select().exec("formatblock", "<" + r + ">").hideMenu();
          } });
        });
      }), t.clickToolbar("fontname", function() {
        var i = t.cmd.val("fontname"), u = t.createMenu({ name: "fontname", width: 150 });
        z(t.lang("fontname.fontName"), function(c, a) {
          u.addItem({ title: '<span style="font-family: ' + c + ';" unselectable="on">' + a + "</span>", height: 30, checked: i === c.toLowerCase() || i === a.toLowerCase(), click: function() {
            t.exec("fontname", c).hideMenu();
          } });
        });
      }), t.clickToolbar("fontsize", function() {
        var i = t.cmd.val("fontsize"), u = t.createMenu({ name: "fontsize", width: 150 });
        z(t.fontSizeTable, function(c, a) {
          u.addItem({ title: '<span style="font-size:' + a + ';" unselectable="on">' + a + "</span>", height: X(a) + 12, checked: i === a, click: function() {
            t.exec("fontsize", a).hideMenu();
          } });
        });
      }), z("forecolor,hilitecolor".split(","), function(i, u) {
        t.clickToolbar(u, function() {
          t.createMenu({ name: u, selectedColor: t.cmd.val(u) || "default", colors: t.colorTable, click: function(c) {
            t.exec(u, c).hideMenu();
          } });
        });
      }), z("cut,copy,paste".split(","), function(i, u) {
        t.clickToolbar(u, function() {
          t.focus();
          try {
            t.exec(u, null);
          } catch {
            alert(t.lang(u + "Error"));
          }
        });
      }), t.clickToolbar("about", function() {
        var i = '<div style="margin:20px;"><div>KindEditor ' + Ct + '</div><div>Copyright &copy; <a href="http://www.kindsoft.net/" target="_blank">kindsoft.net</a> All rights reserved.</div></div>';
        t.createDialog({ name: "about", width: 350, title: t.lang("about"), body: i });
      }), t.plugin.getSelectedLink = function() {
        return t.cmd.commonAncestor("a");
      }, t.plugin.getSelectedImage = function() {
        return wt(t.edit.cmd.range, function(i) {
          return !/^ke-\w+$/i.test(i[0].className);
        });
      }, t.plugin.getSelectedFlash = function() {
        return wt(t.edit.cmd.range, function(i) {
          return i[0].className == "ke-flash";
        });
      }, t.plugin.getSelectedMedia = function() {
        return wt(t.edit.cmd.range, function(i) {
          return i[0].className == "ke-media" || i[0].className == "ke-rm";
        });
      }, t.plugin.getSelectedAnchor = function() {
        return wt(t.edit.cmd.range, function(i) {
          return i[0].className == "ke-anchor";
        });
      }, z("link,image,flash,media,anchor".split(","), function(i, u) {
        var c = u.charAt(0).toUpperCase() + u.substr(1);
        z("edit,delete".split(","), function(a, r) {
          t.addContextmenu({ title: t.lang(r + c), click: function() {
            t.loadPlugin(u, function() {
              t.plugin[u][r](), t.hideMenu();
            });
          }, cond: t.plugin["getSelected" + c], width: 150, iconClass: r == "edit" ? "ke-icon-" + u : void 0 });
        }), t.addContextmenu({ title: "-" });
      }), t.plugin.getSelectedTable = function() {
        return t.cmd.commonAncestor("table");
      }, t.plugin.getSelectedRow = function() {
        return t.cmd.commonAncestor("tr");
      }, t.plugin.getSelectedCell = function() {
        return t.cmd.commonAncestor("td");
      }, z("prop,cellprop,colinsertleft,colinsertright,rowinsertabove,rowinsertbelow,rowmerge,colmerge,rowsplit,colsplit,coldelete,rowdelete,insert,delete".split(","), function(i, u) {
        var c = pe(u, ["prop", "delete"]) < 0 ? t.plugin.getSelectedCell : t.plugin.getSelectedTable;
        t.addContextmenu({ title: t.lang("table" + u), click: function() {
          t.loadPlugin("table", function() {
            t.plugin.table[u](), t.hideMenu();
          });
        }, cond: c, width: 170, iconClass: "ke-icon-table" + u });
      }), t.addContextmenu({ title: "-" }), z("selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript,hr,print,bold,italic,underline,strikethrough,removeformat,unlink".split(","), function(i, u) {
        n[u] && t.afterCreate(function() {
          Nt(this.edit.doc, n[u], function() {
            t.cmd.selection(), t.clickToolbar(u);
          });
        }), t.clickToolbar(u, function() {
          t.focus().exec(u, null);
        });
      }), t.afterCreate(function() {
        function i() {
          u.range.moveToBookmark(c), u.select(), Fe && (e("div." + d, a).each(function() {
            e(this).after("<br />").remove(!0);
          }), e("span.Apple-style-span", a).remove(!0), e("span.Apple-tab-span", a).remove(!0), e("span[style]", a).each(function() {
            e(this).css("white-space") == "nowrap" && e(this).remove(!0);
          }), e("meta", a).remove());
          var l = a[0].innerHTML;
          a.remove(), l !== "" && (Fe && (l = l.replace(/(<br>)\1/gi, "$1")), t.pasteType === 2 && (l = l.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi, ""), /schemas-microsoft-com|worddocument|mso-\w+/i.test(l) ? l = rn(l, t.filterMode ? t.htmlTags : e.options.htmlTags) : (l = Ae(l, t.filterMode ? t.htmlTags : null), l = t.beforeSetHtml(l))), t.pasteType === 1 && (l = l.replace(/&nbsp;/gi, " "), l = l.replace(/\n\s*\n/g, `
`), l = l.replace(/<br[^>]*>/gi, `
`), l = l.replace(/<\/p><p[^>]*>/gi, `
`), l = l.replace(/<[^>]+>/g, ""), l = l.replace(/ {2}/g, " &nbsp;"), t.newlineTag == "p" ? /\n/.test(l) && (l = l.replace(/^/, "<p>").replace(/$/, "<br /></p>").replace(/\n/g, "<br /></p><p>")) : l = l.replace(/\n/g, "<br />$&")), t.insertHtml(l, !0));
        }
        var u, c, a, r = t.edit.doc, d = "__kindeditor_paste__", s = !1;
        e(r.body).bind("paste", function(l) {
          if (t.pasteType === 0)
            return void l.stop();
          if (!s) {
            if (s = !0, e("div." + d, r).remove(), u = t.cmd.selection(), c = u.range.createBookmark(), a = e('<div class="' + d + '"></div>', r).css({ position: "absolute", width: "1px", height: "1px", overflow: "hidden", left: "-1981px", top: e(c.start).pos().y + "px", "white-space": "nowrap" }), e(r.body).append(a), Q) {
              var f = u.range.get(!0);
              f.moveToElementText(a[0]), f.select(), f.execCommand("paste"), l.preventDefault();
            } else
              u.range.selectNodeContents(a[0]), u.select(), a[0].tabIndex = -1, a[0].focus();
            setTimeout(function() {
              i(), s = !1;
            }, 0);
          }
        });
      }), t.beforeGetHtml(function(i) {
        return Q && 8 >= ce && (i = i.replace(/<div\s+[^>]*data-ke-input-tag="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi, function(u, c) {
          return unescape(c);
        }), i = i.replace(/(<input)((?:\s+[^>]*)?>)/gi, function(u, c, a) {
          return /\s+type="[^"]+"/i.test(u) ? u : c + ' type="text"' + a;
        })), i.replace(/(<(?:noscript|noscript\s[^>]*)>)([\s\S]*?)(<\/noscript>)/gi, function(u, c, a, r) {
          return c + Ge(a).replace(/\s+/g, " ") + r;
        }).replace(/<img[^>]*class="?ke-(flash|rm|media)"?[^>]*>/gi, function(u) {
          var c = we(u), a = ze(c.style || ""), r = ln(c["data-ke-tag"]), d = V(a.width, ""), s = V(a.height, "");
          return /px/i.test(d) && (d = X(d)), /px/i.test(s) && (s = X(s)), r.width = V(c.width, d), r.height = V(c.height, s), It(r);
        }).replace(/<img[^>]*class="?ke-anchor"?[^>]*>/gi, function(u) {
          var c = we(u);
          return '<a name="' + unescape(c["data-ke-name"]) + '"></a>';
        }).replace(/<div\s+[^>]*data-ke-script-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi, function(u, c, a) {
          return "<script" + unescape(c) + ">" + unescape(a) + "<\/script>";
        }).replace(/<div\s+[^>]*data-ke-noscript-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi, function(u, c, a) {
          return "<noscript" + unescape(c) + ">" + unescape(a) + "</noscript>";
        }).replace(/(<[^>]*)data-ke-src="([^"]*)"([^>]*>)/gi, function(u, c, a, r) {
          return u = u.replace(/(\s+(?:href|src)=")[^"]*(")/i, function(d, s, l) {
            return s + Ge(a) + l;
          }), u = u.replace(/\s+data-ke-src="[^"]*"/i, "");
        }).replace(/(<[^>]+\s)data-ke-(on\w+="[^"]*"[^>]*>)/gi, function(u, c, a) {
          return c + a;
        });
      }), t.beforeSetHtml(function(i) {
        return Q && 8 >= ce && (i = i.replace(/<input[^>]*>|<(select|button)[^>]*>[\s\S]*?<\/\1>/gi, function(u) {
          var c = we(u), a = ze(c.style || "");
          return a.display == "none" ? '<div class="ke-display-none" data-ke-input-tag="' + escape(u) + '"></div>' : u;
        })), i.replace(/<embed[^>]*type="([^"]+)"[^>]*>(?:<\/embed>)?/gi, function(u) {
          var c = we(u);
          return c.src = V(c.src, ""), c.width = V(c.width, 0), c.height = V(c.height, 0), an(t.themesPath + "common/blank.gif", c);
        }).replace(/<a[^>]*name="([^"]+)"[^>]*>(?:<\/a>)?/gi, function(u) {
          var c = we(u);
          return c.href !== void 0 ? u : '<img class="ke-anchor" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjY3NDAwOTEzOTg0IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9Ijg3NDQiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik03NTYuMTM1IDUxMmE4IDggMCAwIDEtNi4zNjctMTIuODQzbDkxLjg2NC0xMjAuNzg1YTggOCAwIDAgMSAxMi43MzYgMGw5MS44NjQgMTIwLjc4NUE4IDggMCAwIDEgOTM5Ljg2NSA1MTJIODg4YzAgMjA3LjY2LTE2OC4zNCAzNzYtMzc2IDM3Ni0yMDUuNTgyIDAtMzcyLjYzLTE2NC45OS0zNzUuOTUtMzY5Ljc4MkwxMzYgNTEySDgyLjEzNWE4IDggMCAwIDEtNi4zNjctMTIuODQzbDkxLjg2NC0xMjAuNzg1YTggOCAwIDAgMSAxMi43MzYgMGw5MS44NjQgMTIwLjc4NUE4IDggMCAwIDEgMjY1Ljg2NSA1MTJIMjEyYzAgMTUzLjUwMSAxMTUuMjg3IDI4MC4wNzYgMjYzLjk5OCAyOTcuODYybDAuMDAxLTM5MC4zOTlDNDEzLjg5MSA0MDMuNDc3IDM2OCAzNDcuMDk4IDM2OCAyODBjMC03OS41MjkgNjQuNDcxLTE0NCAxNDQtMTQ0czE0NCA2NC40NzEgMTQ0IDE0NGMwIDY3LjA5OC00NS44OSAxMjMuNDc3LTEwNy45OTggMTM5LjQ2M2wwLjAwMSAzOTAuMzk5QzY5NS4xMSA3OTIuMjY3IDgwOS41MDcgNjY4LjIyIDgxMS45NiA1MTYuOTZMODEyIDUxMmgtNTUuODY1ek01MTIgMjEyYy0zNy41NTUgMC02OCAzMC40NDUtNjggNjhzMzAuNDQ1IDY4IDY4IDY4IDY4LTMwLjQ0NSA2OC02OC0zMC40NDUtNjgtNjgtNjh6IiBwLWlkPSI4NzQ1IiBmaWxsPSIjZDgxZTA2Ij48L3BhdGg+PC9zdmc+" data-ke-name="' + escape(c.name) + '" style="vertical-align:text-bottom" />';
        }).replace(/<script([^>]*)>([\s\S]*?)<\/script>/gi, function(u, c, a) {
          return '<div class="ke-script" data-ke-script-attr="' + escape(c) + '">' + escape(a) + "</div>";
        }).replace(/<noscript([^>]*)>([\s\S]*?)<\/noscript>/gi, function(u, c, a) {
          return '<div class="ke-noscript" data-ke-noscript-attr="' + escape(c) + '">' + escape(a) + "</div>";
        }).replace(/(<[^>]*)(href|src)="([^"]*)"([^>]*>)/gi, function(u, c, a, r, d) {
          return u.match(/\sdata-ke-src="[^"]*"/i) ? u : u = c + a + '="' + r + '" data-ke-src="' + se(r) + '"' + d;
        }).replace(/(<[^>]+\s)(on\w+="[^"]*"[^>]*>)/gi, function(u, c, a) {
          return c + "data-ke-" + a;
        }).replace(/<table[^>]*\s+border="0"[^>]*>/gi, function(u) {
          return u.indexOf("ke-zeroborder") >= 0 ? u : Yn(u, "ke-zeroborder");
        });
      });
    }), function(e) {
      return e.KindEditor ? e.KindEditor : void 0;
    }(window), KindEditor.lang({ source: "Source", preview: "Preview", undo: "Undo(Ctrl+Z)", redo: "Redo(Ctrl+Y)", cut: "Cut(Ctrl+X)", copy: "Copy(Ctrl+C)", paste: "Paste(Ctrl+V)", plainpaste: "Paste as plain text", wordpaste: "Paste from Word", selectall: "Select all", justifyleft: "Align left", justifycenter: "Align center", justifyright: "Align right", justifyfull: "Align full", insertorderedlist: "Ordered list", insertunorderedlist: "Unordered list", indent: "Increase indent", outdent: "Decrease indent", subscript: "Subscript", superscript: "Superscript", formatblock: "Paragraph format", fontname: "Font family", fontsize: "Font size", forecolor: "Text color", hilitecolor: "Highlight color", bold: "Bold(Ctrl+B)", italic: "Italic(Ctrl+I)", underline: "Underline(Ctrl+U)", strikethrough: "Strikethrough", removeformat: "Remove format", image: "Image", multiimage: "Multi image", flash: "Flash", media: "Embeded media", table: "Table", tablecell: "Cell", hr: "Insert horizontal line", emoticons: "Insert emoticon", link: "Link", unlink: "Unlink", fullscreen: "Toggle fullscreen mode", about: "About", print: "Print", filemanager: "File Manager", code: "Insert code", map: "Google Maps", baidumap: "Baidu Maps", lineheight: "Line height", clearhtml: "Clear HTML code", pagebreak: "Insert Page Break", quickformat: "Quick Format", insertfile: "Insert file", template: "Insert Template", anchor: "Anchor", yes: "OK", no: "Cancel", close: "Close", editImage: "Image properties", deleteImage: "Delete image", editFlash: "Flash properties", deleteFlash: "Delete flash", editMedia: "Media properties", deleteMedia: "Delete media", editLink: "Link properties", deleteLink: "Unlink", editAnchor: "Anchor properties", deleteAnchor: "Delete Anchor", tableprop: "Table properties", tablecellprop: "Cell properties", tableinsert: "Insert table", tabledelete: "Delete table", tablecolinsertleft: "Insert column left", tablecolinsertright: "Insert column right", tablerowinsertabove: "Insert row above", tablerowinsertbelow: "Insert row below", tablerowmerge: "Merge down", tablecolmerge: "Merge right", tablerowsplit: "Split row", tablecolsplit: "Split column", tablecoldelete: "Delete column", tablerowdelete: "Delete row", noColor: "Default", pleaseSelectFile: "Please select file.", invalidImg: `Please type valid URL.
Allowed file extension: jpg,gif,bmp,png`, invalidMedia: `Please type valid URL.
Allowed file extension: swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb`, invalidWidth: "The width must be number.", invalidHeight: "The height must be number.", invalidBorder: "The border must be number.", invalidUrl: "Please type valid URL.", invalidRows: "Invalid rows.", invalidCols: "Invalid columns.", invalidPadding: "The padding must be number.", invalidSpacing: "The spacing must be number.", invalidJson: "Invalid JSON string.", uploadSuccess: "Upload success.", cutError: "Currently not supported by your browser, use keyboard shortcut(Ctrl+X) instead.", copyError: "Currently not supported by your browser, use keyboard shortcut(Ctrl+C) instead.", pasteError: "Currently not supported by your browser, use keyboard shortcut(Ctrl+V) instead.", ajaxLoading: "Loading ...", uploadLoading: "Uploading ...", uploadError: "Upload Error", "plainpaste.comment": "Use keyboard shortcut(Ctrl+V) to paste the text into the window.", "wordpaste.comment": "Use keyboard shortcut(Ctrl+V) to paste the text into the window.", "code.pleaseInput": "Please input code.", "link.url": "URL", "link.linkType": "Target", "link.newWindow": "New window", "link.selfWindow": "Same window", "flash.url": "URL", "flash.width": "Width", "flash.height": "Height", "flash.upload": "Upload", "flash.viewServer": "Browse", "media.url": "URL", "media.width": "Width", "media.height": "Height", "media.autostart": "Auto start", "media.upload": "Upload", "media.viewServer": "Browse", "image.remoteImage": "Insert URL", "image.localImage": "Upload", "image.remoteUrl": "URL", "image.localUrl": "File", "image.size": "Size", "image.width": "Width", "image.height": "Height", "image.resetSize": "Reset dimensions", "image.align": "Align", "image.defaultAlign": "Default", "image.leftAlign": "Left", "image.rightAlign": "Right", "image.imgTitle": "Title", "image.upload": "Browse", "image.viewServer": "Browse", "multiimage.uploadDesc": "Allows users to upload <%=uploadLimit%> images, single image size not exceeding <%=sizeLimit%>", "multiimage.startUpload": "Start upload", "multiimage.clearAll": "Clear all", "multiimage.insertAll": "Insert all", "multiimage.queueLimitExceeded": "Queue limit exceeded.", "multiimage.fileExceedsSizeLimit": "File exceeds size limit.", "multiimage.zeroByteFile": "Zero byte file.", "multiimage.invalidFiletype": "Invalid file type.", "multiimage.unknownError": "Unknown upload error.", "multiimage.pending": "Pending ...", "multiimage.uploadError": "Upload error", "filemanager.emptyFolder": "Blank", "filemanager.moveup": "Parent folder", "filemanager.viewType": "Display: ", "filemanager.viewImage": "Thumbnails", "filemanager.listImage": "List", "filemanager.orderType": "Sorting: ", "filemanager.fileName": "By name", "filemanager.fileSize": "By size", "filemanager.fileType": "By type", "insertfile.url": "URL", "insertfile.title": "Title", "insertfile.upload": "Upload", "insertfile.viewServer": "Browse", "table.cells": "Cells", "table.rows": "Rows", "table.cols": "Columns", "table.size": "Dimensions", "table.width": "Width", "table.height": "Height", "table.percent": "%", "table.px": "px", "table.space": "Space", "table.padding": "Padding", "table.spacing": "Spacing", "table.align": "Align", "table.textAlign": "Horizontal", "table.verticalAlign": "Vertical", "table.alignDefault": "Default", "table.alignLeft": "Left", "table.alignCenter": "Center", "table.alignRight": "Right", "table.alignTop": "Top", "table.alignMiddle": "Middle", "table.alignBottom": "Bottom", "table.alignBaseline": "Baseline", "table.border": "Border", "table.borderWidth": "Width", "table.borderColor": "Color", "table.backgroundColor": "Background", "map.address": "Address: ", "map.search": "Search", "baidumap.address": "Address: ", "baidumap.search": "Search", "baidumap.insertDynamicMap": "Dynamic Map", "anchor.name": "Anchor name", "formatblock.formatBlock": { h1: "Heading 1", h2: "Heading 2", h3: "Heading 3", h4: "Heading 4", p: "Normal" }, "fontname.fontName": { Arial: "Arial", "Arial Black": "Arial Black", "Comic Sans MS": "Comic Sans MS", "Courier New": "Courier New", Garamond: "Garamond", Georgia: "Georgia", Tahoma: "Tahoma", "Times New Roman": "Times New Roman", "Trebuchet MS": "Trebuchet MS", Verdana: "Verdana" }, "lineheight.lineHeight": [{ 1: "Line height 1" }, { 1.5: "Line height 1.5" }, { 2: "Line height 2" }, { 2.5: "Line height 2.5" }, { 3: "Line height 3" }], "template.selectTemplate": "Template", "template.replaceContent": "Replace current content", "template.fileList": { "1.html": "Image and Text", "2.html": "Table", "3.html": "List" } }, "en"), KindEditor.each(KindEditor.options.items, function(e, t) {
    }), KindEditor.options.langType = "en", KindEditor.plugin("anchor", function(e) {
      var t = this, n = "anchor", o = t.lang(n + ".");
      t.plugin.anchor = { edit: function() {
        var i = ['<div style="padding:20px;">', '<div class="ke-dialog-row">', '<label for="keName">' + o.name + "</label>", '<input class="ke-input-text" type="text" id="keName" name="name" value="" style="width:260px;" />', "</div>", "</div>"].join(""), u = t.createDialog({ name: n, width: 360, title: t.lang(n), body: i, yesBtn: { name: t.lang("yes"), click: function(d) {
          t.insertHtml('<a name="' + a.val() + '">').hideDialog().focus();
        } } }), c = u.div, a = e('input[name="name"]', c), r = t.plugin.getSelectedAnchor();
        r && a.val(unescape(r.attr("data-ke-name"))), a[0].focus(), a[0].select();
      }, delete: function() {
        t.plugin.getSelectedAnchor().remove();
      } }, t.clickToolbar(n, t.plugin.anchor.edit);
    }), KindEditor.plugin("autoheight", function(e) {
      function t() {
        var c = i.edit, a = c.doc.body;
        c.iframe[0].scroll = "no", a.style.overflowY = "hidden";
      }
      function n() {
        if (!i.fullscreenMode) {
          var c = i.edit, a = c.doc.body;
          c.iframe.height(u);
          var r = i.toolbar, d = e(r.div).height(), s = Math.max(e.IE ? a.scrollHeight : a.offsetHeight, u, e(a).height()) + d + 30;
          i.resize(null, s), a.scrollTo({ top: 0 });
        }
      }
      function o() {
        u = e.removeUnit(i.height), i.edit.afterChange(n), i.fullscreenMode || t(), n();
      }
      var i = this;
      if (i.autoHeightMode) {
        var u;
        i.isCreated ? o() : i.afterCreate(o);
      }
    }), KindEditor.plugin("baidumap", function(e) {
      var t = this, n = "baidumap", o = t.lang(n + "."), i = e.undef(t.baiduMapAk, "9yfaQtWDimlbXuo4TMLmIk7yDjl36eCy"), u = e.undef(t.mapWidth, 558), c = e.undef(t.mapHeight, 360);
      t.clickToolbar(n, function() {
        function a() {
          r = k[0].contentWindow, d = e.iframeDoc(k), d.open(), d.write(g), d.close();
        }
        var r, d, s = ['<div style="padding:10px 20px;">', '<div class="ke-dialog-row">', o.address + ' <input id="kindeditor_plugin_map_address" name="address" class="ke-input-text" value="" style="width:450px;" /> ', '<span class="ke-button-common ke-button-outer">', '<input type="button" name="searchBtn" class="ke-button-common ke-button" value="' + o.search + '" />', "</span>", "</div>", '<div class="ke-map" style="width:' + u + "px;height:" + c + 'px;"></div>', "</div>"].join(""), l = t.createDialog({ name: n, width: u + 42, title: t.lang(n), body: s, yesBtn: { name: t.lang("yes"), click: function(y) {
          var C = r.map, _ = C.getCenter(), I = _.lng + "," + _.lat, N = C.getZoom(), A = ["http://api.map.baidu.com/staticimage/v2?ak=" + i, "&center=" + encodeURIComponent(I), "&zoom=" + encodeURIComponent(N), "&width=" + 1.5 * u, "&height=" + 1.5 * c, "&markers=" + encodeURIComponent(I), "&markerStyles=" + encodeURIComponent("l,A")].join("");
          t.exec("insertimage", A, "title", u + "", c + "", 0, "", "ke-map"), t.hideDialog().focus();
        } }, beforeRemove: function() {
          m.remove(), d && d.write(""), k.remove();
        } }), f = l.div, p = e('[name="address"]', f), m = e('[name="searchBtn"]', f), g = ["<!doctype html><html><head>", '<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />', "<style>", "	html { height: 100% }", "	body { height: 100%; margin: 0; padding: 0; background-color: #FFF }", "	#map_canvas { height: 100% }", "</style>", '<script charset="utf-8" src="https://api.map.baidu.com/api?v=1.0&type=webgl&ak=' + i + '"><\/script>', "<script>", "var map, geocoder;", "function initialize() {", '	map = new BMapGL.Map("map_canvas");', "	var point = new BMapGL.Point(121.473704, 31.230393);", "	map.centerAndZoom(point, 11);", "	map.addControl(new BMapGL.NavigationControl());", "	map.enableScrollWheelZoom();", "	var gc = new BMapGL.Geocoder();", "	gc.getLocation(point, function(rs){", "		var addComp = rs.addressComponents;", '		var address = [addComp.city].join("");', '		parent.document.getElementById("kindeditor_plugin_map_address").value = address;', "	});", "}", "function search(address) {", "	if (!map) return;", "	var local = new BMapGL.LocalSearch(map, {", "		renderOptions: {", "			map: map,", "			autoViewport: true,", "			selectFirstResult: false", "		}", "	});", "	local.search(address);", "}", "<\/script>", "</head>", '<body onload="initialize();">', '<div id="map_canvas" style="width:100%; height:100%"></div>', "</body></html>"].join(`
`), k = e('<iframe class="ke-textarea" frameborder="0" style="width:558px;height:360px;"></iframe>');
        k.bind("load", function() {
          k.unbind("load"), e.IE ? a() : setTimeout(a, 0);
        }), e(".ke-map", f).replaceWith(k), m.click(function() {
          r.search(p.val());
        });
      });
    }), KindEditor.plugin("clearhtml", function(e) {
      var t = this, n = "clearhtml";
      t.clickToolbar(n, function() {
        t.focus();
        var o = t.html();
        o = o.replace(/(<script[^>]*>)([\s\S]*?)(<\/script>)/gi, ""), o = o.replace(/(<style[^>]*>)([\s\S]*?)(<\/style>)/gi, ""), o = e.formatHtml(o, { a: ["href", "target"], embed: ["src", "width", "height", "type", "loop", "autostart", "quality", ".width", ".height", "align", "allowscriptaccess"], img: ["src", "width", "height", "border", "alt", "title", ".width", ".height"], table: ["border"], "td,th": ["rowspan", "colspan"], "div,hr,br,tbody,tr,p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6": [] }), t.html(o), t.cmd.selection(!0), t.addBookmark();
      });
    }), KindEditor.plugin("code", function(e) {
      var t = this, n = "code";
      t.clickToolbar(n, function() {
        var o = t.lang(n + "."), i = ['<div style="padding:10px 20px;">', '<div class="ke-dialog-row">', '<select class="ke-code-type">', '<option value="js">JavaScript</option>', '<option value="html">HTML</option>', '<option value="css">CSS</option>', '<option value="php">PHP</option>', '<option value="pl">Perl</option>', '<option value="py">Python</option>', '<option value="rb">Ruby</option>', '<option value="java">Java</option>', '<option value="vb">ASP/VB</option>', '<option value="cpp">C/C++</option>', '<option value="cs">C#</option>', '<option value="xml">XML</option>', '<option value="bsh">Shell</option>', '<option value="">Other</option>', "</select>", "</div>", '<textarea class="ke-textarea" style="width:518px;height:260px;"></textarea>', "</div>"].join(""), u = t.createDialog({ name: n, width: 560, title: t.lang(n), body: i, yesBtn: { name: t.lang("yes"), click: function(a) {
          var r = e(".ke-code-type", u.div).val(), d = c.val().replace(/^\s+/g, "").replace(/\s+$/g, `
`).replace(/(\s*<!--)/g, `
$1`).replace(/>(\s*)(?=<!--\s*\/)/g, "> "), s = r === "" ? "" : " lang-" + r, l = '<pre class="' + s + `">
` + e.escape(d) + `
</pre> `;
          return e.trim(d) === "" ? (alert(o.pleaseInput), void c[0].focus()) : void t.insertHtml(l).hideDialog().focus();
        } } }), c = e("textarea", u.div);
        c[0].focus();
      });
    }), KindEditor.plugin("emoticons", function(e) {
      var t = this, n = "emoticons", o = { faces: ["\u{1F600}", "\u{1F601}", "\u{1F602}", "\u{1F923}", "\u{1F603}", "\u{1F604}", "\u{1F605}", "\u{1F606}", "\u{1F609}", "\u{1F60A}", "\u{1F60B}", "\u{1F60E}", "\u{1F60D}", "\u{1F618}", "\u{1F970}", "\u{1F617}", "\u{1F619}", "\u{1F61A}", "\u{1F642}", "\u{1F917}", "\u{1F929}", "\u{1F914}", "\u{1F928}", "\u{1F610}", "\u{1F611}", "\u{1F636}", "\u{1F644}", "\u{1F60F}", "\u{1F623}", "\u{1F625}", "\u{1F62E}", "\u{1F910}", "\u{1F62F}", "\u{1F62A}", "\u{1F62B}", "\u{1F634}", "\u{1F60C}", "\u{1F61B}", "\u{1F61C}", "\u{1F61D}", "\u{1F924}", "\u{1F612}", "\u{1F613}", "\u{1F614}", "\u{1F615}", "\u{1F643}", "\u{1F911}", "\u{1F632}", "\u{1F641}", "\u{1F616}", "\u{1F61E}", "\u{1F61F}", "\u{1F624}", "\u{1F622}", "\u{1F62D}", "\u{1F626}", "\u{1F627}", "\u{1F628}", "\u{1F629}", "\u{1F92F}", "\u{1F62C}", "\u{1F630}", "\u{1F631}", "\u{1F975}", "\u{1F976}", "\u{1F633}", "\u{1F92A}", "\u{1F635}", "\u{1F621}", "\u{1F620}", "\u{1F92C}", "\u{1F637}", "\u{1F912}", "\u{1F915}", "\u{1F922}", "\u{1F92E}", "\u{1F927}", "\u{1F607}", "\u{1F920}", "\u{1F921}", "\u{1F973}", "\u{1F974}", "\u{1F97A}", "\u{1F925}", "\u{1F92B}", "\u{1F92D}", "\u{1F9D0}", "\u{1F913}"], hands: ["\u{1F932}", "\u{1F450}", "\u{1F64C}", "\u{1F44F}", "\u{1F91D}", "\u{1F44D}", "\u{1F44E}", "\u{1F44A}", "\u270A", "\u{1F91B}", "\u{1F91C}", "\u{1F91E}", "\u270C\uFE0F", "\u{1F91F}", "\u{1F918}", "\u{1F44C}", "\u{1F448}", "\u{1F449}", "\u{1F446}", "\u{1F447}", "\u261D\uFE0F", "\u270B", "\u{1F91A}", "\u{1F590}", "\u{1F596}", "\u{1F44B}", "\u{1F919}", "\u{1F4AA}", "\u{1F9B5}", "\u{1F9B6}", "\u{1F595}", "\u270D\uFE0F", "\u{1F64F}", "\u{1F450}\u{1F3FB}", "\u{1F64C}\u{1F3FB}", "\u{1F44F}\u{1F3FB}", "\u{1F64F}\u{1F3FB}", "\u{1F44D}\u{1F3FB}", "\u{1F44E}\u{1F3FB}", "\u{1F44A}\u{1F3FB}", "\u270A\u{1F3FB}", "\u{1F91B}\u{1F3FB}", "\u{1F91C}\u{1F3FB}", "\u{1F91E}\u{1F3FB}", "\u270C\u{1F3FB}", "\u{1F91F}\u{1F3FB}", "\u{1F918}\u{1F3FB}", "\u{1F44C}\u{1F3FB}", "\u{1F448}\u{1F3FB}", "\u{1F449}\u{1F3FB}", "\u{1F446}\u{1F3FB}", "\u{1F447}\u{1F3FB}", "\u261D\u{1F3FB}", "\u270B\u{1F3FB}", "\u{1F91A}\u{1F3FB}", "\u{1F590}\u{1F3FB}", "\u{1F596}\u{1F3FB}", "\u{1F44B}\u{1F3FB}", "\u{1F919}\u{1F3FB}", "\u{1F4AA}\u{1F3FB}", "\u{1F595}\u{1F3FB}", "\u270D\u{1F3FB}", "\u{1F932}\u{1F3FE}", "\u{1F450}\u{1F3FE}", "\u{1F64C}\u{1F3FE}", "\u{1F44F}\u{1F3FE}", "\u{1F64F}\u{1F3FE}", "\u{1F44D}\u{1F3FE}", "\u{1F44E}\u{1F3FE}", "\u{1F44A}\u{1F3FE}", "\u270A\u{1F3FE}", "\u{1F91B}\u{1F3FE}", "\u{1F91C}\u{1F3FE}", "\u{1F91E}\u{1F3FE}", "\u270C\u{1F3FE}", "\u{1F91F}\u{1F3FE}", "\u{1F918}\u{1F3FE}", "\u{1F44C}\u{1F3FE}", "\u{1F448}\u{1F3FE}", "\u{1F449}\u{1F3FE}", "\u{1F446}\u{1F3FE}", "\u{1F447}\u{1F3FE}", "\u261D\u{1F3FE}", "\u270B\u{1F3FE}", "\u{1F91A}\u{1F3FE}", "\u{1F590}\u{1F3FE}", "\u{1F596}\u{1F3FE}", "\u{1F44B}\u{1F3FE}", "\u{1F919}\u{1F3FE}", "\u{1F4AA}\u{1F3FE}", "\u{1F595}\u{1F3FE}", "\u270D\u{1F3FE}"], avatar: ["\u{1F476}\u{1F3FB}", "\u{1F466}\u{1F3FB}", "\u{1F467}\u{1F3FB}", "\u{1F468}\u{1F3FB}", "\u{1F469}\u{1F3FB}", "\u{1F471}\u{1F3FB}\u200D\u2640\uFE0F", "\u{1F471}\u{1F3FB}", "\u{1F474}\u{1F3FB}", "\u{1F475}\u{1F3FB}", "\u{1F472}\u{1F3FB}", "\u{1F473}\u{1F3FB}\u200D\u2640\uFE0F", "\u{1F473}\u{1F3FB}", "\u{1F46E}\u{1F3FB}\u200D\u2640\uFE0F", "\u{1F46E}\u{1F3FB}", "\u{1F477}\u{1F3FB}\u200D\u2640\uFE0F", "\u{1F477}\u{1F3FB}", "\u{1F482}\u{1F3FB}\u200D\u2640\uFE0F", "\u{1F482}\u{1F3FB}", "\u{1F575}\u{1F3FB}\u200D\u2640\uFE0F", "\u{1F575}\u{1F3FB}", "\u{1F469}\u{1F3FB}\u200D\u2695\uFE0F", "\u{1F468}\u{1F3FB}\u200D\u2695\uFE0F", "\u{1F469}\u{1F3FB}\u200D\u{1F33E}", "\u{1F468}\u{1F3FB}\u200D\u{1F33E}", "\u{1F469}\u{1F3FB}\u200D\u{1F373}", "\u{1F468}\u{1F3FB}\u200D\u{1F373}", "\u{1F469}\u{1F3FB}\u200D\u{1F393}", "\u{1F468}\u{1F3FB}\u200D\u{1F393}", "\u{1F469}\u{1F3FB}\u200D\u{1F3A4}", "\u{1F468}\u{1F3FB}\u200D\u{1F3A4}", "\u{1F469}\u{1F3FB}\u200D\u{1F3EB}", "\u{1F468}\u{1F3FB}\u200D\u{1F3EB}", "\u{1F469}\u{1F3FB}\u200D\u{1F3ED}", "\u{1F468}\u{1F3FB}\u200D\u{1F3ED}", "\u{1F469}\u{1F3FB}\u200D\u{1F4BB}", "\u{1F468}\u{1F3FB}\u200D\u{1F4BB}", "\u{1F469}\u{1F3FB}\u200D\u{1F4BC}", "\u{1F468}\u{1F3FB}\u200D\u{1F4BC}", "\u{1F469}\u{1F3FB}\u200D\u{1F527}", "\u{1F468}\u{1F3FB}\u200D\u{1F527}", "\u{1F469}\u{1F3FB}\u200D\u{1F52C}", "\u{1F468}\u{1F3FB}\u200D\u{1F52C}", "\u{1F469}\u{1F3FB}\u200D\u{1F3A8}", "\u{1F468}\u{1F3FB}\u200D\u{1F3A8}", "\u{1F469}\u{1F3FB}\u200D\u{1F692}", "\u{1F468}\u{1F3FB}\u200D\u{1F692}", "\u{1F469}\u{1F3FB}\u200D\u2708\uFE0F", "\u{1F468}\u{1F3FB}\u200D\u2708\uFE0F", "\u{1F469}\u{1F3FB}\u200D\u{1F680}", "\u{1F468}\u{1F3FB}\u200D\u{1F680}", "\u{1F469}\u{1F3FB}\u200D\u2696\uFE0F", "\u{1F468}\u{1F3FB}\u200D\u2696\uFE0F", "\u{1F936}\u{1F3FB}", "\u{1F385}\u{1F3FB}", "\u{1F478}\u{1F3FB}", "\u{1F934}\u{1F3FB}", "\u{1F470}\u{1F3FB}", "\u{1F935}\u{1F3FB}", "\u{1F47C}\u{1F3FB}", "\u{1F930}\u{1F3FB}", "\u{1F647}\u{1F3FB}\u200D\u2640\uFE0F", "\u{1F647}\u{1F3FB}", "\u{1F481}\u{1F3FB}", "\u{1F481}\u{1F3FB}\u200D\u2642\uFE0F", "\u{1F645}\u{1F3FB}", "\u{1F645}\u{1F3FB}\u200D\u2642\uFE0F", "\u{1F646}\u{1F3FB}", "\u{1F646}\u{1F3FB}\u200D\u2642\uFE0F", "\u{1F64B}\u{1F3FB}", "\u{1F64B}\u{1F3FB}\u200D\u2642\uFE0F", "\u{1F926}\u{1F3FB}\u200D\u2640\uFE0F", "\u{1F926}\u{1F3FB}\u200D\u2642\uFE0F", "\u{1F937}\u{1F3FB}\u200D\u2640\uFE0F", "\u{1F937}\u{1F3FB}\u200D\u2642\uFE0F", "\u{1F64E}\u{1F3FB}", "\u{1F64E}\u{1F3FB}\u200D\u2642\uFE0F", "\u{1F64D}\u{1F3FB}", "\u{1F64D}\u{1F3FB}\u200D\u2642\uFE0F", "\u{1F487}\u{1F3FB}", "\u{1F487}\u{1F3FB}\u200D\u2642\uFE0F", "\u{1F486}\u{1F3FB}", "\u{1F486}\u{1F3FB}\u200D\u2642\uFE0F", "\u{1F574}\u{1F3FB}", "\u{1F483}\u{1F3FB}", "\u{1F57A}\u{1F3FB}", "\u{1F6B6}\u{1F3FB}\u200D\u2640\uFE0F", "\u{1F6B6}\u{1F3FB}", "\u{1F3C3}\u{1F3FB}\u200D\u2640\uFE0F", "\u{1F3C3}\u{1F3FB}"], foods: ["\u{1F34F}", "\u{1F34E}", "\u{1F350}", "\u{1F34A}", "\u{1F34B}", "\u{1F34C}", "\u{1F349}", "\u{1F347}", "\u{1F353}", "\u{1F348}", "\u{1F352}", "\u{1F351}", "\u{1F34D}", "\u{1F96D}", "\u{1F965}", "\u{1F95D}", "\u{1F345}", "\u{1F346}", "\u{1F951}", "\u{1F966}", "\u{1F952}", "\u{1F96C}", "\u{1F336}", "\u{1F33D}", "\u{1F955}", "\u{1F954}", "\u{1F360}", "\u{1F950}", "\u{1F35E}", "\u{1F956}", "\u{1F968}", "\u{1F96F}", "\u{1F9C0}", "\u{1F95A}", "\u{1F373}", "\u{1F95E}", "\u{1F953}", "\u{1F969}", "\u{1F357}", "\u{1F356}", "\u{1F32D}", "\u{1F354}", "\u{1F35F}", "\u{1F355}", "\u{1F96A}", "\u{1F959}", "\u{1F32E}", "\u{1F32F}", "\u{1F957}", "\u{1F958}", "\u{1F96B}", "\u{1F35D}", "\u{1F35C}", "\u{1F372}", "\u{1F35B}", "\u{1F363}", "\u{1F371}", "\u{1F95F}", "\u{1F364}", "\u{1F359}", "\u{1F35A}", "\u{1F358}", "\u{1F365}", "\u{1F96E}", "\u{1F960}", "\u{1F362}", "\u{1F361}", "\u{1F367}", "\u{1F368}", "\u{1F366}", "\u{1F967}", "\u{1F370}", "\u{1F382}", "\u{1F36E}", "\u{1F36D}", "\u{1F36C}", "\u{1F36B}", "\u{1F37F}", "\u{1F9C2}", "\u{1F369}", "\u{1F36A}", "\u{1F330}", "\u{1F95C}", "\u{1F36F}", "\u{1F95B}", "\u{1F37C}", "\u2615\uFE0F", "\u{1F375}", "\u{1F964}", "\u{1F376}", "\u{1F37A}", "\u{1F37B}", "\u{1F942}", "\u{1F377}", "\u{1F943}", "\u{1F378}", "\u{1F379}", "\u{1F37E}", "\u{1F944}", "\u{1F374}", "\u{1F37D}", "\u{1F963}", "\u{1F961}", "\u{1F962}"], animals: ["\u{1F436}", "\u{1F431}", "\u{1F42D}", "\u{1F439}", "\u{1F430}", "\u{1F98A}", "\u{1F99D}", "\u{1F43B}", "\u{1F43C}", "\u{1F998}", "\u{1F9A1}", "\u{1F428}", "\u{1F42F}", "\u{1F981}", "\u{1F42E}", "\u{1F437}", "\u{1F43D}", "\u{1F438}", "\u{1F435}", "\u{1F648}", "\u{1F649}", "\u{1F64A}", "\u{1F412}", "\u{1F414}", "\u{1F427}", "\u{1F426}", "\u{1F424}", "\u{1F423}", "\u{1F425}", "\u{1F986}", "\u{1F9A2}", "\u{1F985}", "\u{1F989}", "\u{1F99A}", "\u{1F99C}", "\u{1F987}", "\u{1F43A}", "\u{1F417}", "\u{1F434}", "\u{1F984}", "\u{1F41D}", "\u{1F41B}", "\u{1F98B}", "\u{1F40C}", "\u{1F41A}", "\u{1F41E}", "\u{1F41C}", "\u{1F997}", "\u{1F577}", "\u{1F578}", "\u{1F982}", "\u{1F99F}", "\u{1F9A0}", "\u{1F422}", "\u{1F40D}", "\u{1F98E}", "\u{1F996}", "\u{1F995}", "\u{1F419}", "\u{1F991}", "\u{1F990}", "\u{1F980}", "\u{1F421}", "\u{1F420}", "\u{1F41F}", "\u{1F42C}", "\u{1F433}", "\u{1F40B}", "\u{1F988}", "\u{1F40A}", "\u{1F405}", "\u{1F406}", "\u{1F993}", "\u{1F98D}", "\u{1F418}", "\u{1F98F}", "\u{1F99B}", "\u{1F42A}", "\u{1F42B}", "\u{1F999}", "\u{1F992}", "\u{1F403}", "\u{1F402}", "\u{1F404}", "\u{1F40E}", "\u{1F416}", "\u{1F40F}", "\u{1F411}", "\u{1F410}", "\u{1F98C}", "\u{1F415}", "\u{1F429}", "\u{1F408}", "\u{1F413}", "\u{1F983}", "\u{1F54A}", "\u{1F407}", "\u{1F401}", "\u{1F400}", "\u{1F43F}", "\u{1F994}", "\u{1F43E}", "\u{1F409}", "\u{1F432}"], nature: ["\u{1F335}", "\u{1F384}", "\u{1F332}", "\u{1F333}", "\u{1F334}", "\u{1F331}", "\u{1F33F}", "\u2618\uFE0F", "\u{1F340}", "\u{1F38D}", "\u{1F38B}", "\u{1F343}", "\u{1F342}", "\u{1F341}", "\u{1F344}", "\u{1F33E}", "\u{1F490}", "\u{1F337}", "\u{1F339}", "\u{1F940}", "\u{1F33A}", "\u{1F338}", "\u{1F33C}", "\u{1F33B}", "\u{1F31E}", "\u{1F31D}", "\u{1F31B}", "\u{1F31C}", "\u{1F31A}", "\u{1F315}", "\u{1F316}", "\u{1F317}", "\u{1F318}", "\u{1F311}", "\u{1F312}", "\u{1F313}", "\u{1F314}", "\u{1F319}", "\u{1F30E}", "\u{1F30D}", "\u{1F30F}", "\u{1F4AB}", "\u2B50\uFE0F", "\u{1F31F}", "\u2728", "\u26A1\uFE0F", "\u2604\uFE0F", "\u{1F4A5}", "\u{1F525}", "\u{1F32A}", "\u{1F308}", "\u2600\uFE0F", "\u{1F324}", "\u26C5\uFE0F", "\u{1F325}", "\u2601\uFE0F", "\u{1F326}", "\u{1F327}", "\u26C8", "\u{1F329}", "\u{1F328}", "\u2744\uFE0F", "\u2603\uFE0F", "\u26C4\uFE0F", "\u{1F32C}", "\u{1F4A8}", "\u{1F4A7}", "\u{1F4A6}", "\u2614\uFE0F", "\u2602\uFE0F"], tags: ["\u2764\uFE0F", "\u{1F9E1}", "\u{1F49B}", "\u{1F49A}", "\u{1F499}", "\u{1F49C}", "\u{1F5A4}", "\u{1F494}", "\u2763\uFE0F", "\u{1F495}", "\u{1F49E}", "\u{1F493}", "\u{1F497}", "\u{1F496}", "\u{1F498}", "\u{1F49D}", "\u{1F49F}", "\u262E\uFE0F", "\u271D\uFE0F", "\u262A\uFE0F", "\u{1F549}", "\u2638\uFE0F", "\u2721\uFE0F", "\u{1F52F}", "\u{1F54E}", "\u262F\uFE0F", "\u2626\uFE0F", "\u{1F6D0}", "\u26CE", "\u2648\uFE0F", "\u2649\uFE0F", "\u264A\uFE0F", "\u264B\uFE0F", "\u264C\uFE0F", "\u264D\uFE0F", "\u264E\uFE0F", "\u264F\uFE0F", "\u2650\uFE0F", "\u2651\uFE0F", "\u2652\uFE0F", "\u2653\uFE0F", "\u{1F194}", "\u{1F6BB}", "\u{1F6AE}", "\u{1F3A6}", "\u{1F4F6}", "\u{1F201}", "\u{1F523}", "\u2139\uFE0F", "\u{1F524}", "\u{1F521}", "\u{1F520}", "\u{1F196}", "\u{1F197}", "\u{1F199}", "\u{1F192}", "\u{1F195}", "\u{1F193}", "0\uFE0F\u20E3", "1\uFE0F\u20E3", "2\uFE0F\u20E3", "3\uFE0F\u20E3", "4\uFE0F\u20E3", "5\uFE0F\u20E3", "6\uFE0F\u20E3", "7\uFE0F\u20E3", "8\uFE0F\u20E3", "9\uFE0F\u20E3", "\u{1F51F}", "\u{1F522}", "#\uFE0F\u20E3", "*\uFE0F\u20E3", "\u23CF\uFE0F", "\u25B6\uFE0F", "\u23F8", "\u23EF", "\u23F9", "\u23FA", "\u23ED", "\u23EE", "\u23E9", "\u23EA", "\u23EB", "\u23EC", "\u25C0\uFE0F", "\u{1F53C}", "\u{1F53D}", "\u27A1\uFE0F", "\u2B05\uFE0F", "\u2B06\uFE0F", "\u2B07\uFE0F", "\u2197\uFE0F", "\u2198\uFE0F", "\u2199\uFE0F", "\u2196\uFE0F", "\u2195\uFE0F", "\u2194\uFE0F", "\u21AA\uFE0F", "\u21A9\uFE0F", "\u2934\uFE0F", "\u2935\uFE0F", "\u{1F500}", "\u{1F501}", "\u{1F502}", "\u{1F504}", "\u{1F503}"] }, i = { cols: 10, total: Object.keys(o), current: "faces", tags: { faces: "\u8868\u60C5", hands: "\u624B\u52BF", avatar: "\u5934\u50CF", foods: "\u98DF\u7269", animals: "\u52A8\u7269", nature: "\u81EA\u7136", tags: "\u7B26\u53F7" } };
      t.emojiConfig && t.emojiConfig instanceof Function && t.emojiConfig.call(null, o, i), t.clickToolbar(n, function() {
        function u(_, I) {
          _.mouseover(function() {
            e(this).addClass("ke-on");
          }), _.mouseout(function() {
            e(this).removeClass("ke-on");
          }), _.click(function(N) {
            t.insertHtml(I).hideMenu().focus(), N.stop();
          });
        }
        function c(_, I) {
          var N = document.createElement("ul");
          I.append(N), N.className = "ke-ul";
          for (var A, j = Math.ceil(o[_].length / i.cols), F = 0; j > F; F++) {
            var E = document.createElement("li");
            e(E).addClass("ke-li"), e(N).append(E);
            for (var T = 0; T < i.cols; T++)
              if (A = o[_][i.cols * F + T], A !== void 0) {
                var w = e('<span class="ke-emoji">' + A + "</span>");
                u(w, A), e(E).append(w), s.push(w);
              }
          }
          return N;
        }
        function a() {
          e.each(s, function() {
            this.unbind();
          });
        }
        function r(_, I) {
          _.click(function(N) {
            a(), y.parentNode.removeChild(y), k.remove(), y = c(I, l), d(I), i.current = I, N.stop();
          });
        }
        function d(_) {
          k = e('<div class="ke-page"></div>'), l.append(k);
          for (var I in i.tags) {
            var N = i.tags[I];
            if (I !== _) {
              var A = e('<span class="ke-page-item"><a href="javascript:;">[' + N + "]</a></span>");
              r(A, I), k.append(A), s.push(A);
            } else
              k.append(e('<span class="ke-page-item">[' + N + "]</span>"));
          }
        }
        var s = [], l = e('<div class="ke-plugin-emoji"></div>'), f = t.createMenu({ name: n, beforeRemove: function() {
          a();
        } }), p = e(".ke-toolbar .ke-icon-emoticons").pos().x, m = e(".ke-toolbar .ke-icon-emoticons").width(), g = e(document.body).width();
        f.div.append(l);
        var k, y = c(i.current, l), C = e(l).width();
        p + C > g && e(f.div).css({ left: p - (C - m) + "px" }), d(i.current);
      });
    }), KindEditor.plugin("symbols", function(e) {
      var t = this, n = "symbols", o = { teshu: "\u3001,\u3002,\xB7,\u02C9,\u02C7,\xA8,\u3003,\u2014,\uFF5E,\u2016,\u2026,\u2018,\u2019,\u201C,\u201D,\u301D,\u301E,\u3013,\u3014,\u3015,\u3008,\u3009,\u300C,\u300D,\u300E,\u300F,\u3016,\u3017,\u2236,\u2227,\u2228,\u222A,\u2229,\u2208,\u2237,\u22A5,\u2225,\u2220,\u2312,\u2299,\u2235,\u2234,\u2642,\u2640,\xB0,\u2032,\u2033,\u2103,\uFF04,\xA4,\uFFE0,\uFFE1,\u2030,\xA7,\u2116,\u2606,\u2605,\u25CB,\u25CF,\u25CE,\u25C7,\u25C6,\u25A1,\u25A0,\u25B3,\u25B2,\u203B,\u2192,\u2190,\u2191,\u2193,\u3021,\u3022,\u3023,\u3024,\u3025,\u3026,\u3027,\u3028,\u3029,\u32A3,\u338E,\u338F,\u339C,\u339D,\u339E,\u33A1,\u33C4,\u33CE,\u33D1,\u33D2,\u33D5,\uFE30,\uFFE2,\uFFE4,\u2121,\u02CA,\u02CB,\u02D9,\u2013,\u2015,\u2025,\u2035,\u2105,\u2109,\u2196,\u2197,\u2198,\u2199,\u2215,\u221F,\u2223,\u2252,\u2609,\u2295,\u3012", shuxue: "\uFF0B,\uFF0D,\xD7,\xB7,\xF7,\uFF0F,\xB1,\u33D2,\u33D1,\u2211,\u220F,\xD7,\u221A,\uFE62,\uFE63,\xB1,\u222B,\u222E,\u221D,\u221E,\u2227,\u2228,\uFF1D,\u2248,\u2261,\u2260,\uFF1C,\uFF1E,\u2264,\u2265,\u2266,\u2267,\u226E,\u226F,\xBA,\xB9,\xB2,\xB3,\xBD,\xBE,\xBC,\uFF05,\u2030", xuhao: "\u2488,\u2489,\u248A,\u248B,\u248C,\u248D,\u248E,\u248F,\u2490,\u2491,\u2492,\u2493,\u2494,\u2495,\u2496,\u2497,\u2498,\u2499,\u249A,\u249B,\u2474,\u2475,\u2476,\u2477,\u2478,\u2479,\u247A,\u247B,\u247C,\u247D,\u247E,\u247F,\u2480,\u2481,\u2482,\u2483,\u2484,\u2485,\u2486,\u2487,\u2460,\u2461,\u2462,\u2463,\u2464,\u2465,\u2466,\u2467,\u2468,\u2469,\u3220,\u3221,\u3222,\u3223,\u3224,\u3225,\u3226,\u3227,\u3228,\u3229,\u2170,\u2171,\u2172,\u2173,\u2174,\u2175,\u2176,\u2177,\u2178,\u2179,\u2160,\u2161,\u2162,\u2163,\u2164,\u2165,\u2166,\u2167,\u2168,\u2169,\u216A,\u216B,\u2776,\u2777,\u2778,\u2779,\u277A,\u277B,\u277C,\u277D,\u277E,\u277F,\u3220,\u3221,\u3222,\u3223,\u3224,\u3225,\u3226,\u3227,\u3228,\u3229", lading: "\u0391,\u0392,\u0393,\u0394,\u0395,\u0396,\u0397,\u0398,\u0399,\u039A,\u039B,\u039C,\u039D,\u039E,\u039F,\u03A0,\u03A1,\u03A3,\u03A4,\u03A5,\u03A6,\u03A7,\u03A8,\u03A9,\u03B1,\u03B2,\u03B3,\u03B4,\u03B5,\u03B6,\u03B7,\u03B8,\u03B9,\u03BA,\u03BB,\u03BC,\u03BD,\u03BE,\u03BF,\u03C0,\u03C1,\u03C3,\u03C4,\u03C5,\u03C6,\u03C7,\u03C8,\u03C9", zhuyin: "\u0101,\xE1,\u01CE,\xE0,\u014D,\xF3,\u01D2,\xF2,\u0113,\xE9,\u011B,\xE8,\u012B,\xED,\u01D0,\xEC,\u016B,\xFA,\u01D4,\xF9,\u01D6,\u01D8,\u01DA,\u01DC,\xFC", yinbiao: "i:,i,e,\xE6,\u028C,\u0259:,\u0259,u:,u,\u0254:,\u0254,a:,ei,ai,\u0254i,\u0259u,au,i\u0259,\u03B5\u0259,u\u0259,p,t,k,b,d,g,f,s,\u0283,\u03B8,h,v,z,\u0292,\xF0,t\u0283,tr,ts,d\u0292,dr,dz,m,n,\u014B,l,r,w,j,", rwzf: "\u3041,\u3042,\u3043,\u3044,\u3045,\u3046,\u3047,\u3048,\u3049,\u304A,\u304B,\u304C,\u304D,\u304E,\u304F,\u3050,\u3051,\u3052,\u3053,\u3054,\u3055,\u3056,\u3057,\u3058,\u3059,\u305A,\u305B,\u305C,\u305D,\u305E,\u305F,\u3060,\u3061,\u3062,\u3063,\u3064,\u3065,\u3066,\u3067,\u3068,\u3069,\u306A,\u306B,\u306C,\u306D,\u306E,\u306F,\u3070,\u3071,\u3072,\u3073,\u3074,\u3075,\u3076,\u3077,\u3078,\u3079,\u307A,\u307B,\u307C,\u307D,\u307E,\u307F,\u3080,\u3081,\u3082,\u3083,\u3084,\u3085,\u3086,\u3087,\u3088,\u3089,\u308A,\u308B,\u308C,\u308D,\u308E,\u308F,\u3090,\u3091,\u3092,\u3093,\u30A1,\u30A2,\u30A3,\u30A4,\u30A5,\u30A6,\u30A7,\u30A8,\u30A9,\u30AA,\u30AB,\u30AC,\u30AD,\u30AE,\u30AF,\u30B0,\u30B1,\u30B2,\u30B3,\u30B4,\u30B5,\u30B6,\u30B7,\u30B8,\u30B9,\u30BA,\u30BB,\u30BC,\u30BD,\u30BE,\u30BF,\u30C0,\u30C1,\u30C2,\u30C3,\u30C4,\u30C5,\u30C6,\u30C7,\u30C8,\u30C9,\u30CA,\u30CB,\u30CC,\u30CD,\u30CE,\u30CF,\u30D0,\u30D1,\u30D2,\u30D3,\u30D4,\u30D5,\u30D6,\u30D7,\u30D8,\u30D9,\u30DA,\u30DB,\u30DC,\u30DD,\u30DE,\u30DF,\u30E0,\u30E1,\u30E2,\u30E3,\u30E4,\u30E5,\u30E6,\u30E7,\u30E8,\u30E9,\u30EA,\u30EB,\u30EC,\u30ED,\u30EE,\u30EF,\u30F0,\u30F1,\u30F2,\u30F3,\u30F4,\u30F5,\u30F6", ewzf: "\u0410,\u0411,\u0412,\u0413,\u0414,\u0415,\u0401,\u0416,\u0417,\u0418,\u0419,\u041A,\u041B,\u041C,\u041D,\u041E,\u041F,\u0420,\u0421,\u0422,\u0423,\u0424,\u0425,\u0426,\u0427,\u0428,\u0429,\u042A,\u042B,\u042C,\u042D,\u042E,\u042F,\u0430,\u0431,\u0432,\u0433,\u0434,\u0435,\u0451,\u0436,\u0437,\u0438,\u0439,\u043A,\u043B,\u043C,\u043D,\u043E,\u043F,\u0440,\u0441,\u0442,\u0443,\u0444,\u0445,\u0446,\u0447,\u0448,\u0449,\u044A,\u044B,\u044C,\u044D,\u044E,\u044F", zhibiao: "\u250F,\u2533,\u2513,\u2554,\u2566,\u2557,\u2553,\u2565,\u2556,\u2523,\u254B,\u252B,\u2560,\u256C,\u2563,\u255F,\u256B,\u2562,\u2517,\u253B,\u251B,\u255A,\u2569,\u255D,\u2559,\u2568,\u255C,\u250C,\u252C,\u2510,\u256D,\u256E,\u2571,\u2572,\u2503,\u2551,\u251C,\u253C,\u2524,\u2570,\u256F,\u2572,\u2571,\u2506,\u2507,\u2514,\u2534,\u2518,\u2501,\u2550,\u2505,\u2508,\u2573,\u22BF,\u2581,\u2582,\u2583,\u2584,\u2585,\u2586,\u2587,\u2588,\u2589,\u258A,\u258B,\u258C,\u258D,\u258E,\u258F,\u2593,\u2594,\u2595,\u25BC,\u25BD,\u25E2,\u25E3,\u25E4,\u25E5", qita: "\u2710,\u270E,\u270F,\u2711,\u2712,\u2701,\u2702,\u2703,\u2704,\u2706,\u2709,\u260E,\u260F,\u2611,\u2612,\u262F,\u2630,\u2632,\u2631,\u2634,\u2635,\u2636,\u2633,\u2637,\u2744,\u2603,\u2668,\uC6C3,\uC720,\u2756,\u263D,\u263E,\u262A,\u273F,\u2740,\u2698,\u2654,\u2655,\u2656,\u2657,\u2658,\u2659,\u265A,\u265B,\u265C,\u265D,\u265E,\u265F,\u25A7,\u25A8,\u2763,\u271A,\u272A,\u2723,\u2724,\u2725,\u2726,\u2749,\u2765,\u2766,\u2767,\u2743,\u2742,\u2741,\u2740,\u2704,\u262A,\u2623,\u2622,\u2620,\u262D,\u2607,\u2608,\u2299,\u260A,\u260B,\u260C,\u260D,\u25A3,\u25A4,\u25A5,\u25A6,\u25A9,\u25D8,\u25D9,\u25C8,\u266B,\u266C,\u266A,\u2669,\u266D,\u266A,\u2704,\u262A,\u2623,\u2622,\u2620,\u266F,\u2669,\u266A,\u266B,\u266C,\u266D,\u266E,\u260E,\u260F,\u262A" }, i = { cols: 9, total: Object.keys(o), current: "teshu", tags: { teshu: "\u7279\u6B8A", shuxue: "\u6570\u5B66", xuhao: "\u5E8F\u53F7", lading: "\u62C9\u4E01", zhuyin: "\u6CE8\u97F3", yinbiao: "\u97F3\u6807", rwzf: "\u65E5\u6587\u5B57\u7B26", ewzf: "\u4FC4\u6587\u5B57\u7B26", zhibiao: "\u5236\u8868\u7B26", qita: "\u5176\u4ED6" } };
      t.symbolConfig && t.symbolConfig instanceof Function && t.symbolConfig.call(null, o, i), t.clickToolbar(n, function() {
        function u(_, I) {
          _.mouseover(function() {
            e(this).addClass("ke-on");
          }), _.mouseout(function() {
            e(this).removeClass("ke-on");
          }), _.click(function(N) {
            t.insertHtml(I).hideMenu().focus(), N.stop();
          });
        }
        function c(_, I) {
          var N = document.createElement("ul");
          I.append(N), N.className = "ke-ul";
          for (var A, j = o[_].split(","), F = Math.ceil(j.length / i.cols), E = 0; F > E; E++) {
            var T = document.createElement("li");
            e(T).addClass("ke-li"), e(N).append(T);
            for (var w = 0; w < i.cols; w++)
              if (A = j[i.cols * E + w], A !== void 0) {
                var x = e('<span class="ke-symbol">' + A + "</span>");
                u(x, A), e(T).append(x), s.push(x);
              }
          }
          return N;
        }
        function a() {
          e.each(s, function() {
            this.unbind();
          });
        }
        function r(_, I) {
          _.click(function(N) {
            a(), y.parentNode.removeChild(y), k.remove(), y = c(I, l), d(I), i.current = I, N.stop();
          });
        }
        function d(_) {
          k = e('<div class="ke-page"></div>'), l.append(k);
          for (var I in i.tags) {
            var N = i.tags[I];
            if (I !== _) {
              var A = e('<span class="ke-page-item"><a href="javascript:;">[' + N + "]</a></span>");
              r(A, I), k.append(A), s.push(A);
            } else
              k.append(e('<span class="ke-page-item ke-page-active">[' + N + "]</span>"));
          }
        }
        var s = [], l = e('<div class="ke-plugin-symbol"></div>'), f = t.createMenu({ name: n, beforeRemove: function() {
          a();
        } }), p = e(".ke-toolbar .ke-icon-symbols").pos().x, m = e(".ke-toolbar .ke-icon-symbols").width(), g = e(document.body).width();
        f.div.append(l);
        var k, y = c(i.current, l), C = e(l).width();
        p + C > g && e(f.div).css({ left: p - (C - m) + "px" }), d(i.current);
      });
    }), KindEditor.plugin("filemanager", function(e) {
      function t(r, d, s) {
        return r + " (" + Math.ceil(d / 1024) + "KB, " + s + ")";
      }
      function n(r, d) {
        d.is_dir ? r.attr("title", d.filename) : r.attr("title", t(d.filename, d.filesize, d.datetime));
      }
      var o = this, i = "filemanager", u = e.undef(o.fileManagerJson, o.basePath + "php/file_manager_json.php"), c = o.pluginsPath + i + "/images/", a = o.lang(i + ".");
      o.plugin.filemanagerDialog = function(r) {
        function d(w, x, D) {
          var M = "path=" + w + "&order=" + x + "&dir=" + k;
          I.showLoading(o.lang("ajaxLoading")), e.ajax(e.addParam(u, M + "&" + new Date().getTime()), function(B) {
            I.hideLoading(), D(B);
          });
        }
        function s(w, x, D, M) {
          var B = e.formatUrl(x.current_url + D.filename, "absolute"), R = encodeURIComponent(x.current_dir_path + D.filename + "/");
          D.is_dir ? w.click(function(U) {
            d(R, E.val(), M);
          }) : D.is_photo ? w.click(function(U) {
            C.call(this, B, D.filename);
          }) : w.click(function(U) {
            C.call(this, B, D.filename);
          }), T.push(w);
        }
        function l(w, x) {
          function D() {
            F.val() == "VIEW" ? d(w.current_dir_path, E.val(), p) : d(w.current_dir_path, E.val(), f);
          }
          e.each(T, function() {
            this.unbind();
          }), j.unbind(), F.unbind(), E.unbind(), w.current_dir_path && j.click(function(M) {
            d(w.moveup_dir_path, E.val(), x);
          }), F.change(D), E.change(D), A.html("");
        }
        function f(w) {
          l(w, f);
          var x = document.createElement("table");
          x.className = "ke-table", x.cellPadding = 0, x.cellSpacing = 0, x.border = 0, A.append(x);
          for (var D = w.file_list, M = 0, B = D.length; B > M; M++) {
            var R = D[M], U = e(x.insertRow(M));
            U.mouseover(function(W) {
              e(this).addClass("ke-on");
            }).mouseout(function(W) {
              e(this).removeClass("ke-on");
            });
            var O = c + (R.is_dir ? "folder-16.gif" : "file-16.gif"), P = e('<img src="' + O + '" width="16" height="16" alt="' + R.filename + '" align="absmiddle" />'), H = e(U[0].insertCell(0)).addClass("ke-cell ke-name").append(P).append(document.createTextNode(" " + R.filename));
            !R.is_dir || R.has_file ? (U.css("cursor", "pointer"), H.attr("title", R.filename), s(H, w, R, f)) : H.attr("title", a.emptyFolder), e(U[0].insertCell(1)).addClass("ke-cell ke-size").html(R.is_dir ? "-" : Math.ceil(R.filesize / 1024) + "KB"), e(U[0].insertCell(2)).addClass("ke-cell ke-datetime").html(R.datetime);
          }
        }
        function p(w) {
          l(w, p);
          for (var x = w.file_list, D = 0, M = x.length; M > D; D++) {
            var B = x[D], R = e('<div class="ke-inline-block ke-item"></div>');
            A.append(R);
            var U = e('<div class="ke-inline-block ke-photo"></div>').mouseover(function(W) {
              e(this).addClass("ke-on");
            }).mouseout(function(W) {
              e(this).removeClass("ke-on");
            });
            R.append(U);
            var O = w.current_url + B.filename, P = B.is_dir ? c + "folder-64.gif" : B.is_photo ? O : c + "file-64.gif", H = e('<img src="' + P + '" width="80" height="80" alt="' + B.filename + '" />');
            !B.is_dir || B.has_file ? (U.css("cursor", "pointer"), n(U, B), s(U, w, B, p)) : U.attr("title", a.emptyFolder), U.append(H), R.append('<div class="ke-name" title="' + B.filename + '">' + B.filename + "</div>");
          }
        }
        var m = e.undef(r.width, 650), g = e.undef(r.height, 510), k = e.undef(r.dirName, ""), y = e.undef(r.viewType, "VIEW").toUpperCase(), C = r.clickFn, _ = ['<div style="padding:10px 20px;">', '<div class="ke-plugin-filemanager-header">', '<div class="ke-left">', '<img class="ke-inline-block" name="moveupImg" src="' + c + 'go-up.gif" width="16" height="16" border="0" alt="" /> ', '<a class="ke-inline-block" name="moveupLink" href="javascript:;">' + a.moveup + "</a>", "</div>", '<div class="ke-right">', a.viewType + ' <select class="ke-inline-block" name="viewType">', '<option value="VIEW">' + a.viewImage + "</option>", '<option value="LIST">' + a.listImage + "</option>", "</select> ", a.orderType + ' <select class="ke-inline-block" name="orderType">', '<option value="NAME">' + a.fileName + "</option>", '<option value="SIZE">' + a.fileSize + "</option>", '<option value="TYPE">' + a.fileType + "</option>", "</select>", "</div>", '<div class="ke-clearfix"></div>', "</div>", '<div class="ke-plugin-filemanager-body"></div>', "</div>"].join(""), I = o.createDialog({ name: i, width: m, height: g, title: o.lang(i), body: _ }), N = I.div, A = e(".ke-plugin-filemanager-body", N), j = (e('[name="moveupImg"]', N), e('[name="moveupLink"]', N)), F = (e('[name="viewServer"]', N), e('[name="viewType"]', N)), E = e('[name="orderType"]', N), T = [];
        return F.val(y), d("", E.val(), y == "VIEW" ? p : f), I;
      };
    }), KindEditor.plugin("image", function(e) {
      var t = this, n = "image", o = e.undef(t.allowImageUpload, !0), i = e.undef(t.allowImageRemote, !0), u = e.undef(t.allowFileManager, !1), c = e.undef(t.uploadHeader, {}), a = e.undef(t.uploadFileSizeLimit, "2MB"), r = e.undef(t.uploadFileTypeLimit, "*.jpg;*.gif;*.png;*.jpeg,*.bmp"), d = e.undef(t.uploadResponseFilter, 0), s = e.undef(t.extraFileUploadParams, {}), l = e.undef(t.filePostName, "imgFile"), f = e.undef(t.uploadJson, t.basePath + "_404.html"), p = e.undef(t.formatUploadUrl, !0), m = e.undef(t.imageTabIndex, 1), g = (t.pluginsPath + "", e.undef(t.fillDescAfterUploadImage, !1)), k = t.lang(n + ".");
      t.plugin.imageDialog = function(y) {
        function C(Y, Z) {
          Y && O.val(Y), Z && P.val(Z);
        }
        var _ = e.undef(y.showRemote, !0), I = e.undef(y.showLocal, !0), N = e.undef(y.tabIndex, 0), A = y.clickFn, j = ("" + new Date().getTime(), []);
        for (var F in s)
          j.push('<input type="hidden" name="' + F + '" value="' + s[F] + '" />');
        var E, T = ['<div style="padding:20px;">', '<div class="tabs"></div>', '<div class="tab1" style="display:none;">', '<div class="ke-dialog-row">', '<label for="remoteUrl" style="width:60px;">' + k.remoteUrl + "</label>", '<input type="text" id="remoteUrl" class="ke-input-text" name="url" value="" style="width:' + (u ? 250 : 360) + 'px;" />', '<span class="ke-button-common ke-button-outer"  style="margin-left:' + (u ? 12 : 0) + 'px">', '<input type="button" class="ke-button-common ke-button" name="viewServer" value="' + k.viewServer + '" />', "</span>", "</div>", '<div class="ke-dialog-row">', '<label for="remoteWidth" style="width:60px;">' + k.size + "</label>", k.width + '\uFF1A<input type="text" id="remoteWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" style="width:130px;margin-right:10px" />', k.height + '\uFF1A<input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" style="width:130px;margin-right:10px" />', '<span class="ke-inline-block ke-toolbar-icon icon-ke-font ke-icon-refresh-bold ke-refresh-btn"></span>', "</div>", '<div class="ke-dialog-row">', '<label style="width:60px;">' + k.align + "</label>", '<input type="radio" name="align" class="ke-inline-block" value="" checked="checked" /><span class="ke-inline-block ke-toolbar-icon icon-ke-font ke-icon-float-default"></span><text style="margin-right:30px;">&nbsp;\u9ED8\u8BA4</text>', ' <input type="radio" name="align" class="ke-inline-block" value="left" /><span class="ke-inline-block ke-toolbar-icon icon-ke-font ke-icon-float-left"></span><text style="margin-right:30px;">&nbsp;\u5DE6\u5BF9\u9F50</text>', ' <input type="radio" name="align" class="ke-inline-block" value="right" /><span class="ke-inline-block ke-toolbar-icon icon-ke-font ke-icon-float-right"></span><text style="margin-right:30px;" >&nbsp;\u53F3\u5BF9\u9F50</text>', "</div>", '<div class="ke-dialog-row">', '<label for="remoteTitle" style="width:60px;">' + k.imgTitle + "</label>", '<input type="text" id="remoteTitle" class="ke-input-text" name="title" value="" style="width:360px;" />', "</div>", "</div>", '<div class="tab2" style="display:none;">', '<div class="ke-dialog-row">', '<label style="width:60px;">' + k.localUrl + "</label>", '<input type="text" name="localUrl" class="ke-input-text" tabindex="-1" style="width:270px;" readonly="true" /> &nbsp;', '<input type="button" class="ke-upload-button" value="' + k.upload + '" />', "</div>", "</div>", "</div>"].join(""), w = 480, x = _ ? 340 : 220, D = t.createDialog({ name: n, width: w, height: x + 3, title: t.lang(n), body: T, yesBtn: { name: t.lang("yes"), click: function(Y) {
          if (!D.isLoading) {
            if (I && _ && E && E.selectedIndex === 1 || !_)
              return K.fileBox.val() == "" ? void alert(t.lang("pleaseSelectFile")) : (D.showLoading(t.lang("uploadLoading")), K.submit(), void R.val(""));
            var Z = e.trim(B.val()), qe = O.val(), dt = P.val(), Zt = W.val(), We = "";
            return ae.each(function() {
              return this.checked ? (We = this.value, !1) : void 0;
            }), Z == "http://" || e.invalidUrl(Z) ? (alert(t.lang("invalidUrl")), void B[0].focus()) : /^\d*$/.test(qe) ? /^\d*$/.test(dt) ? void A.call(t, Z, Zt, qe, dt, 0, We) : (alert(t.lang("invalidHeight")), void P[0].focus()) : (alert(t.lang("invalidWidth")), void O[0].focus());
          }
        } }, beforeRemove: function() {
          U.unbind(), O.unbind(), P.unbind(), H.unbind();
        } }), M = D.div, B = e('[name="url"]', M), R = e('[name="localUrl"]', M), U = e('[name="viewServer"]', M), O = e('.tab1 [name="width"]', M), P = e('.tab1 [name="height"]', M), H = e(".ke-refresh-btn", M), W = e('.tab1 [name="title"]', M), ae = e('.tab1 [name="align"]', M);
        _ && I ? (E = e.tabs({ src: e(".tabs", M), afterSelect: function(Y) {
        } }), E.add({ title: k.remoteImage, panel: e(".tab1", M) }), E.add({ title: k.localImage, panel: e(".tab2", M) }), E.select(N)) : _ ? e(".tab1", M).show() : I && e(".tab2", M).show();
        var K = e.uploadbutton({ button: e(".ke-upload-button", M)[0], width: "auto", fieldName: l, fileSizeLimit: a, fileTypeLimit: r, uploadHeader: c, uploadData: s, uploadUrl: e.addParam(f, "dir=image"), uploadResponseFilter: d, afterUpload: function(Y) {
          if (D.hideLoading(), Y.error === 0) {
            var Z = Y.url;
            p && (Z = e.formatUrl(Z, "absolute")), t.afterUpload && t.afterUpload.call(t, Z, Y, n), g ? (e(".ke-dialog-row #remoteUrl", M).val(Z), e(".ke-tabs-li", M)[0].click(), e(".ke-refresh-btn", M).click()) : A.call(t, Z, Y.title, Y.width, Y.height, Y.border, Y.align);
          } else
            alert(Y.message), setTimeout(function() {
              R.val("");
            }, 100);
        }, afterError: function(Y) {
          D.hideLoading(), t.errorDialog(Y);
        } });
        K.fileBox.change(function(Y) {
          R.val(K.fileBox.val());
        }), u ? U.click(function(Y) {
          t.loadPlugin("filemanager", function() {
            t.plugin.filemanagerDialog({ viewType: "VIEW", dirName: "image", clickFn: function(Z, qe) {
              t.dialogs.length > 1 && (e('[name="url"]', M).val(Z), t.afterSelectFile && t.afterSelectFile.call(t, Z), t.hideDialog());
            } });
          });
        }) : U.hide();
        var ie = 0, me = 0, be = t.plugin.getSelectedImage();
        if (be && be.get) {
          var ee = be.get();
          ee && (ie = ee.naturalWidth, me = ee.naturalHeight, ee.width, ee.height);
        }
        return H.click(function(Y) {
          if (ie * me > 0)
            return void C(ie, me);
          var Z = new Image();
          Z.onload = function() {
            C(this.width, this.height), Z = null;
          }, Z.src = B.val();
        }), O.change(function(Y) {
          /^\d+$/.test(this.value) && this.value > 0 && P.val(Math.round(me / ie * parseInt(this.value, 10)));
        }), P.change(function(Y) {
          /^\d+$/.test(this.value) && this.value > 0 && O.val(Math.round(ie / me * parseInt(this.value, 10)));
        }), B.val(y.imageUrl), C(y.imageWidth, y.imageHeight), W.val(y.imageTitle), ae.each(function() {
          return this.value === y.imageAlign ? (this.checked = !0, !1) : void 0;
        }), _ && N === 0 && (B[0].focus(), B[0].select()), D;
      }, t.plugin.image = { edit: function() {
        var y = t.plugin.getSelectedImage();
        t.plugin.imageDialog({ imageUrl: y ? y.attr("data-ke-src") : "http://", imageWidth: y ? y.attr("width") : "", imageHeight: y ? y.attr("height") : "", imageTitle: y ? y.attr("title") : "", imageAlign: y ? y.attr("align") : "", showRemote: i, showLocal: o, tabIndex: y ? 0 : m, clickFn: function(C, _, I, N, A, j) {
          y ? (y.attr("src", C), y.attr("data-ke-src", C), I ? y.attr("width", I) : y.removeAttr("width"), N ? y.attr("height", N) : y.removeAttr("height"), _ ? y.attr("title", _) : y.removeAttr("title"), j ? y.attr("align", j) : y.removeAttr("align"), _ ? y.attr("alt", _) : y.removeAttr("alt")) : (t.exec("insertimage", C, _, I, N, A, j, "ke-image"), setTimeout(function() {
            t.edit.afterChange.call(t.edit);
          }, 300)), setTimeout(function() {
            t.hideDialog().focus();
          }, 0);
        } });
      }, delete: function() {
        var y = t.plugin.getSelectedImage();
        y.parent().name == "a" && (y = y.parent()), y.remove(), t.addBookmark();
      } }, t.clickToolbar(n, t.plugin.image.edit);
    }), KindEditor.plugin("insertfile", function(e) {
      var t = this, n = "insertfile", o = e.undef(t.allowFileUpload, !0), i = e.undef(t.allowFileManager, !1), u = e.undef(t.uploadHeader, {}), c = e.undef(t.uploadFileSizeLimit, "20MB"), a = e.undef(t.uploadFileTypeLimit, "*.mp3;*.wav;*.mp4;*.wmv;*.rmvb;*.avi,*.jpg;*.gif;*.png;*.jpeg,*.bmp"), r = e.undef(t.uploadResponseFilter, 0), d = e.undef(t.extraFileUploadParams, {}), s = e.undef(t.filePostName, "imgFile"), l = e.undef(t.uploadJson, t.basePath + "_404.html"), f = e.undef(t.formatUploadUrl, !0), p = t.lang(n + ".");
      t.plugin.fileDialog = function(m) {
        var g = e.undef(m.fileUrl, "http://"), k = e.undef(m.fileTitle, ""), y = m.clickFn, C = ['<div style="padding:20px;">', '<div class="ke-dialog-row">', '<label for="keUrl" style="width:60px;">' + p.url + "</label>", '<input type="text" id="keUrl" name="url" class="ke-input-text" style="width:' + (i ? 160 : 260) + 'px;" />', '<input type="button" class="ke-upload-button" value="' + p.upload + '" />', '<span class="ke-button-common ke-button-outer" style="margin-left:' + (i ? 5 : 0) + 'px" >', '<input type="button" class="ke-button-common ke-button" name="viewServer" value="' + p.viewServer + '" />', "</span>", "</div>", '<div class="ke-dialog-row">', '<label for="keTitle" style="width:60px;">' + p.title + "</label>", '<input type="text" id="keTitle" class="ke-input-text" name="title" value="" style="width:160px;" /></div>', "</div>", "</form>", "</div>"].join(""), _ = t.createDialog({ name: n, width: 450, height: 220, title: t.lang(n), body: C, yesBtn: { name: t.lang("yes"), click: function(E) {
          var T = e.trim(N.val()), w = j.val();
          return T == "http://" || e.invalidUrl(T) ? (alert(t.lang("invalidUrl")), void N[0].focus()) : (e.trim(w) === "" && (w = T), void y.call(t, T, w));
        } } }), I = _.div, N = e('[name="url"]', I), A = e('[name="viewServer"]', I), j = e('[name="title"]', I);
        if (o) {
          var F = e.uploadbutton({ button: e(".ke-upload-button", I)[0], width: "auto", fieldName: s, fileSizeLimit: c, fileTypeLimit: a, uploadHeader: u, uploadData: d, uploadUrl: e.addParam(l, "dir=file"), uploadResponseFilter: r, afterUpload: function(E) {
            if (_.hideLoading(), E.error === 0) {
              var T = E.url;
              f && (T = e.formatUrl(T, "absolute")), N.val(T), t.afterUpload && t.afterUpload.call(t, T, E, n);
            } else
              alert(E.message);
          }, afterError: function(E) {
            _.hideLoading(), t.errorDialog(E);
          } });
          F.fileBox.change(function(E) {
            var T = e("input[type='file']", F.form[0]).val();
            T && (_.showLoading(t.lang("uploadLoading")), F.submit());
          });
        } else
          e(".ke-upload-button", I).hide();
        i ? A.click(function(E) {
          t.loadPlugin("filemanager", function() {
            t.plugin.filemanagerDialog({ viewType: "LIST", dirName: "file", clickFn: function(T, w) {
              t.dialogs.length > 1 && (e('[name="url"]', I).val(T), t.afterSelectFile && t.afterSelectFile.call(t, T), t.hideDialog());
            } });
          });
        }) : A.hide(), N.val(g), j.val(k), N[0].focus(), N[0].select();
      }, t.clickToolbar(n, function() {
        t.plugin.fileDialog({ clickFn: function(m, g) {
          var k = '<a class="ke-insertfile" href="' + m + '" data-ke-src="' + m + '" target="_blank">' + g + "</a>";
          t.insertHtml(k).hideDialog().focus();
        } });
      });
    }), KindEditor.plugin("lineheight", function(e) {
      var t = this, n = "lineheight", o = t.lang(n + ".");
      t.clickToolbar(n, function() {
        var i = "", u = t.cmd.commonNode({ "*": ".line-height" });
        u && (i = u.css("line-height"));
        var c = t.createMenu({ name: n, width: 150 });
        e.each(o.lineHeight, function(a, r) {
          e.each(r, function(d, s) {
            c.addItem({ title: s, checked: i === d, click: function() {
              t.cmd.toggle('<span style="line-height:' + d + ';"></span>', { span: ".line-height=" + d }), t.updateState(), t.addBookmark(), t.hideMenu();
            } });
          });
        });
      });
    }), KindEditor.plugin("link", function(e) {
      var t = this, n = "link";
      t.plugin.link = { edit: function() {
        var o = t.lang(n + "."), i = '<div style="padding:20px;"><div class="ke-dialog-row"><label for="keUrl" style="width:60px;">' + o.url + '</label><input class="ke-input-text" type="text" id="keUrl" name="url" value="" style="width:260px;" /></div><div class="ke-dialog-row""><label for="keType" style="width:60px;">' + o.linkType + '</label><select id="keType" name="type"></select></div></div>', u = t.createDialog({ name: n, width: 450, title: t.lang(n), body: i, yesBtn: { name: t.lang("yes"), click: function(s) {
          var l = e.trim(a.val());
          return l == "http://" || e.invalidUrl(l) ? (alert(t.lang("invalidUrl")), void a[0].focus()) : void t.exec("createlink", l, r.val()).hideDialog().focus();
        } } }), c = u.div, a = e('input[name="url"]', c), r = e('select[name="type"]', c);
        a.val("http://"), r[0].options[0] = new Option(o.newWindow, "_blank"), r[0].options[1] = new Option(o.selfWindow, ""), t.cmd.selection();
        var d = t.plugin.getSelectedLink();
        d && (t.cmd.range.selectNode(d[0]), t.cmd.select(), a.val(d.attr("data-ke-src")), r.val(d.attr("target"))), a[0].focus(), a[0].select();
      }, delete: function() {
        t.exec("unlink", null);
      } }, t.clickToolbar(n, t.plugin.link.edit);
    }), KindEditor.plugin("media", function(e) {
      var t = this, n = "media", o = t.lang(n + "."), i = e.undef(t.allowMediaUpload, !0), u = e.undef(t.allowFileManager, !1), c = e.undef(t.uploadHeader, {}), a = e.undef(t.uploadFileSizeLimit, "20MB"), r = e.undef(t.uploadFileTypeLimit, "*.mp3;*.wav;*.mp4;*.wmv;*.rmvb;*.avi"), d = e.undef(t.uploadResponseFilter, 0), s = e.undef(t.extraFileUploadParams, {}), l = e.undef(t.filePostName, "imgFile"), f = e.undef(t.uploadJson, t.basePath + "_404.html"), p = e.undef(t.formatUploadUrl, !0), m = function(g) {
        for (var k = e(g.commonAncestor()); k && (k.type != 1 || k.isStyle()); )
          k = k.parent();
        return k;
      };
      t.plugin.media = { edit: function() {
        var g = ['<div style="padding:20px;">', '<div class="ke-dialog-row">', '<label for="keUrl" style="width:60px;">' + o.url + "</label>", '<input class="ke-input-text" type="text" id="keUrl" name="url" value="" style="width:' + (u ? 160 : 260) + 'px;" />', '<input type="button" class="ke-upload-button" value="' + o.upload + '" />', '<span class="ke-button-common ke-button-outer"  style="margin-left:' + (u ? 5 : 0) + 'px" >', '<input type="button" class="ke-button-common ke-button " name="viewServer" value="' + o.viewServer + '" />', "</span>", "</div>", '<div class="ke-dialog-row">', '<label for="keWidth" style="width:60px;">' + o.width + "</label>", '<input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="320" maxlength="4" />', '<label for="keHeight" style="width:60px;text-align:left;margin-left:30px">' + o.height + "</label>", '<input type="text" id="keHeight" class="ke-input-text ke-input-number" name="height" value="auto" maxlength="4" />', "</div>", '<div class="ke-dialog-row">', '<label for="kePreload" style="width:60px;">\u9884\u52A0\u8F7D</label>', '<div style="width:80px;display:inline-block;"><input type="checkbox" id="kePreload" name="preload" value="" /></div>', '<label for="keAutostart" style="width:60px;text-align:left;margin-left:30px">\u81EA\u52A8\u64AD\u653E</label>', '<div style="width:80px;display:inline-block;"><input type="checkbox" id="keAutostart" name="autoplay" value="" /></div>', "</div>", '<div class="ke-dialog-row">', '<label for="keControls" style="width:60px;">\u63A7\u5236\u6309\u94AE</label>', '<div style="width:80px;display:inline-block;"><input type="checkbox" id="keControls" name="controls" checked value="" /></div>', '<label for="keLoop" style="width:60px;text-align:left;margin-left:30px">\u5FAA\u73AF\u64AD\u653E</label>', '<div style="width:80px;display:inline-block;"><input type="checkbox" id="keLoop" name="loop" checked value="" /></div>', "</div>", "</div>"].join(""), k = t.createDialog({ name: n, width: 450, height: 300, title: t.lang(n), body: g, yesBtn: { name: t.lang("yes"), click: function(w) {
          var x = e.trim(C.val()), D = I.val(), M = N.val(), B = j[0].checked, R = A[0].checked, U = F[0].checked, O = E[0].checked;
          if (x == "http://" || e.invalidUrl(x))
            return alert(t.lang("invalidUrl")), void C[0].focus();
          if (D != "auto" && !/^\d*$/.test(D))
            return alert(t.lang("invalidWidth")), void I[0].focus();
          if (M != "auto" && !/^\d*$/.test(M))
            return alert(t.lang("invalidHeight")), void N[0].focus();
          var P = "video";
          /\.(mp3|wav|ogg|acc)(\?|$)/i.test(x) && (P = "audio");
          var H = ["<p><" + P, 'data-ke-class="ke-audio"', 'class="ke-media"', 'style="display:inline;"', 'src="' + x + '"', 'width="' + D + '"', 'height="' + M + '"', B ? "preload" : "", R ? "autoplay" : "", U ? "controls" : "", O ? "loop" : "", "></" + P + "><span>\u200B\u3000</span></p>"].join(" "), W = m(t.cmd.range);
          W && W.name != "p" ? t.insertHtml(H).hideDialog().focus() : (e(W).after(H), t.hideDialog().focus());
        } } }), y = k.div, C = e('[name="url"]', y), _ = e('[name="viewServer"]', y), I = e('[name="width"]', y), N = e('[name="height"]', y), A = e('[name="autoplay"]', y), j = e('[name="preload"]', y), F = e('[name="controls"]', y), E = e('[name="loop"]', y);
        if (C.val("http://"), i) {
          var T = e.uploadbutton({ button: e(".ke-upload-button", y)[0], width: "auto", fieldName: l, fileSizeLimit: a, fileTypeLimit: r, uploadHeader: c, uploadData: s, uploadUrl: e.addParam(f, "dir=media"), uploadResponseFilter: d, afterUpload: function(w) {
            if (k.hideLoading(), w.error === 0) {
              var x = w.url;
              p && (x = e.formatUrl(x, "absolute")), C.val(x), t.afterUpload && t.afterUpload.call(t, x, w, n);
            } else
              alert(w.message), setTimeout(function() {
                C.val("http://");
              }, 100);
          }, afterError: function(w) {
            k.hideLoading(), t.errorDialog(w);
          } });
          T.fileBox.change(function(w) {
            var x = e("input[type='file']", T.form[0]).val();
            x && (k.showLoading(t.lang("uploadLoading")), T.submit());
          });
        } else
          e(".ke-upload-button", y).hide();
        u ? _.click(function(w) {
          t.loadPlugin("filemanager", function() {
            t.plugin.filemanagerDialog({ viewType: "LIST", dirName: "media", clickFn: function(x, D) {
              t.dialogs.length > 1 && (e('[name="url"]', y).val(x), t.afterSelectFile && t.afterSelectFile.call(t, x), t.hideDialog());
            } });
          });
        }) : _.hide();
      }, delete: function() {
        t.plugin.getSelectedMedia().remove(), t.addBookmark();
      } }, t.clickToolbar(n, t.plugin.media.edit);
    }), function(e) {
      function t(n) {
        this.init(n);
      }
      e.extend(t, { init: function(n) {
        function o(r, d) {
          e(".ke-status", r).addClass("upload-error"), e(".ke-status > div", r).hide(), e(".ke-message", r).addClass("ke-error").show().html(e.escape(d));
        }
        var i = this;
        n.afterError = n.afterError || function(r) {
          alert(r);
        }, i.options = n, i.progressbars = {};
        var u = "ke_multi_upload_btn" + 1 * new Date() + "_" + Math.floor(9e4 * Math.random() + 9999), c = "ke_multi_upload_dragbody" + 1 * new Date() + "_" + Math.floor(9e4 * Math.random() + 9999), a = "ke_multi_upload_error" + 1 * new Date() + "_" + Math.floor(9e4 * Math.random() + 9999);
        i.div = e(n.container).html(['<div class="ke-swfupload">', '<div class="ke-swfupload-top" >', '<div class="ke-inline-block ke-swfupload-button" id="' + u + '" style="width: 86px;">', "</div>", '<div class="ke-inline-block ke-swfupload-desc">' + n.uploadDesc + "</div>", '<span class="ke-button-common ke-button-outer ke-swfupload-startupload">', '<input type="button" class="ke-button-common ke-button ke-startup-upload-button" value="' + n.startButtonValue + '" />', "</span>", "</div>", '<div class="ke-swfupload-body" id="' + c + '"></div>', '<div class="upload-error-result" id="' + a + '"></div>', "</div>"].join("")), i.bodyDiv = e(".ke-swfupload-body", i.div), i.uploader = WebUploader.create({ server: i.options.uploadUrl, pick: "#" + u, resize: !1, fileVal: "file", accept: { title: "Images", extensions: n.fileTypes.replace(/\*\./g, "").replace(/;/g, ","), mimeTypes: "image/*" }, uploadBeforeSend: function(r, d, s) {
          n.uploadHeaders, n.uploadData;
        }, fileNumLimit: n.fileUploadLimit, fileSingleSizeLimit: 1 * n.fileSizeLimit.replace(/MB/g, "") * 1024 * 1024 }), i.options.uploadCompress !== void 0 && (i.uploader.options.compress = i.options.uploadCompress), i.uploader.on("fileQueued", function(r) {
          i.uploader.makeThumb(r, function(d, s) {
            d && (s = i.options.fileIconUrl), r.url = s, i.appendFile(r);
          }, 80, 80);
        }), i.uploader.on("uploadStart", function(r) {
          var d = this, s = e('div[data-id="' + r.id + '"]', d.bodyDiv);
          e(".ke-status > div", s).hide(), e(".ke-progressbar", s).show();
        }), i.uploader.on("uploadProgress", function(r, d) {
          var s = i.progressbars[r.id], l = Math.floor(100 * d);
          s.bar.css("width", l + "%");
          var f = l >= 100 ? "\u4E0A\u4F20\u6210\u529F" : l + "%";
          s.percent.html(f).show();
        }), i.uploader.on("uploadSuccess", function(r, d) {
          var s = e('div[data-id="' + r.id + '"]', i.bodyDiv).eq(0), l = d.data;
          if (l.error !== 0)
            return void o(s, l.message || i.options.errorMessage);
          var f = l.url;
          f = i.options.formatUploadUrl ? r.url = e.formatUrl(l.url, "absolute") : r.url = l.url, e(".ke-img", s).attr("src", r.url).attr("data-status", "1").data("data", { url: f, title: r.name + "", width: (r._info || { width: "auto" }).width + "", height: "", border: "", align: "" });
        }), i.uploader.on("uploadError", function(r, d) {
          if (r) {
            var s = e('div[data-id="' + r.id + '"]', i.bodyDiv).eq(0);
            console.info("reason", d), o(s, "ERROR:" + d);
          }
        }), i.uploader.on("error", function(r) {
          var d = "\u90E8\u5206\u6216\u5168\u90E8\u6587\u4EF6\u4E0A\u4F20\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5\uFF01";
          r === "Q_TYPE_DENIED" ? d = "[" + arguments[1].name + "]\u6587\u4EF6\u7C7B\u578B\u4E0D\u6B63\u786E\uFF0C\u4E0A\u4F20\u5931\u8D25\uFF01" : r === "Q_EXCEED_NUM_LIMIT" ? d = "\u540C\u65F6\u6700\u591A\u53EF\u4E0A\u4F20" + n.fileUploadLimit + "\u5F20\u56FE\u7247\uFF0C\u8D85\u51FA\u90E8\u5206\u5DF2\u7ECF\u5FFD\u7565\uFF01" : r === "F_EXCEED_SIZE" ? d = "[" + arguments[2].name + "]\u6587\u4EF6\u5927\u5C0F\u8D85\u51FA\u9650\u5236\uFF08\u6700\u5927" + 1 * n.fileSizeLimit.replace(/MB/g, "") + "M\uFF09\uFF0C\u4E0A\u4F20\u5931\u8D25\uFF01" : r === "F_DUPLICATE" && (d = "[" + arguments[1].name + "]\u6587\u4EF6\u5DF2\u5B58\u5728\u4E8E\u5F85\u4E0A\u4F20\u5217\u8868\u4E2D\uFF01"), console.error("\u90E8\u5206\u6216\u5168\u90E8\u6587\u4EF6\u4E0A\u4F20\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5\uFF01", arguments), alert(d);
        }), e(".ke-swfupload-startupload input", i.div).click(function() {
          i.uploader.upload();
        });
      }, removeFile: function(n) {
        var o = this;
        o.uploader.cancelFile(n);
        var i = e('div[data-id="' + n + '"]', o.bodyDiv);
        e(".ke-photo", i).unbind(), e(".ke-delete", i).unbind(), i.remove();
      }, removeFiles: function() {
        var n = this;
        e(".ke-item", n.bodyDiv).each(function() {
          n.removeFile(e(this).attr("data-id"));
        });
      }, appendFile: function(n) {
        var o = this, i = e('<div class="ke-inline-block ke-item" draggable="false" data-id="' + n.id + '"></div>');
        o.bodyDiv.append(i);
        var u = e('<div class="ke-inline-block ke-photo"></div>').mouseover(function(r) {
          e(this).addClass("ke-on");
        }).mouseout(function(r) {
          e(this).removeClass("ke-on");
        });
        i.append(u);
        var c = e('<img class="ke-multi-image ke-img" src="' + n.url + '" class="ke-img" draggable="false" data-status="0" alt="' + n.name + '" />');
        u.append(c), e('<span class="ke-delete"></span>').appendTo(u).click(function() {
          o.removeFile(n.id);
        });
        var a = e('<div class="ke-status"></div>').appendTo(u);
        e(['<div class="ke-progressbar">', '<div class="ke-progressbar-bar"><div class="ke-progressbar-bar-inner"></div></div>', '<div class="ke-progressbar-percent">0%</div></div>'].join("")).hide().appendTo(a), e('<div class="ke-message">' + o.options.pendingMessage + "</div>").appendTo(a), i.append('<div class="ke-name">' + n.name + "</div>"), o.progressbars[n.id] = { bar: e(".ke-progressbar-bar-inner", u), percent: e(".ke-progressbar-percent", u) };
      }, remove: function() {
        var n = this;
        n.removeFiles(), n.destroy(), n.div.html("");
      }, getUrlList: function() {
        var n = [];
        return e(".ke-img", self.bodyDiv).each(function() {
          var o = e(this), i = o.attr("data-status");
          i == "1" && n.push(o.data("data"));
        }), n;
      }, destroy: function() {
        var n = this;
        n.uploader.destroy();
      } }), e.swfupload = function(n, o) {
        return new t(n);
      };
    }(KindEditor), KindEditor.plugin("multiimage", function(e) {
      var t = this, n = "multiimage", o = (e.undef(t.formatUploadUrl, !0), e.undef(t.uploadJson, t.basePath + "php/upload_json.php")), i = e.undef(t.uploadHeader, t.basePath + "php/upload_json.php"), u = e.undef(t.uploadData, t.basePath + "php/upload_json.php"), c = t.pluginsPath + "multiimage/images/", a = e.undef(t.imageSizeLimit, "1MB"), r = (e.undef(t.imageFileTypes, "*.jpg;*.gif;*.png"), e.undef(t.imageUploadLimit, 20)), d = e.undef(t.filePostName, "imgFile"), s = t.lang(n + ".");
      t.plugin.multiImageDialog = function(l) {
        var f = l.clickFn, p = e.tmpl(s.uploadDesc, { uploadLimit: r, sizeLimit: a }), m = ['<div style="padding:10px 20px;">', '<div class="swfupload">', "</div>", "</div>"].join(""), g = t.createDialog({ name: n, width: 650, height: 500, title: t.lang(n), body: m, previewBtn: { name: s.insertAll, click: function(C) {
          f.call(t, y.getUrlList());
        } }, yesBtn: { name: s.clearAll, click: function(C) {
          y.removeFiles();
        } }, beforeRemove: function() {
          y.destroy();
        } }), k = g.div, y = e.swfupload({ container: e(".swfupload", k), buttonImageUrl: c + (t.langType == "zh-CN" ? "select-files-zh-CN.png" : "select-files-en.png"), buttonWidth: t.langType == "zh-CN" ? 72 : 88, buttonHeight: 23, fileIconUrl: c + "image.png", uploadDesc: p, startButtonValue: s.startUpload, uploadUrl: e.addParam(o, "dir=image"), uploadData: u, uploadHeader: i, uploadCompress: t.uploadCompress, formatUploadUrl: t.formatUploadUrl, flashUrl: c + "swfupload.swf", filePostName: d, fileTypes: "*.jpg;*.jpeg;*.gif;*.png;*.bmp", fileTypesDesc: "Image Files", fileUploadLimit: r, fileSizeLimit: a, postParams: e.undef(t.extraFileUploadParams, {}), queueLimitExceeded: s.queueLimitExceeded, fileExceedsSizeLimit: s.fileExceedsSizeLimit, zeroByteFile: s.zeroByteFile, invalidFiletype: s.invalidFiletype, unknownError: s.unknownError, pendingMessage: s.pending, errorMessage: s.uploadError, afterError: function(C) {
          t.errorDialog(C);
        } });
        return e(y.bodyDiv).bind("drop", function(C) {
          C.preventDefault(), C.event.preventDefault();
          var _ = [];
          [].forEach.call(C.event.dataTransfer.files, function(I) {
            _.push(I);
          }, !1), _.length > 0 && y.uploader.addFiles(_), e(y.bodyDiv).removeClass("drag-hover");
        }), e(y.bodyDiv).bind("dragenter", function(C) {
          e(y.bodyDiv).addClass("drag-hover");
        }), e(y.bodyDiv).bind("dragover", function(C) {
          C.preventDefault();
        }), e(y.bodyDiv).bind("dragleave", function() {
          e(y.bodyDiv).removeClass("drag-hover");
        }), e(y.bodyDiv).bind("mouseleave", function() {
          e(y.bodyDiv).removeClass("drag-hover");
        }), e(y.bodyDiv).bind("mouseout", function() {
          e(y.bodyDiv).removeClass("drag-hover");
        }), g;
      }, t.clickToolbar(n, function() {
        t.plugin.multiImageDialog({ clickFn: function(l) {
          l.length !== 0 && (e.each(l, function(f, p) {
            t.afterUpload && t.afterUpload.call(t, p.url, p, "multiimage"), t.exec("insertimage", p.url, p.title, p.width, p.height, p.border, p.align, "ke-image", "p");
          }), setTimeout(function() {
            t.hideDialog().focus();
          }, 0));
        } });
      });
    }), KindEditor.plugin("pagebreak", function(e) {
      var t = this, n = "pagebreak", o = e.undef(t.pagebreakHtml, '<hr style="page-break-after: always;" class="ke-pagebreak" />');
      t.clickToolbar(n, function() {
        var i = t.cmd, u = i.range;
        t.focus();
        var c = t.newlineTag == "br" || e.WEBKIT ? "" : '<span id="__kindeditor_tail_tag__"></span>';
        if (t.insertHtml(o + c), c !== "") {
          var a = e("#__kindeditor_tail_tag__", t.edit.doc);
          u.selectNodeContents(a[0]), a.removeAttr("id"), i.select();
        }
      });
    }), KindEditor.plugin("plainpaste", function(e) {
      var t = this, n = "plainpaste";
      t.clickToolbar(n, function() {
        var o = t.lang(n + "."), i = '<div style="padding:10px 20px;"><div style="margin-bottom:10px;">' + o.comment + '</div><textarea class="ke-textarea" style="width:518px;height:260px;"></textarea></div>', u = t.createDialog({ name: n, width: 560, title: t.lang(n), body: i, yesBtn: { name: t.lang("yes"), click: function(a) {
          var r = c.val();
          r = e.escape(r), r = r.replace(/ {2}/g, " &nbsp;"), r = t.newlineTag == "p" ? r.replace(/^/, "<p>").replace(/$/, "</p>").replace(/\n/g, "</p><p>") : r.replace(/\n/g, "<br />$&"), t.insertHtml(r).hideDialog().focus();
        } } }), c = e("textarea", u.div);
        c[0].focus();
      });
    }), KindEditor.plugin("preview", function(e) {
      var t = this, n = "preview";
      t.clickToolbar(n, function() {
        var o = (t.lang(n + "."), '<div style="padding:10px 20px;"><iframe class="ke-textarea" frameborder="0" style="width:708px;height:400px;"></iframe></div>'), i = t.createDialog({ name: n, width: 750, title: t.lang(n), body: o }), u = e("iframe", i.div), c = e.iframeDoc(u);
        c.open(), c.write(t.fullHtml()), c.close(), e(c.body).css("background-color", "#FFF"), u[0].contentWindow.focus();
      });
    }), KindEditor.plugin("quote", function(e) {
      function t(i) {
        for (var u = e(i.commonAncestor()); u && (u.type != 1 || u.isStyle()); )
          u = u.parent();
        return u;
      }
      var n = this, o = "quote";
      n.clickToolbar(o, function() {
        n.focus();
        var i = "\u200B", u = n.cmd.range, c = t(n.cmd.range);
        if (u) {
          var a = u.extractContents(), r = e(a).outer();
          i = r || e(a).html();
        }
        i = i || "\u200B";
        var d = '<blockquote style="padding: 0 1.5em;border-left: 5px solid #ddd;font-style: italic;margin-block-start: 0;margin-inline-start: 0;min-height: 2rem"><p>' + i + "</p></blockquote>";
        if (c && ["p", "h1", "h2", "h3", "h4", "h5", "h6"].indexOf(c.name) > -1) {
          e(c).after(d);
          var s = e(c).next();
          n.cmd.range.selectNodeContents(s).collapse(), n.cmd.select(), s.focus();
        } else {
          n.insertHtml(d);
          for (var l = c; l && l.children && l.children().length; )
            l = l.children();
          l && l[0] && n.cmd.range.selectNodeContents(l[0]).collapse(), n.cmd.select();
        }
        n.cmd.selection(!0);
      });
    }), KindEditor.plugin("quickformat", function(e) {
      function t(u) {
        for (var c = u.first(); c && c.first(); )
          c = c.first();
        return c;
      }
      var n = this, o = "quickformat", i = e.toMap("blockquote,center,div,h1,h2,h3,h4,h5,h6,p");
      n.clickToolbar(o, function() {
        n.focus();
        for (var u, c = n.edit.doc, a = n.cmd.range, r = e(c.body).first(), d = [], s = [], l = a.createBookmark(!0); r; ) {
          u = r.next();
          var f = t(r);
          f && f.name == "img" || (i[r.name] ? (r.html(r.html().replace(/^(\s|&nbsp;|　)+/gi, "")), r.css("text-indent", "2em")) : s.push(r), (!u || i[u.name] || i[r.name] && !i[u.name]) && (s.length > 0 && d.push(s), s = [])), r = u;
        }
        e.each(d, function(p, m) {
          var g = e('<p style="text-indent:2em;"></p>', c);
          m[0].before(g), e.each(m, function(k, y) {
            g.append(y);
          });
        }), a.moveToBookmark(l), n.addBookmark();
      });
    }), KindEditor.plugin("table", function(e) {
      function t(d, s) {
        s = s.toUpperCase(), d.css("background-color", s), d.css("color", s === "#000000" ? "#FFFFFF" : "#000000"), d.html(s);
      }
      function n(d, s) {
        function l() {
          e.each(r, function() {
            this.remove();
          }), r = [], e(document).unbind("click,mousedown", l), d.unbind("click,mousedown", l);
        }
        s.bind("click,mousedown", function(f) {
          f.stopPropagation();
        }), s.click(function(f) {
          l();
          var p = e(this), m = p.pos(), g = e.colorpicker({ x: m.x, y: m.y + p.height(), z: 811214, selectedColor: e(this).html(), colors: i.colorTable, noColor: i.lang("noColor"), shadowMode: i.shadowMode, click: function(k) {
            t(p, k), l();
          } });
          r.push(g), e(document).bind("click,mousedown", l), d.bind("click,mousedown", l);
        });
      }
      function o(d, s, l) {
        for (var f = 0, p = 0, m = s.cells.length; m > p && s.cells[p] != l; p++)
          f += s.cells[p].rowSpan - 1;
        return l.cellIndex - f;
      }
      var i = this, u = "table", c = i.lang(u + "."), a = "ke-zeroborder", r = [];
      i.plugin.table = { prop: function(d) {
        var s = ['<div style="padding:20px;">', '<div class="ke-dialog-row">', '<label for="keRows" style="width:90px;">' + c.cells + "</label>", c.rows + ' <input type="text" id="keRows" class="ke-input-text ke-input-number" name="rows" value="" maxlength="4" /> &nbsp; ', c.cols + ' <input type="text" class="ke-input-text ke-input-number" name="cols" value="" maxlength="4" />', "</div>", '<div class="ke-dialog-row">', '<label for="keWidth" style="width:90px;">' + c.size + "</label>", c.width + ' <input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" /> &nbsp; ', '<select name="widthType">', '<option value="%">' + c.percent + "</option>", '<option value="px">' + c.px + "</option>", "</select> &nbsp; ", c.height + ' <input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" /> &nbsp; ', '<select name="heightType">', '<option value="%">' + c.percent + "</option>", '<option value="px">' + c.px + "</option>", "</select>", "</div>", '<div class="ke-dialog-row">', '<label for="kePadding" style="width:90px;">' + c.space + "</label>", c.padding + ' <input type="text" id="kePadding" class="ke-input-text ke-input-number" name="padding" value="" maxlength="4" /> &nbsp; ', c.spacing + ' <input type="text" class="ke-input-text ke-input-number" name="spacing" value="" maxlength="4" />', "</div>", '<div class="ke-dialog-row">', '<label for="keAlign" style="width:90px;">' + c.align + "</label>", '<select id="keAlign" name="align">', '<option value="">' + c.alignDefault + "</option>", '<option value="left">' + c.alignLeft + "</option>", '<option value="center">' + c.alignCenter + "</option>", '<option value="right">' + c.alignRight + "</option>", "</select>", "</div>", '<div class="ke-dialog-row">', '<label for="keBorder" style="width:90px;">' + c.border + "</label>", c.borderWidth + ' <input type="text" id="keBorder" class="ke-input-text ke-input-number" name="border" value="" maxlength="4" /> &nbsp; ', c.borderColor + ' <span class="ke-inline-block ke-input-color"></span>', "</div>", '<div class="ke-dialog-row">', '<label for="keBgColor" style="width:90px;">' + c.backgroundColor + "</label>", '<span class="ke-inline-block ke-input-color"></span>', "</div>", "</div>"].join(""), l = i.cmd.range.createBookmark(), f = i.createDialog({ name: u, width: 500, title: i.lang(u), body: s, beforeRemove: function() {
          F.unbind();
        }, yesBtn: { name: i.lang("yes"), click: function(D) {
          var M = m.val(), B = g.val(), R = k.val(), U = y.val(), O = C.val(), P = _.val(), H = I.val(), W = N.val(), ae = A.val(), K = j.val(), ie = e(F[0]).html() || "", me = e(F[1]).html() || "";
          if (M == 0 || !/^\d+$/.test(M))
            return alert(i.lang("invalidRows")), void m[0].focus();
          if (B == 0 || !/^\d+$/.test(B))
            return alert(i.lang("invalidRows")), void g[0].focus();
          if (!/^\d*$/.test(R))
            return alert(i.lang("invalidWidth")), void k[0].focus();
          if (!/^\d*$/.test(U))
            return alert(i.lang("invalidHeight")), void y[0].focus();
          if (!/^\d*$/.test(H))
            return alert(i.lang("invalidPadding")), void I[0].focus();
          if (!/^\d*$/.test(W))
            return alert(i.lang("invalidSpacing")), void N[0].focus();
          if (!/^\d*$/.test(K))
            return alert(i.lang("invalidBorder")), void j[0].focus();
          if (E)
            return R !== "" ? E.width(R + O) : E.css("width", ""), E[0].width !== void 0 && E.removeAttr("width"), U !== "" ? E.height(U + P) : E.css("height", ""), E[0].height !== void 0 && E.removeAttr("height"), E.css("background-color", me), E[0].bgColor !== void 0 && E.removeAttr("bgColor"), H !== "" ? E[0].cellPadding = H : E.removeAttr("cellPadding"), W !== "" ? E[0].cellSpacing = W : E.removeAttr("cellSpacing"), ae !== "" ? E[0].align = ae : E.removeAttr("align"), K !== "" ? E.attr("border", K) : E.removeAttr("border"), K === "" || K === "0" ? E.addClass(a) : E.removeClass(a), ie !== "" ? E.attr("borderColor", ie) : E.removeAttr("borderColor"), i.hideDialog().focus(), i.cmd.range.moveToBookmark(l), i.cmd.select(), void i.addBookmark();
          var be = "";
          R !== "" && (be += "width:" + R + O + ";"), U !== "" && (be += "height:" + U + P + ";"), me !== "" && (be += "background-color:" + me + ";");
          var ee = "<table";
          be !== "" && (ee += ' style="' + be + '"'), H !== "" && (ee += ' cellpadding="' + H + '"'), W !== "" && (ee += ' cellspacing="' + W + '"'), ae !== "" && (ee += ' align="' + ae + '"'), K !== "" && (ee += ' border="' + K + '"'), (K === "" || K === "0") && (ee += ' class="' + a + '"'), ie !== "" && (ee += ' bordercolor="' + ie + '"'), ee += ">";
          for (var Y = 0; M > Y; Y++) {
            ee += "<tr>";
            for (var Z = 0; B > Z; Z++)
              ee += "<td>" + (e.IE ? "&nbsp;" : "<br />") + "</td>";
            ee += "</tr>";
          }
          ee += "</table>", e.IE || (ee += "<br />"), i.insertHtml(ee), i.select().hideDialog().focus(), i.addBookmark();
        } } }), p = f.div, m = e('[name="rows"]', p).val(3), g = e('[name="cols"]', p).val(2), k = e('[name="width"]', p).val(100), y = e('[name="height"]', p), C = e('[name="widthType"]', p), _ = e('[name="heightType"]', p), I = e('[name="padding"]', p).val(2), N = e('[name="spacing"]', p).val(0), A = e('[name="align"]', p), j = e('[name="border"]', p).val(1), F = e(".ke-input-color", p);
        n(p, F.eq(0)), n(p, F.eq(1)), t(F.eq(0), "#000000"), t(F.eq(1), ""), m[0].focus(), m[0].select();
        var E;
        if (!d && (E = i.plugin.getSelectedTable())) {
          m.val(E[0].rows.length), g.val(E[0].rows.length > 0 ? E[0].rows[0].cells.length : 0), m.attr("disabled", !0), g.attr("disabled", !0);
          var T, w = E[0].style.width || E[0].width, x = E[0].style.height || E[0].height;
          w !== void 0 && (T = /^(\d+)((?:px|%)*)$/.exec(w)) ? (k.val(T[1]), C.val(T[2])) : k.val(""), x !== void 0 && (T = /^(\d+)((?:px|%)*)$/.exec(x)) && (y.val(T[1]), _.val(T[2])), I.val(E[0].cellPadding || ""), N.val(E[0].cellSpacing || ""), A.val(E[0].align || ""), j.val(E[0].border === void 0 ? "" : E[0].border), t(F.eq(0), e.toHex(E.attr("borderColor") || "")), t(F.eq(1), e.toHex(E[0].style.backgroundColor || E[0].bgColor || "")), k[0].focus(), k[0].select();
        }
      }, cellprop: function() {
        var d = ['<div style="padding:20px;">', '<div class="ke-dialog-row">', '<label for="keWidth" style="width:90px;">' + c.size + "</label>", c.width + ' <input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" /> &nbsp; ', '<select name="widthType">', '<option value="%">' + c.percent + "</option>", '<option value="px">' + c.px + "</option>", "</select> &nbsp; ", c.height + ' <input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" /> &nbsp; ', '<select name="heightType">', '<option value="%">' + c.percent + "</option>", '<option value="px">' + c.px + "</option>", "</select>", "</div>", '<div class="ke-dialog-row">', '<label for="keAlign" style="width:90px;">' + c.align + "</label>", c.textAlign + ' <select id="keAlign" name="textAlign">', '<option value="">' + c.alignDefault + "</option>", '<option value="left">' + c.alignLeft + "</option>", '<option value="center">' + c.alignCenter + "</option>", '<option value="right">' + c.alignRight + "</option>", "</select> ", c.verticalAlign + ' <select name="verticalAlign">', '<option value="">' + c.alignDefault + "</option>", '<option value="top">' + c.alignTop + "</option>", '<option value="middle">' + c.alignMiddle + "</option>", '<option value="bottom">' + c.alignBottom + "</option>", '<option value="baseline">' + c.alignBaseline + "</option>", "</select>", "</div>", '<div class="ke-dialog-row">', '<label for="keBorder" style="width:90px;">' + c.border + "</label>", c.borderWidth + ' <input type="text" id="keBorder" class="ke-input-text ke-input-number" name="border" value="" maxlength="4" /> &nbsp; ', c.borderColor + ' <span class="ke-inline-block ke-input-color"></span>', "</div>", '<div class="ke-dialog-row">', '<label for="keBgColor" style="width:90px;">' + c.backgroundColor + "</label>", '<span class="ke-inline-block ke-input-color"></span>', "</div>", "</div>"].join(""), s = i.cmd.range.createBookmark(), l = i.createDialog({ name: u, width: 500, title: i.lang("tablecell"), body: d, beforeRemove: function() {
          A.unbind();
        }, yesBtn: { name: i.lang("yes"), click: function(x) {
          var D = p.val(), M = m.val(), B = g.val(), R = k.val(), U = (y.val(), C.val(), _.val()), O = I.val(), P = N.val(), H = e(A[0]).html() || "", W = e(A[1]).html() || "";
          return /^\d*$/.test(D) ? /^\d*$/.test(M) ? /^\d*$/.test(P) ? (F.css({ width: D !== "" ? D + B : "", height: M !== "" ? M + R : "", "background-color": W, "text-align": U, "vertical-align": O, "border-width": P, "border-style": P !== "" ? "solid" : "", "border-color": H }), i.hideDialog().focus(), i.cmd.range.moveToBookmark(s), i.cmd.select(), void i.addBookmark()) : (alert(i.lang("invalidBorder")), void N[0].focus()) : (alert(i.lang("invalidHeight")), void m[0].focus()) : (alert(i.lang("invalidWidth")), void p[0].focus());
        } } }), f = l.div, p = e('[name="width"]', f).val(100), m = e('[name="height"]', f), g = e('[name="widthType"]', f), k = e('[name="heightType"]', f), y = e('[name="padding"]', f).val(2), C = e('[name="spacing"]', f).val(0), _ = e('[name="textAlign"]', f), I = e('[name="verticalAlign"]', f), N = e('[name="border"]', f).val(1), A = e(".ke-input-color", f);
        n(f, A.eq(0)), n(f, A.eq(1)), t(A.eq(0), "#000000"), t(A.eq(1), ""), p[0].focus(), p[0].select();
        var j, F = i.plugin.getSelectedCell(), E = F[0].style.width || F[0].width || "", T = F[0].style.height || F[0].height || "";
        (j = /^(\d+)((?:px|%)*)$/.exec(E)) ? (p.val(j[1]), g.val(j[2])) : p.val(""), (j = /^(\d+)((?:px|%)*)$/.exec(T)) && (m.val(j[1]), k.val(j[2])), _.val(F[0].style.textAlign || ""), I.val(F[0].style.verticalAlign || "");
        var w = F[0].style.borderWidth || "";
        w && (w = parseInt(w)), N.val(w), t(A.eq(0), e.toHex(F[0].style.borderColor || "")), t(A.eq(1), e.toHex(F[0].style.backgroundColor || "")), p[0].focus(), p[0].select();
      }, insert: function() {
        this.prop(!0);
      }, delete: function() {
        var d = i.plugin.getSelectedTable();
        i.cmd.range.setStartBefore(d[0]).collapse(!0), i.cmd.select(), d.remove(), i.addBookmark();
      }, colinsert: function(d) {
        var s = i.plugin.getSelectedTable()[0], l = i.plugin.getSelectedRow()[0], f = i.plugin.getSelectedCell()[0], p = f.cellIndex + d;
        p += s.rows[0].cells.length - l.cells.length;
        for (var m = 0, g = s.rows.length; g > m; m++) {
          var k = s.rows[m], y = k.insertCell(p);
          y.innerHTML = e.IE ? "" : "<br />", p = o(s, k, y);
        }
        i.cmd.range.selectNodeContents(f).collapse(!0), i.cmd.select(), i.addBookmark();
      }, colinsertleft: function() {
        this.colinsert(0);
      }, colinsertright: function() {
        this.colinsert(1);
      }, rowinsert: function(d) {
        var s = i.plugin.getSelectedTable()[0], l = i.plugin.getSelectedRow()[0], f = i.plugin.getSelectedCell()[0], p = l.rowIndex;
        d === 1 && (p = l.rowIndex + (f.rowSpan - 1) + d);
        for (var m = s.insertRow(p), g = 0, k = l.cells.length; k > g; g++) {
          l.cells[g].rowSpan > 1 && (k -= l.cells[g].rowSpan - 1);
          var y = m.insertCell(g);
          d === 1 && l.cells[g].colSpan > 1 && (y.colSpan = l.cells[g].colSpan), y.innerHTML = e.IE ? "" : "<br />";
        }
        for (var C = p; C >= 0; C--) {
          var _ = s.rows[C].cells;
          if (_.length > g) {
            for (var I = f.cellIndex; I >= 0; I--)
              _[I].rowSpan > 1 && (_[I].rowSpan += 1);
            break;
          }
        }
        i.cmd.range.selectNodeContents(f).collapse(!0), i.cmd.select(), i.addBookmark();
      }, rowinsertabove: function() {
        this.rowinsert(0);
      }, rowinsertbelow: function() {
        this.rowinsert(1);
      }, rowmerge: function() {
        var d = i.plugin.getSelectedTable()[0], s = i.plugin.getSelectedRow()[0], l = i.plugin.getSelectedCell()[0], f = s.rowIndex, p = f + l.rowSpan, m = d.rows[p];
        if (!(d.rows.length <= p)) {
          var g = l.cellIndex;
          if (!(m.cells.length <= g)) {
            var k = m.cells[g];
            l.colSpan === k.colSpan && (l.rowSpan += k.rowSpan, m.deleteCell(g), i.cmd.range.selectNodeContents(l).collapse(!0), i.cmd.select(), i.addBookmark());
          }
        }
      }, colmerge: function() {
        var d = (i.plugin.getSelectedTable()[0], i.plugin.getSelectedRow()[0]), s = i.plugin.getSelectedCell()[0], l = (d.rowIndex, s.cellIndex), f = l + 1;
        if (!(d.cells.length <= f)) {
          var p = d.cells[f];
          s.rowSpan === p.rowSpan && (s.colSpan += p.colSpan, d.deleteCell(f), i.cmd.range.selectNodeContents(s).collapse(!0), i.cmd.select(), i.addBookmark());
        }
      }, rowsplit: function() {
        var d = i.plugin.getSelectedTable()[0], s = i.plugin.getSelectedRow()[0], l = i.plugin.getSelectedCell()[0], f = s.rowIndex;
        if (l.rowSpan !== 1) {
          for (var p = o(d, s, l), m = 1, g = l.rowSpan; g > m; m++) {
            var k = d.rows[f + m], y = k.insertCell(p);
            l.colSpan > 1 && (y.colSpan = l.colSpan), y.innerHTML = e.IE ? "" : "<br />", p = o(d, k, y);
          }
          e(l).removeAttr("rowSpan"), i.cmd.range.selectNodeContents(l).collapse(!0), i.cmd.select(), i.addBookmark();
        }
      }, colsplit: function() {
        var d = (i.plugin.getSelectedTable()[0], i.plugin.getSelectedRow()[0]), s = i.plugin.getSelectedCell()[0], l = s.cellIndex;
        if (s.colSpan !== 1) {
          for (var f = 1, p = s.colSpan; p > f; f++) {
            var m = d.insertCell(l + f);
            s.rowSpan > 1 && (m.rowSpan = s.rowSpan), m.innerHTML = e.IE ? "" : "<br />";
          }
          e(s).removeAttr("colSpan"), i.cmd.range.selectNodeContents(s).collapse(!0), i.cmd.select(), i.addBookmark();
        }
      }, coldelete: function() {
        for (var d = i.plugin.getSelectedTable()[0], s = i.plugin.getSelectedRow()[0], l = i.plugin.getSelectedCell()[0], f = l.cellIndex, p = 0, m = d.rows.length; m > p; p++) {
          var g = d.rows[p], k = g.cells[f];
          k.colSpan > 1 ? (k.colSpan -= 1, k.colSpan === 1 && e(k).removeAttr("colSpan")) : g.deleteCell(f), k.rowSpan > 1 && (p += k.rowSpan - 1);
        }
        s.cells.length === 0 ? (i.cmd.range.setStartBefore(d).collapse(!0), i.cmd.select(), e(d).remove()) : i.cmd.selection(!0), i.addBookmark();
      }, rowdelete: function() {
        for (var d = i.plugin.getSelectedTable()[0], s = i.plugin.getSelectedRow()[0], l = i.plugin.getSelectedCell()[0], f = s.rowIndex, p = l.rowSpan - 1; p >= 0; p--)
          d.deleteRow(f + p);
        d.rows.length === 0 ? (i.cmd.range.setStartBefore(d).collapse(!0), i.cmd.select(), e(d).remove()) : i.cmd.selection(!0), i.addBookmark();
      } }, i.clickToolbar(u, i.plugin.table.prop);
    }), KindEditor.plugin("template", function(e) {
      var t = this, n = "template", o = (t.lang(n + "."), t.pluginsPath + n + "", e.undef(t.templates, e.Templates));
      t.clickToolbar(n, function() {
        var i = t.lang(n + "."), u = ['<div style="padding:10px 20px;">', '<div class="ke-header">', '<div class="ke-left">', i.selectTemplate + " <select>"];
        e.each(o, function(s, l) {
          u.push("<option value='" + l.content + "'>" + l.name + "</option>");
        }), Et = [u.join(""), "</select></div>", '<div class="ke-right">', '<input type="checkbox" id="keReplaceFlag" name="replaceFlag" value="1" /> <label for="keReplaceFlag">' + i.replaceContent + "</label>", "</div>", '<div class="ke-clearfix"></div>', "</div>", '<div class="ke-temp-preview" style="width:518px;height:260px;background-color:#FFF;padding: 12px;overflow:auto;border-color: #848484 #E0E0E0 #E0E0E0 #848484;border-style: solid;border-width: 1px;"></div>', "</div>"].join("");
        var c = t.createDialog({ name: n, width: 560, title: t.lang(n), body: Et, yesBtn: { name: t.lang("yes"), click: function(s) {
          t[r[0].checked ? "html" : "insertHtml"](a.val()).hideDialog().focus();
        } } }), a = e("select", c.div), r = e('[name="replaceFlag"]', c.div), d = e(".ke-temp-preview", c.div);
        r[0].checked = !1, d.html(a.val()), a.change(function() {
          d.html(this.value);
        });
      });
    }), KindEditor.plugin("wordpaste", function(e) {
      var t = this, n = "wordpaste";
      t.clickToolbar(n, function() {
        var o = t.lang(n + "."), i = '<div style="padding:10px 20px;"><div style="margin-bottom:10px;">' + o.comment + '</div><iframe class="ke-textarea" frameborder="0" style="width:518px;height:260px;"></iframe></div>', u = t.createDialog({ name: n, width: 560, title: t.lang(n), body: i, yesBtn: { name: t.lang("yes"), click: function(d) {
          var s = r.body.innerHTML;
          s = e.clearMsWord(s, t.filterMode ? t.htmlTags : e.options.htmlTags), t.insertHtml(s).hideDialog().focus();
        } } }), c = u.div, a = e("iframe", c), r = e.iframeDoc(a);
        e.IE || (r.designMode = "on"), r.open(), r.write("<!doctype html><html><head><title>WordPaste</title></head>"), r.write('<body style="background-color:#FFF;font-size:12px;margin:2px;">'), e.IE || r.write("<br />"), r.write("</body></html>"), r.close(), e.IE && (r.body.contentEditable = "true"), a[0].contentWindow.focus();
      });
    }), KindEditor.plugin("fixtoolbar", function(e) {
      function t() {
        var u = e(".ke-toolbar"), c = e(u).parent();
        e(".ke-toolbar").width(), e(window).bind("resize", function() {
          u.css("width", e(c).width() - 2 + "px");
        }), u.css("width", e(c).width() + "px"), e(i).bind("scroll", function() {
          var a = c.pos().y, r = i.pos().y;
          r >= a ? (u.css("position", "fixed"), u.css("top", r + "px"), u.css("border-top", "1px solid #ccc")) : (u.css("position", "static"), u.css("top", "auto"), u.css("border-top", "none"));
        });
      }
      var n = this, o = e("body");
      if (n.fixToolBar) {
        n.fixToolBarWatchRef && (o = e(n.fixToolBarWatchRef));
        var i = e(o);
        return i.length < 1 ? void console.error("fixToolBarWatchRef can not be null") : void (n.isCreated ? t() : n.afterCreate(t));
      }
    }), KindEditor.lang({ source: "HTML\u4EE3\u7801", preview: "\u9884\u89C8", undo: "\u540E\u9000(Ctrl+Z)", redo: "\u524D\u8FDB(Ctrl+Y)", cut: "\u526A\u5207(Ctrl+X)", copy: "\u590D\u5236(Ctrl+C)", paste: "\u7C98\u8D34(Ctrl+V)", plainpaste: "\u7C98\u8D34\u4E3A\u65E0\u683C\u5F0F\u6587\u672C", wordpaste: "\u4ECEWord\u7C98\u8D34", selectall: "\u5168\u9009(Ctrl+A)", justifyleft: "\u5DE6\u5BF9\u9F50", justifycenter: "\u5C45\u4E2D", justifyright: "\u53F3\u5BF9\u9F50", justifyfull: "\u4E24\u7AEF\u5BF9\u9F50", insertorderedlist: "\u7F16\u53F7", insertunorderedlist: "\u9879\u76EE\u7B26\u53F7", indent: "\u589E\u52A0\u7F29\u8FDB", outdent: "\u51CF\u5C11\u7F29\u8FDB", subscript: "\u4E0B\u6807", quote: "\u5F15\u7528", superscript: "\u4E0A\u6807", formatblock: "\u6BB5\u843D", fontname: "\u5B57\u4F53", fontsize: "\u6587\u5B57\u5927\u5C0F", forecolor: "\u6587\u5B57\u989C\u8272", hilitecolor: "\u6587\u5B57\u80CC\u666F", bold: "\u7C97\u4F53(Ctrl+B)", italic: "\u659C\u4F53(Ctrl+I)", underline: "\u4E0B\u5212\u7EBF(Ctrl+U)", strikethrough: "\u5220\u9664\u7EBF", removeformat: "\u5220\u9664\u683C\u5F0F", image: "\u56FE\u7247", multiimage: "\u6279\u91CF\u56FE\u7247\u4E0A\u4F20", flash: "Flash", media: "\u89C6\u97F3\u9891", table: "\u8868\u683C", tablecell: "\u5355\u5143\u683C", hr: "\u63D2\u5165\u6A2A\u7EBF", emoticons: "\u63D2\u5165\u8868\u60C5", symbols: "\u7279\u6B8A\u5B57\u7B26", link: "\u8D85\u7EA7\u94FE\u63A5", unlink: "\u53D6\u6D88\u8D85\u7EA7\u94FE\u63A5", fullscreen: "\u5168\u5C4F\u663E\u793A", about: "\u5173\u4E8E", print: "\u6253\u5370(Ctrl+P)", filemanager: "\u6587\u4EF6\u7A7A\u95F4", code: "\u63D2\u5165\u7A0B\u5E8F\u4EE3\u7801", map: "Google\u5730\u56FE", baidumap: "\u767E\u5EA6\u5730\u56FE", lineheight: "\u884C\u8DDD", clearhtml: "\u6E05\u7406HTML\u4EE3\u7801", pagebreak: "\u63D2\u5165\u5206\u9875\u7B26", quickformat: "\u4E00\u952E\u6392\u7248", insertfile: "\u63D2\u5165\u6587\u4EF6", template: "\u63D2\u5165\u6A21\u677F", anchor: "\u951A\u70B9", yes: "\u786E\u5B9A", no: "\u53D6\u6D88", close: "\u5173\u95ED", editImage: "\u56FE\u7247\u5C5E\u6027", deleteImage: "\u5220\u9664\u56FE\u7247", editFlash: "Flash\u5C5E\u6027", deleteFlash: "\u5220\u9664Flash", editMedia: "\u89C6\u97F3\u9891\u5C5E\u6027", deleteMedia: "\u5220\u9664\u89C6\u97F3\u9891", editLink: "\u8D85\u7EA7\u94FE\u63A5\u5C5E\u6027", deleteLink: "\u53D6\u6D88\u8D85\u7EA7\u94FE\u63A5", editAnchor: "\u951A\u70B9\u5C5E\u6027", deleteAnchor: "\u5220\u9664\u951A\u70B9", tableprop: "\u8868\u683C\u5C5E\u6027", tablecellprop: "\u5355\u5143\u683C\u5C5E\u6027", tableinsert: "\u63D2\u5165\u8868\u683C", tabledelete: "\u5220\u9664\u8868\u683C", tablecolinsertleft: "\u5DE6\u4FA7\u63D2\u5165\u5217", tablecolinsertright: "\u53F3\u4FA7\u63D2\u5165\u5217", tablerowinsertabove: "\u4E0A\u65B9\u63D2\u5165\u884C", tablerowinsertbelow: "\u4E0B\u65B9\u63D2\u5165\u884C", tablerowmerge: "\u5411\u4E0B\u5408\u5E76\u5355\u5143\u683C", tablecolmerge: "\u5411\u53F3\u5408\u5E76\u5355\u5143\u683C", tablerowsplit: "\u62C6\u5206\u884C", tablecolsplit: "\u62C6\u5206\u5217", tablecoldelete: "\u5220\u9664\u5217", tablerowdelete: "\u5220\u9664\u884C", noColor: "\u65E0\u989C\u8272", pleaseSelectFile: "\u8BF7\u9009\u62E9\u6587\u4EF6\u3002", invalidImg: `\u8BF7\u8F93\u5165\u6709\u6548\u7684URL\u5730\u5740\u3002
\u53EA\u5141\u8BB8jpg,gif,bmp,png\u683C\u5F0F\u3002`, invalidMedia: `\u8BF7\u8F93\u5165\u6709\u6548\u7684URL\u5730\u5740\u3002
\u53EA\u5141\u8BB8swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb\u683C\u5F0F\u3002`, invalidWidth: "\u5BBD\u5EA6\u5FC5\u987B\u4E3A\u6570\u5B57\u3002", invalidHeight: "\u9AD8\u5EA6\u5FC5\u987B\u4E3A\u6570\u5B57\u3002", invalidBorder: "\u8FB9\u6846\u5FC5\u987B\u4E3A\u6570\u5B57\u3002", invalidUrl: "\u8BF7\u8F93\u5165\u6709\u6548\u7684URL\u5730\u5740\u3002", invalidRows: "\u884C\u6570\u4E3A\u5FC5\u9009\u9879\uFF0C\u53EA\u5141\u8BB8\u8F93\u5165\u5927\u4E8E0\u7684\u6570\u5B57\u3002", invalidCols: "\u5217\u6570\u4E3A\u5FC5\u9009\u9879\uFF0C\u53EA\u5141\u8BB8\u8F93\u5165\u5927\u4E8E0\u7684\u6570\u5B57\u3002", invalidPadding: "\u8FB9\u8DDD\u5FC5\u987B\u4E3A\u6570\u5B57\u3002", invalidSpacing: "\u95F4\u8DDD\u5FC5\u987B\u4E3A\u6570\u5B57\u3002", invalidJson: "\u670D\u52A1\u5668\u53D1\u751F\u6545\u969C\u3002", uploadSuccess: "\u4E0A\u4F20\u6210\u529F\u3002", cutError: "\u60A8\u7684\u6D4F\u89C8\u5668\u5B89\u5168\u8BBE\u7F6E\u4E0D\u5141\u8BB8\u4F7F\u7528\u526A\u5207\u64CD\u4F5C\uFF0C\u8BF7\u4F7F\u7528\u5FEB\u6377\u952E(Ctrl+X)\u6765\u5B8C\u6210\u3002", copyError: "\u60A8\u7684\u6D4F\u89C8\u5668\u5B89\u5168\u8BBE\u7F6E\u4E0D\u5141\u8BB8\u4F7F\u7528\u590D\u5236\u64CD\u4F5C\uFF0C\u8BF7\u4F7F\u7528\u5FEB\u6377\u952E(Ctrl+C)\u6765\u5B8C\u6210\u3002", pasteError: "\u60A8\u7684\u6D4F\u89C8\u5668\u5B89\u5168\u8BBE\u7F6E\u4E0D\u5141\u8BB8\u4F7F\u7528\u7C98\u8D34\u64CD\u4F5C\uFF0C\u8BF7\u4F7F\u7528\u5FEB\u6377\u952E(Ctrl+V)\u6765\u5B8C\u6210\u3002", ajaxLoading: "\u52A0\u8F7D\u4E2D\uFF0C\u8BF7\u7A0D\u5019 ...", uploadLoading: "\u4E0A\u4F20\u4E2D\uFF0C\u8BF7\u7A0D\u5019 ...", uploadError: "\u4E0A\u4F20\u9519\u8BEF", "plainpaste.comment": "\u8BF7\u4F7F\u7528\u5FEB\u6377\u952E(Ctrl+V)\u628A\u5185\u5BB9\u7C98\u8D34\u5230\u4E0B\u9762\u7684\u65B9\u6846\u91CC\u3002", "wordpaste.comment": "\u8BF7\u4F7F\u7528\u5FEB\u6377\u952E(Ctrl+V)\u628A\u5185\u5BB9\u7C98\u8D34\u5230\u4E0B\u9762\u7684\u65B9\u6846\u91CC\u3002", "code.pleaseInput": "\u8BF7\u8F93\u5165\u7A0B\u5E8F\u4EE3\u7801\u3002", "link.url": "URL", "link.linkType": "\u6253\u5F00\u7C7B\u578B", "link.newWindow": "\u65B0\u7A97\u53E3", "link.selfWindow": "\u5F53\u524D\u7A97\u53E3", "flash.url": "URL", "flash.width": "\u5BBD\u5EA6", "flash.height": "\u9AD8\u5EA6", "flash.upload": "\u4E0A\u4F20", "flash.viewServer": "\u6587\u4EF6\u7A7A\u95F4", "media.url": "URL", "media.width": "\u5BBD\u5EA6", "media.height": "\u9AD8\u5EA6", "media.autostart": "\u81EA\u52A8\u64AD\u653E", "media.upload": "\u4E0A\u4F20", "media.viewServer": "\u6587\u4EF6\u7A7A\u95F4", "image.remoteImage": "\u7F51\u7EDC\u56FE\u7247", "image.localImage": "\u672C\u5730\u4E0A\u4F20", "image.remoteUrl": "\u56FE\u7247\u5730\u5740", "image.localUrl": "\u4E0A\u4F20\u6587\u4EF6", "image.size": "\u56FE\u7247\u5927\u5C0F", "image.width": "\u5BBD", "image.height": "\u9AD8", "image.resetSize": "\u91CD\u7F6E\u5927\u5C0F", "image.align": "\u5BF9\u9F50\u65B9\u5F0F", "image.defaultAlign": "\u9ED8\u8BA4\u65B9\u5F0F", "image.leftAlign": "\u5DE6\u5BF9\u9F50", "image.rightAlign": "\u53F3\u5BF9\u9F50", "image.imgTitle": "\u56FE\u7247\u8BF4\u660E", "image.upload": "\u6D4F\u89C8...", "image.viewServer": "\u56FE\u7247\u7A7A\u95F4", "multiimage.uploadDesc": "\u5141\u8BB8\u7528\u6237\u540C\u65F6\u4E0A\u4F20<%=uploadLimit%>\u5F20\u56FE\u7247\uFF0C\u5355\u5F20\u56FE\u7247\u5BB9\u91CF\u4E0D\u8D85\u8FC7<%=sizeLimit%>", "multiimage.startUpload": "\u5F00\u59CB\u4E0A\u4F20", "multiimage.clearAll": "\u5168\u90E8\u6E05\u7A7A", "multiimage.insertAll": "\u5168\u90E8\u63D2\u5165", "multiimage.queueLimitExceeded": "\u6587\u4EF6\u6570\u91CF\u8D85\u8FC7\u9650\u5236\u3002", "multiimage.fileExceedsSizeLimit": "\u6587\u4EF6\u5927\u5C0F\u8D85\u8FC7\u9650\u5236\u3002", "multiimage.zeroByteFile": "\u65E0\u6CD5\u4E0A\u4F20\u7A7A\u6587\u4EF6\u3002", "multiimage.invalidFiletype": "\u6587\u4EF6\u7C7B\u578B\u4E0D\u6B63\u786E\u3002", "multiimage.unknownError": "\u53D1\u751F\u5F02\u5E38\uFF0C\u65E0\u6CD5\u4E0A\u4F20\u3002", "multiimage.pending": "\u7B49\u5F85\u4E0A\u4F20", "multiimage.uploadError": "\u4E0A\u4F20\u5931\u8D25", "filemanager.emptyFolder": "\u7A7A\u6587\u4EF6\u5939", "filemanager.moveup": "\u79FB\u5230\u4E0A\u4E00\u7EA7\u6587\u4EF6\u5939", "filemanager.viewType": "\u663E\u793A\u65B9\u5F0F\uFF1A", "filemanager.viewImage": "\u7F29\u7565\u56FE", "filemanager.listImage": "\u8BE6\u7EC6\u4FE1\u606F", "filemanager.orderType": "\u6392\u5E8F\u65B9\u5F0F\uFF1A", "filemanager.fileName": "\u540D\u79F0", "filemanager.fileSize": "\u5927\u5C0F", "filemanager.fileType": "\u7C7B\u578B", "insertfile.url": "URL", "insertfile.title": "\u6587\u4EF6\u8BF4\u660E", "insertfile.upload": "\u4E0A\u4F20", "insertfile.viewServer": "\u6587\u4EF6\u7A7A\u95F4", "table.cells": "\u5355\u5143\u683C\u6570", "table.rows": "\u884C\u6570", "table.cols": "\u5217\u6570", "table.size": "\u5927\u5C0F", "table.width": "\u5BBD\u5EA6", "table.height": "\u9AD8\u5EA6", "table.percent": "%", "table.px": "px", "table.space": "\u8FB9\u8DDD\u95F4\u8DDD", "table.padding": "\u8FB9\u8DDD", "table.spacing": "\u95F4\u8DDD", "table.align": "\u5BF9\u9F50\u65B9\u5F0F", "table.textAlign": "\u6C34\u5E73\u5BF9\u9F50", "table.verticalAlign": "\u5782\u76F4\u5BF9\u9F50", "table.alignDefault": "\u9ED8\u8BA4", "table.alignLeft": "\u5DE6\u5BF9\u9F50", "table.alignCenter": "\u5C45\u4E2D", "table.alignRight": "\u53F3\u5BF9\u9F50", "table.alignTop": "\u9876\u90E8", "table.alignMiddle": "\u4E2D\u90E8", "table.alignBottom": "\u5E95\u90E8", "table.alignBaseline": "\u57FA\u7EBF", "table.border": "\u8FB9\u6846", "table.borderWidth": "\u8FB9\u6846", "table.borderColor": "\u989C\u8272", "table.backgroundColor": "\u80CC\u666F\u989C\u8272", "map.address": "\u5730\u5740: ", "map.search": "\u641C\u7D22", "baidumap.address": "\u5730\u5740: ", "baidumap.search": "\u641C\u7D22", "baidumap.insertDynamicMap": "\u63D2\u5165\u52A8\u6001\u5730\u56FE", "anchor.name": "\u951A\u70B9\u540D\u79F0", "formatblock.formatBlock": { h1: "\u6807\u9898 1", h2: "\u6807\u9898 2", h3: "\u6807\u9898 3", h4: "\u6807\u9898 4", p: "\u6B63 \u6587" }, "fontname.fontName": { SimSun: "\u5B8B\u4F53", NSimSun: "\u65B0\u5B8B\u4F53", FangSong_GB2312: "\u4EFF\u5B8B_GB2312", KaiTi_GB2312: "\u6977\u4F53_GB2312", SimHei: "\u9ED1\u4F53", "Microsoft YaHei": "\u5FAE\u8F6F\u96C5\u9ED1", Arial: "Arial", "Arial Black": "Arial Black", "Times New Roman": "Times New Roman", "Courier New": "Courier New", Tahoma: "Tahoma", Verdana: "Verdana" }, "lineheight.lineHeight": [{ 1: "\u5355\u500D\u884C\u8DDD" }, { 1.5: "1.5\u500D\u884C\u8DDD" }, { 2: "2\u500D\u884C\u8DDD" }, { 2.5: "2.5\u500D\u884C\u8DDD" }, { 3: "3\u500D\u884C\u8DDD" }], "template.selectTemplate": "\u53EF\u9009\u6A21\u677F", "template.replaceContent": "\u66FF\u6362\u5F53\u524D\u5185\u5BB9", "template.fileList": { "1.html": "\u56FE\u7247\u548C\u6587\u5B57", "2.html": "\u8868\u683C", "3.html": "\u9879\u76EE\u7F16\u53F7" } }, "zh-CN"), KindEditor.options.langType = "zh-CN", KindEditor;
  });
})(Ui);
const pt = KindEditor, zi = ["id"], ji = {
  __name: "VKindEditor",
  props: {
    id: {
      type: String,
      required: !1,
      default: () => "ke_" + Math.random().toString().substring(2)
    },
    readonly: {
      type: Boolean,
      default: !1
    },
    modelValue: {
      type: String,
      required: !0
    },
    configs: {
      type: Object,
      default: () => ({})
    }
  },
  emits: ["update:modelValue"],
  setup(Ve, { emit: ht }) {
    var J, X;
    const te = Ve;
    var re = null;
    Ni(() => {
      pt.remove("#" + ne), re = pt.create("#" + ne, Ke), te && te.modelValue && re.html(te.modelValue);
    }), Ii(() => {
      pt.remove("#" + ne), re && re.remove(), re = null;
    }), Ai(() => {
      pt.remove("#" + ne), re = pt.create("#" + ne, Ke), te && te.modelValue && re.html(te.modelValue);
    });
    const pe = (J = te.configs) == null ? void 0 : J.afterBlur, z = (X = te.configs) == null ? void 0 : X.afterChange, ne = te.id;
    var Ke = Object.assign(
      {
        loadStyleMode: !1,
        resizeType: 1,
        pasteType: 2,
        newlineTag: "p"
      },
      te.configs,
      {
        allowFlashUpload: !1,
        allowFileManager: !1,
        afterBlur: function() {
          this.sync(), pe && pe.call(this);
        },
        afterChange: function() {
          re && ht("update:modelValue", re.html()), z && z.call(this);
        }
      }
    );
    return Ri(
      () => te.readonly,
      (se) => {
        re && re.readonly(se);
      }
    ), (se, Ge) => (Li(), Bi("div", {
      id: Fi(ne),
      style: { visibility: "hidden" }
    }, null, 8, zi));
  }
};
const Hi = {
  install(Ve, ht) {
    const te = ht || { name: "VKindEditor" };
    Ve.component(te.name, ji);
  }
};
export {
  Hi as default
};
