(function(){ try {var elementStyle = document.createElement('style'); elementStyle.appendChild(document.createTextNode("@import\"//at.alicdn.com/t/c/font_1491367_njeebnzeclh.css\";.ke-container *{box-sizing:border-box}.ke-inline-block{display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1}.ke-clearfix{zoom:1}.ke-clearfix:after{content:\".\";display:block;clear:both;font-size:0;height:0;line-height:0;visibility:hidden}.ke-shadow{box-shadow:0 0 30px -6px #999;-moz-box-shadow:0px 0px 30px -6px #999;-webkit-box-shadow:0px 0px 30px -6px #999;filter:progid:DXImageTransform.Microsoft.Shadow(color=\"#A0A0A0\",Direction=135,Strength=3);background-color:#f0f0ee}.ke-menu a,.ke-menu a:hover,.ke-dialog a,.ke-dialog a:hover{color:#337fe5;text-decoration:none}.ke-icon-source{background-position:0px 0px;width:16px;height:16px}.ke-icon-preview{background-position:0px -16px;width:16px;height:16px}.ke-icon-print{background-position:0px -32px;width:16px;height:16px}.ke-icon-undo{background-position:0px -48px;width:16px;height:16px}.ke-icon-redo{background-position:0px -64px;width:16px;height:16px}.ke-icon-cut{background-position:0px -80px;width:16px;height:16px}.ke-icon-copy{background-position:0px -96px;width:16px;height:16px}.ke-icon-paste{background-position:0px -112px;width:16px;height:16px}.ke-icon-selectall{background-position:0px -128px;width:16px;height:16px}.ke-icon-justifyleft{background-position:0px -144px;width:16px;height:16px}.ke-icon-justifycenter{background-position:0px -160px;width:16px;height:16px}.ke-icon-justifyright{background-position:0px -176px;width:16px;height:16px}.ke-icon-justifyfull{background-position:0px -192px;width:16px;height:16px}.ke-icon-insertorderedlist{background-position:0px -208px;width:16px;height:16px}.ke-icon-insertunorderedlist{background-position:0px -224px;width:16px;height:16px}.ke-icon-indent{background-position:0px -240px;width:16px;height:16px}.ke-icon-outdent{background-position:0px -256px;width:16px;height:16px}.ke-icon-subscript{background-position:0px -272px;width:16px;height:16px}.ke-icon-superscript{background-position:0px -288px;width:16px;height:16px}.ke-icon-date{background-position:0px -304px;width:25px;height:16px}.ke-icon-time{background-position:0px -320px;width:25px;height:16px}.ke-icon-formatblock{background-position:0px -336px;width:25px;height:16px}.ke-icon-fontname{background-position:0px -352px;width:21px;height:16px}.ke-icon-fontsize{background-position:0px -368px;width:23px;height:16px}.ke-icon-forecolor{background-position:0px -384px;width:20px;height:16px}.ke-icon-hilitecolor{background-position:0px -400px;width:23px;height:16px}.ke-icon-bold{background-position:0px -416px;width:16px;height:16px}.ke-icon-italic{background-position:0px -432px;width:16px;height:16px}.ke-icon-underline{background-position:0px -448px;width:16px;height:16px}.ke-icon-strikethrough{background-position:0px -464px;width:16px;height:16px}.ke-icon-removeformat{background-position:0px -480px;width:16px;height:16px}.ke-icon-image{background-position:0px -496px;width:16px;height:16px}.ke-icon-flash{background-position:0px -512px;width:16px;height:16px}.ke-icon-media{background-position:0px -528px;width:16px;height:16px}.ke-icon-div{background-position:0px -544px;width:16px;height:16px}.ke-icon-formula{background-position:0px -576px;width:16px;height:16px}.ke-icon-hr{background-position:0px -592px;width:16px;height:16px}.ke-icon-link{background-position:0px -624px;width:16px;height:16px}.ke-icon-unlink{background-position:0px -640px;width:16px;height:16px}.ke-icon-fullscreen{background-position:0px -656px;width:16px;height:16px}.ke-icon-about{background-position:0px -672px;width:16px;height:16px}.ke-icon-plainpaste{background-position:0px -704px;width:16px;height:16px}.ke-icon-wordpaste{background-position:0px -720px;width:16px;height:16px}.ke-icon-table{background-position:0px -784px;width:16px;height:16px}.ke-icon-tablemenu{background-position:0px -768px;width:16px;height:16px}.ke-icon-tableinsert{background-position:0px -784px;width:16px;height:16px}.ke-icon-tabledelete{background-position:0px -800px;width:16px;height:16px}.ke-icon-tablecolinsertleft{background-position:0px -816px;width:16px;height:16px}.ke-icon-tablecolinsertright{background-position:0px -832px;width:16px;height:16px}.ke-icon-tablerowinsertabove{background-position:0px -848px;width:16px;height:16px}.ke-icon-tablerowinsertbelow{background-position:0px -864px;width:16px;height:16px}.ke-icon-tablecoldelete{background-position:0px -880px;width:16px;height:16px}.ke-icon-tablerowdelete{background-position:0px -896px;width:16px;height:16px}.ke-icon-tablecellprop{background-position:0px -912px;width:16px;height:16px}.ke-icon-tableprop{background-position:0px -928px;width:16px;height:16px}.ke-icon-checked{background-position:0px -944px;width:16px;height:16px}.ke-icon-code{background-position:0px -960px;width:16px;height:16px}.ke-icon-map,.ke-icon-baidumap{background-position:0px -976px;width:16px;height:16px}.ke-icon-lineheight{background-position:0px -992px;width:16px;height:16px}.ke-icon-clearhtml{background-position:0px -1008px;width:16px;height:16px}.ke-icon-pagebreak{background-position:0px -1024px;width:16px;height:16px}.ke-icon-insertfile{background-position:0px -1040px;width:16px;height:16px}.ke-icon-quickformat{background-position:0px -1056px;width:16px;height:16px}.ke-icon-template{background-position:0px -1072px;width:16px;height:16px}.ke-icon-tablecellsplit{background-position:0px -1088px;width:16px;height:16px}.ke-icon-tablerowmerge{background-position:0px -1104px;width:16px;height:16px}.ke-icon-tablerowsplit{background-position:0px -1120px;width:16px;height:16px}.ke-icon-tablecolmerge{background-position:0px -1136px;width:16px;height:16px}.ke-icon-tablecolsplit{background-position:0px -1152px;width:16px;height:16px}.ke-icon-anchor{background-position:0px -1168px;width:16px;height:16px}.ke-icon-search{background-position:0px -1184px;width:16px;height:16px}.ke-icon-new{background-position:0px -1200px;width:16px;height:16px}.ke-icon-specialchar{background-position:0px -1216px;width:16px;height:16px}.ke-icon-multiimage{background-position:0px -1232px;width:16px;height:16px}.ke-container{display:block;border:1px solid #CCCCCC;background-color:#fff;overflow:hidden;margin:0;padding:0}.ke-toolbar{border-bottom:1px solid #CCC;background-color:#f0f0ee;padding:3px 5px;text-align:left;overflow:hidden;zoom:1;box-sizing:border-box}.ke-toolbar-icon{width:30px;height:30px;text-align:center;line-height:30px;font-size:18px;display:inline-block}.ke-toolbar-icon-url{background:none}.ke-toolbar .ke-outline{border:1px solid #F0F0EE;margin:1px;padding:1px 2px;font-size:0;line-height:0;overflow:hidden;cursor:pointer;display:block;float:left}.ke-toolbar .ke-on{border:1px solid #5690D2}.ke-toolbar .ke-selected{border:1px solid #5690D2;background-color:#e9eff6}.ke-toolbar .ke-disabled{cursor:default}.ke-toolbar .ke-separator{height:24px;margin:5px 3px;border-left:1px solid #b2c9cd;border-right:1px solid #FFFFFF;border-top:0;border-bottom:0;width:0;font-size:0;line-height:0;overflow:hidden;display:block;float:left}.ke-toolbar .ke-hr{overflow:hidden;height:1px;clear:both}.ke-edit{padding:0}.ke-edit-iframe,.ke-edit-textarea{border:0;margin:0;padding:0;overflow:auto}.ke-edit-textarea{font:12px/1.5 Consolas,Monaco,Bitstream Vera Sans Mono,Courier New,Courier,monospace;color:#000;overflow:auto;resize:none}.ke-edit-textarea:focus{outline:none}.ke-statusbar{position:relative;background-color:#94afb41a;border-top:1px solid #c9d8da;font-size:0;line-height:0;overflow:hidden;text-align:center;cursor:s-resize}.ke-statusbar-center-icon{width:25px;height:11px;position:relative}.ke-statusbar-center-icon i{width:100%;height:1px;background:#94afb4;display:block;transform:scaleY(.5);border:none;margin-top:2px}.ke-statusbar-right-icon{position:absolute;right:0;bottom:0;cursor:se-resize;background-position:-5px -741px;width:11px;height:11px}.ke-menu{background-color:#fff;color:#222;font-family:PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;font-size:12px;text-align:left;overflow:hidden;padding:3px 0}.ke-menu-item{border:1px solid transparent;background-color:#fff;color:#222;height:30px;overflow:hidden;cursor:pointer;font-size:13px;margin:3px 0}.ke-menu-item-on{border:1px solid transparent;background-color:#e9eff6}.ke-menu-item-left{width:27px;text-align:center;overflow:hidden}.ke-menu-item-left .icon-ke-font{height:auto;line-height:1}.ke-menu-item-center{width:0;height:24px;border-left:1px solid #E3E3E3;border-right:1px solid #FFFFFF;border-top:0;border-bottom:0}.ke-menu-item-center-on{border-left:1px solid #E9EFF6;border-right:1px solid #E9EFF6}.ke-menu-item-right{border:0;padding:0 0 0 5px;line-height:24px;text-align:left;overflow:hidden}.ke-menu-separator{margin:2px 0;height:0;overflow:hidden;border-top:1px solid #CCCCCC;border-bottom:1px solid #FFFFFF;border-left:0;border-right:0}.ke-colorpicker{background-color:#fff;color:#222;padding:4px}.ke-colorpicker-table{border:0;margin:0;padding:0;border-collapse:separate}.ke-colorpicker-cell{font-size:0;line-height:0;border:1px solid transparent;cursor:pointer;margin:3px;padding:0}.ke-colorpicker-cell-top{font-family:PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;font-size:14px;line-height:30px;border:1px solid transparent;cursor:pointer;margin:0;padding:0;text-align:center}.ke-colorpicker-cell-on{border:1px solid #5690D2}.ke-colorpicker-cell-selected{border:1px solid #2446AB}.ke-colorpicker-cell-color{width:24px;height:24px;margin:4px;padding:0;border:0}.ke-dialog{position:absolute;margin:0;padding:0}.ke-dialog *{box-sizing:border-box}.ke-dialog .ke-header{width:100%;margin-bottom:10px}.ke-dialog .ke-header .ke-left{float:left}.ke-dialog .ke-header .ke-right{float:right}.ke-dialog .ke-header label{margin-right:0;cursor:pointer;font-weight:400;display:inline;vertical-align:top}.ke-dialog-content{background-color:#fff;width:100%;height:100%;color:#333;border:1px solid #c9d8da}.ke-dialog-shadow{position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;box-shadow:0 0 42px -12px #5555554d;-moz-box-shadow:0px 0px 42px -12px rgb(85,85,85,.3);-webkit-box-shadow:0px 0px 42px -12px rgb(85,85,85,.3);filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius=\"3\",MakeShadow=\"true\",ShadowOpacity=\"0.3\");background-color:#f0f0ee}.ke-dialog-header{border:0;margin:0;padding:0 10px;background:#f8f8f8;border-bottom:1px solid #c9d8da;height:48px;font:14px/48px PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;text-align:left;color:#222;cursor:move}.ke-dialog-icon-close{display:block;width:48px;height:48px;line-height:48px;position:absolute;right:0;top:0;cursor:pointer;text-align:center;font-size:22px;color:#5c6e71}.ke-dialog-icon-close:before{font-family:icon-ke-font!important;font-size:inherit;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:\"\\e69b\"}.ke-dialog-body{font:12px/30px PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;text-align:left;overflow:hidden;width:100%}.ke-dialog-body textarea{display:block;overflow:auto;padding:0;resize:none}.ke-dialog-body textarea:focus,.ke-dialog-body input:focus,.ke-dialog-body select:focus{outline:none}.ke-dialog-body label{margin-right:10px;cursor:pointer;display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1}.ke-dialog-body img{display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1}.ke-dialog-body select{display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1;width:auto;height:30px;padding:#c9d8da;border-color:#c9d8da;color:#636363}.ke-dialog-body .ke-textarea{display:block;width:408px;height:260px;font-family:PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;font-size:12px;border-color:#c9d8da;border-style:solid;border-width:1px}.ke-dialog-body .ke-form{margin:0;padding:0}.ke-dialog-body .ke-multi-image{width:106px}.ke-dialog-loading{position:absolute;top:0;left:1px;z-index:1;text-align:center}@keyframes spinner-loader{0%{-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-webkit-transform:rotate(0deg);transform:rotate(0)}to{-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ke-dialog-loading-content{color:#666;font-size:14px;font-weight:700;height:30px;line-height:31px;padding-left:36px;position:relative}.ke-dialog-loading-content:after{content:\"\";-moz-animation:spinner-loader 1.5s infinite linear;-webkit-animation:spinner-loader 1.5s infinite linear;animation:spinner-loader 1.5s infinite linear;-moz-border-radius:.5em;border-radius:20px;-moz-box-shadow:rgba(0,0,51,.3) 1.5em 0 0 0,rgba(0,0,51,.3) 1.1em 1.1em 0 0,rgba(0,0,51,.3) 0 1.5em 0 0,rgba(0,0,51,.3) -1.1em 1.1em 0 0,rgba(0,0,51,.3) -1.5em 0 0 0,rgba(0,0,51,.3) -1.1em -1.1em 0 0,rgba(0,0,51,.3) 0 -1.5em 0 0,rgba(0,0,51,.3) 1.1em -1.1em 0 0;-webkit-box-shadow:rgba(0,0,51,.3) 1.5em 0 0 0,rgba(0,0,51,.3) 1.1em 1.1em 0 0,rgba(0,0,51,.3) 0 1.5em 0 0,rgba(0,0,51,.3) -1.1em 1.1em 0 0,rgba(0,0,51,.3) -1.5em 0 0 0,rgba(0,0,51,.3) -1.1em -1.1em 0 0,rgba(0,0,51,.3) 0 -1.5em 0 0,rgba(0,0,51,.3) 1.1em -1.1em 0 0;box-shadow:#0000334d 1.5em 0,#0000334d 1.1em 1.1em,#0000334d 0 1.5em,#0000334d -1.1em 1.1em,#0000334d -1.5em 0,#0000334d -1.1em -1.1em,#0000334d 0 -1.5em,#0000334d 1.1em -1.1em;display:inline-block;width:6px;height:6px;overflow:hidden;position:absolute;left:12px;top:12px;font-size:6px}.ke-dialog-row{margin-bottom:10px}.ke-dialog-footer{font:12px/30px PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;text-align:right;padding:10px 20px;background-color:#fff;width:100%}.ke-dialog-footer .ke-button-common.ke-dialog-no:last-child{margin-right:0}.ke-dialog-preview,.ke-dialog-yes{margin:5px}.ke-dialog-no{margin:5px 10px 5px 5px}.ke-dialog-mask{background-color:#fff;filter:alpha(opacity=50);opacity:.5}.ke-button-common{height:30px;line-height:30px;overflow:visible;display:inline-block;vertical-align:top;cursor:pointer;background-color:#2196f3;border-color:#2565c4;box-shadow:0 1px 9pt 1px #0000001f}.ke-button-outer{padding:0;display:inline-block;vertical-align:middle}.ke-button{padding:0 24px 0 20px;margin:0;border:0 none;color:#fff;text-decoration:none}.ke-input-text{background-color:#fff;font-family:PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;font-size:12px;line-height:17px;height:17px;padding:2px 4px;border-color:#c9d8da;border-style:solid;border-width:1px;display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1}.ke-input-number{width:50px}.ke-input-color{border:1px solid #A0A0A0;background-color:#fff;font-size:12px;width:80px;height:30px;text-align:center;line-height:30px;padding-left:5px;overflow:hidden;cursor:pointer;display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1}.ke-upload-button{position:relative}.ke-upload-area{position:relative;overflow:hidden;margin:0;padding:0}.ke-upload-area .ke-upload-file{position:absolute;font-size:18px;top:0;left:-200px;padding:0;margin:0;z-index:811212;border:0 none;opacity:0;filter:alpha(opacity=0);cursor:pointer}.ke-tabs{font:12px/1 PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;border-bottom:1px solid #c9d8da;padding-left:5px;margin-bottom:20px}.ke-tabs-ul{list-style-image:none;list-style-position:outside;list-style-type:none;margin:0;padding:0}.ke-tabs-li{position:relative;border:1px solid #c9d8da;background-color:#f6f6f6;margin:0 6px -1px 0;padding:0 20px;float:left;line-height:32px;text-align:center;color:#555;cursor:pointer}.ke-tabs-li-selected{background-color:#fff;border-bottom:1px solid #FFF;color:#000;cursor:default}.ke-tabs-li-on{background-color:#fff;color:#000}.ke-progressbar{position:relative;margin:0;padding:0}.ke-progressbar-bar{border:1px solid #6FA5DB;width:80px;height:5px;margin:10px 10px 0;padding:0}.ke-progressbar-bar-inner{width:0;height:5px;background-color:#6fa5db;overflow:hidden;margin:0;padding:0}.ke-progressbar-percent{position:absolute;top:0;left:40%;display:none}.ke-swfupload-top{position:relative;margin-bottom:16px;_width:608px}.ke-swfupload-button{height:30px;line-height:30px}.webuploader-container input[type=file]{opacity:0;cursor:pointer;width:500px;height:100px;margin-left:-200px}.webuploader-element-invisible{opacity:0;position:relative;z-index:3}.webuploader-container{background-color:#2196f3;border-color:#2565c4;box-shadow:0 1px 9pt 1px #0000001f}.webuploader-pick{position:relative;display:inline-block;cursor:pointer;width:100%;height:100%;box-sizing:border-box;border-radius:1px;overflow:visible;zoom:1}.webuploader-pick:after{content:\"\\9009\\62e9\\56fe\\7247\";position:absolute;top:0;left:0;width:100%;height:100%;text-align:center;background-color:#2196f3;border-color:#2565c4;z-index:1;margin:0;padding:0;color:#fff;cursor:pointer;font-size:14px}.ke-swfupload-desc{padding:0 10px;height:23px;line-height:23px;font-size:14px}.ke-swfupload-startupload{position:absolute;top:0;right:0}.ke-swfupload-body{overflow-y:scroll;background-color:#fff;border-color:#848484 #E0E0E0 #E0E0E0 #848484;border-style:solid;border-width:1px;width:auto;height:330px;padding:5px}.ke-swfupload-body .ke-item{width:110px;margin:4px}.ke-swfupload-body .ke-photo{position:relative;background-color:#2196f3;padding:2px}.ke-swfupload-body .ke-delete{display:block;width:20px;height:20px;line-height:20px;text-align:center;position:absolute;right:0;top:0;cursor:pointer;z-index:1;background:rgba(255,255,255,.42);font-size:14px;font-weight:700}.ke-swfupload-body .ke-delete:after{font-family:icon-ke-font!important;font-size:inherit;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:\"\\e69b\"}.ke-swfupload-body .ke-status{position:absolute;left:0;bottom:0;width:110px;height:22px;line-height:18px}.ke-swfupload-body .ke-message{width:100%;text-align:center;overflow:hidden;height:22px;background:rgba(0,0,0,.5);color:#fff}.ke-swfupload-body .ke-error{color:red}.ke-swfupload-body .ke-name{width:100px;text-align:center;overflow:hidden;height:16px;line-height:16px}.ke-swfupload-body .ke-on{background-color:#e3eefa}.ke-swfupload .ke-progressbar{position:absolute;margin:0;padding:0;bottom:0;left:0;width:100%;height:100%;background:rgba(0,179,14,.28);text-shadow:1px 1px 4px #000000}.ke-swfupload .ke-progressbar-bar{height:4px;padding:0;width:100%;margin:0;background:#565656;border:none;position:absolute;bottom:0}.ke-swfupload .ke-progressbar-bar-inner{width:0%;height:4px;background-color:#32ce62;overflow:hidden;margin:0;padding:0}.ke-swfupload .ke-progressbar-percent{position:absolute;bottom:3px;left:0;font-weight:700;color:#7f0;display:block;width:100%;text-align:center}.ke-swfupload-body{border:3px dashed #CCC}.ke-swfupload-body:after{content:\"\\53ef\\62d6\\62fd\\6587\\4ef6\\81f3\\6b64\\5904\\4e0a\\4f20\";position:absolute;top:50%;left:0;width:100%;height:30px;font-size:24px;color:#e2e2e2;text-align:center;margin-top:-15px}.ke-swfupload-body.drag-hover{border:3px dashed #000}.ke-swfupload-body .ke-item{position:relative;z-index:1;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;-khtml-user-select:none;user-select:none}.ke-swfupload .ke-progressbar.error{background:rgba(255,178,178,.5)}.ke-swfupload .ke-progressbar.error .ke-progressbar-bar-inner{background:#ff1010}.ke-swfupload .ke-progressbar.error .ke-progressbar-percent{color:#ff1010}.ke-swfupload{position:relative}.ke-swfupload .upload-error-result{position:absolute;bottom:0;left:0;width:100%;height:30px;box-sizing:border-box;padding:0 50px;background:#ff000096;display:none;text-align:center;line-height:30px;color:#fff;z-index:2}.ke-swfupload .upload-error-result.show{display:block}.ke-status.upload-error{width:100%;height:100%}.ke-status.upload-error .ke-message{width:100%;height:100%;vertical-align:middle;display:flex;justify-content:space-around;align-items:center;z-index:0;background:rgba(132,0,0,.52);color:#fff;padding:0 5px;text-shadow:1px 1px #b50000}.ke-plugin-plainpaste-textarea,.ke-plugin-wordpaste-iframe{display:block;width:408px;height:260px;font-family:PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;font-size:12px;border-color:#848484 #E0E0E0 #E0E0E0 #848484;border-style:solid;border-width:1px}.ke-plugin-filemanager-header{width:100%;margin-bottom:10px}.ke-plugin-filemanager-header .ke-left{float:left}.ke-plugin-filemanager-header .ke-right{float:right}.ke-plugin-filemanager-body{overflow:scroll;background-color:#fff;border-color:#848484 #E0E0E0 #E0E0E0 #848484;border-style:solid;border-width:1px;width:auto;height:370px;padding:5px}.ke-plugin-filemanager-body .ke-item{width:100px;margin:5px}.ke-plugin-filemanager-body .ke-photo{border:1px solid #DDDDDD;background-color:#fff;padding:10px}.ke-plugin-filemanager-body .ke-name{width:100px;text-align:center;overflow:hidden;height:16px}.ke-plugin-filemanager-body .ke-on{border:1px solid #5690D2;background-color:#e9eff6}.ke-plugin-filemanager-body .ke-table{width:95%;border:0;margin:0;padding:0;border-collapse:separate}.ke-plugin-filemanager-body .ke-table .ke-cell{margin:0;padding:0;border:0}.ke-plugin-filemanager-body .ke-table .ke-name{width:55%;text-align:left}.ke-plugin-filemanager-body .ke-table .ke-size{width:15%;text-align:left}.ke-plugin-filemanager-body .ke-table .ke-datetime{width:30%;text-align:center}.ke-dialog-body .ke-input-text{height:30px;min-height:30px;min-width:80px;line-height:30px}.ke-dialog-body input[type=checkbox]{width:22px;height:22px;vertical-align:middle;margin-left:0}.ke-dialog-body .ke-upload-button.ke-inline-block,.ke-dialog-body .ke-file-viewer.ke-button-outer{margin-left:5px}.ke-container{border:1px solid #c9d8db}.ke-toolbar{border-bottom:1px solid #c9d8da;background-color:#fff}.ke-toolbar .ke-outline{border-color:transparent;padding:0}.ke-toolbar .ke-outline.ke-on{background-color:#eaeff5}.ke-toolbar .ke-toolbar-icon{width:38px}")); document.head.appendChild(elementStyle);} catch(e) {console.error('vite-plugin-css-injected-by-js', e);} })();import { watch as Ni, onMounted as Ii, onDeactivated as Ai, onActivated as Li, openBlock as Ri, createElementBlock as Bi, unref as Fi } from "vue";
var Ui = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}, Oi = { exports: {} };
(function(We, ft) {
  (function(ie, re) {
    We.exports = re();
  })(Ui, function() {
    function ie(e) {
      return e ? Object.prototype.toString.call(e) === "[object Array]" : !1;
    }
    function re(e) {
      return e ? Object.prototype.toString.call(e) === "[object Function]" : !1;
    }
    function pe(e, t) {
      for (var n = 0, o = t.length; o > n; n++)
        if (e === t[n])
          return n;
      return -1;
    }
    function P(e, t) {
      if (ie(e))
        for (var n = 0, o = e.length; o > n && t.call(e[n], n, e[n]) !== !1; n++)
          ;
      else
        for (var r in e)
          if (e.hasOwnProperty(r) && t.call(e[r], r, e[r]) === !1)
            break;
    }
    function ee(e) {
      return e.replace(/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g, "");
    }
    function $e(e, t, n) {
      return n = n === void 0 ? "," : n, (n + t + n).indexOf(n + e + n) >= 0;
    }
    function J(e, t) {
      return t = t || "px", e && /^-?\d+(?:\.\d+)?$/.test(e) ? e + t : e;
    }
    function X(e) {
      var t;
      return e && (t = /(\d+)/.exec(e)) ? parseInt(t[1], 10) : 0;
    }
    function se(e) {
      return e.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
    }
    function Ve(e) {
      return e.replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&quot;/g, '"').replace(/&amp;/g, "&");
    }
    function Ke(e) {
      var t = e.split("-");
      return e = "", P(t, function(n, o) {
        e += n > 0 ? o.charAt(0).toUpperCase() + o.substr(1) : o;
      }), e;
    }
    function pt(e) {
      function t(n) {
        var o = parseInt(n, 10).toString(16).toUpperCase();
        return o.length > 1 ? o : "0" + o;
      }
      return e.replace(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/gi, function(n, o, r, s) {
        return "#" + t(o) + t(r) + t(s);
      });
    }
    function oe(e, t) {
      t = t === void 0 ? "," : t;
      var n, o = {}, r = ie(e) ? e : e.split(t);
      return P(r, function(s, c) {
        if (n = /^(\d+)\.\.(\d+)$/.exec(c))
          for (var a = parseInt(n[1], 10); a <= parseInt(n[2], 10); a++)
            o[a.toString()] = !0;
        else
          o[c] = !0;
      }), o;
    }
    function St(e, t) {
      return Array.prototype.slice.call(e, t || 0);
    }
    function $(e, t) {
      return e === void 0 ? t : e;
    }
    function qn(e) {
      return !e || /[<>"]/.test(e);
    }
    function Wn(e, t) {
      return e.indexOf("?") >= 0 ? e + "&" + t : e + "?" + t;
    }
    function he(e, t, n) {
      n || (n = t, t = null);
      var o;
      if (t) {
        var r = function() {
        };
        r.prototype = t.prototype, o = new r(), P(n, function(s, c) {
          o[s] = c;
        });
      } else
        o = n;
      o.constructor = e, e.prototype = o, e.parent = t ? t.prototype : null;
    }
    function Zt(e) {
      var t;
      (t = /\{[\s\S]*\}|\[[\s\S]*\]/.exec(e)) && (e = t[0]);
      var n = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
      if (n.lastIndex = 0, n.test(e) && (e = e.replace(n, function(o) {
        return "\\u" + ("0000" + o.charCodeAt(0).toString(16)).slice(-4);
      })), /^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, "")))
        return window.eval("(" + e + ")");
      throw "JSON parse error";
    }
    function $n() {
      for (var e, t = document.getElementsByTagName("script"), n = 0, o = t.length; o > n; n++)
        if (e = t[n].src || "", /kindeditor[\w\-\.]*\.js/.test(e))
          return e.substring(0, e.lastIndexOf("/") + 1);
      return "";
    }
    function Vn(e, t, n) {
      e.addEventListener ? e.addEventListener(t, n, Rn) : e.attachEvent && e.attachEvent("on" + t, n);
    }
    function ht(e, t, n) {
      e.removeEventListener ? e.removeEventListener(t, n, Rn) : e.detachEvent && e.detachEvent("on" + t, n);
    }
    function Xt(e, t) {
      this.init(e, t);
    }
    function Et(e) {
      return e[_t] || null;
    }
    function Kn(e) {
      return e[_t] = ++Fn, Fn;
    }
    function Jt(e) {
      try {
        delete e[_t];
      } catch {
        e.removeAttribute && e.removeAttribute(_t);
      }
    }
    function Oe(e, t, n) {
      if (t.indexOf(",") >= 0)
        return void P(t.split(","), function() {
          Oe(e, this, n);
        });
      var o = Et(e);
      o || (o = Kn(e)), le[o] === void 0 && (le[o] = {});
      var r = le[o][t];
      r && r.length > 0 ? ht(e, t, r[0]) : (le[o][t] = [], le[o].el = e), r = le[o][t], r.length === 0 && (r[0] = function(s) {
        var c = s ? new Xt(e, s) : void 0;
        P(r, function(a, i) {
          a > 0 && i && i.call(e, c);
        });
      }), pe(n, r) < 0 && r.push(n), Vn(e, t, r[0]);
    }
    function Ge(e, t, n) {
      if (t && t.indexOf(",") >= 0)
        return void P(t.split(","), function() {
          Ge(e, this, n);
        });
      var o = Et(e);
      if (o) {
        if (t === void 0)
          return void (o in le && (P(le[o], function(c, a) {
            c != "el" && a.length > 0 && ht(e, c, a[0]);
          }), delete le[o], Jt(e)));
        if (le[o]) {
          var r = le[o][t];
          if (r && r.length > 0) {
            n === void 0 ? (ht(e, t, r[0]), delete le[o][t]) : (P(r, function(c, a) {
              c > 0 && a === n && r.splice(c, 1);
            }), r.length == 1 && (ht(e, t, r[0]), delete le[o][t]));
            var s = 0;
            P(le[o], function() {
              s++;
            }), 2 > s && (delete le[o], Jt(e));
          }
        }
      }
    }
    function en(e, t) {
      if (t.indexOf(",") >= 0)
        return void P(t.split(","), function() {
          en(e, this);
        });
      var n = Et(e);
      if (n) {
        var o = le[n][t];
        le[n] && o && o.length > 0 && o[0]();
      }
    }
    function Dt(e, t, n) {
      t = /^\d{2,}$/.test(t) ? t : t.toUpperCase().charCodeAt(0), Oe(e, "keydown", function(o) {
        !o.ctrlKey || o.which != t || o.shiftKey || o.altKey || (n.call(e), o.stop());
      });
    }
    function Gn(e) {
      function t() {
        r || (r = !0, e(KindEditor), Un = !0);
      }
      function n() {
        if (!r) {
          try {
            document.documentElement.doScroll("left");
          } catch {
            return void setTimeout(n, 100);
          }
          t();
        }
      }
      function o() {
        document.readyState === "complete" && t();
      }
      if (Un)
        return void e(KindEditor);
      var r = !1;
      if (document.addEventListener)
        Oe(document, "DOMContentLoaded", t);
      else if (document.attachEvent) {
        Oe(document, "readystatechange", o);
        var s = !1;
        try {
          s = window.frameElement == null;
        } catch {
        }
        document.documentElement.doScroll && s && n();
      }
      Oe(window, "load", t);
    }
    function Pe(e) {
      e = e.replace(/&quot;/g, '"');
      for (var t, n = {}, o = /\s*([\w\-]+)\s*:([^;]*)(;|$)/g; t = o.exec(e); ) {
        var r = ee(t[1].toLowerCase()), s = ee(pt(t[2]));
        n[r] = s;
      }
      return n;
    }
    function ke(e) {
      for (var t, n = {}, o = /\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g; t = o.exec(e); ) {
        var r = (t[1] || t[2] || t[4] || t[6]).toLowerCase(), s = (t[2] ? t[3] : t[4] ? t[5] : t[7]) || "";
        n[r] = s;
      }
      return n;
    }
    function Qn(e, t) {
      return e = /\s+class\s*=/.test(e) ? e.replace(/(\s+class=["']?)([^"']*)(["']?[\s>])/, function(n, o, r, s) {
        return (" " + r + " ").indexOf(" " + t + " ") < 0 ? r === "" ? o + t + s : o + r + " " + t + s : n;
      }) : e.substr(0, e.length - 1) + ' class="' + t + '">';
    }
    function Yn(e) {
      var t = "";
      return P(Pe(e), function(n, o) {
        t += n + ":" + o + ";";
      }), t;
    }
    function Qe(e, t, n, o) {
      function r(i) {
        for (var d = i.split("/"), u = [], l = 0, f = d.length; f > l; l++) {
          var p = d[l];
          p == ".." ? u.length > 0 && u.pop() : p !== "" && p != "." && u.push(p);
        }
        return "/" + u.join("/");
      }
      function s(i, d) {
        if (e.substr(0, i.length) === i) {
          for (var u = [], l = 0; d > l; l++)
            u.push("..");
          var f = ".";
          return u.length > 0 && (f += "/" + u.join("/")), o == "/" && (f += "/"), f + e.substr(i.length);
        }
        return (a = /^(.*)\//.exec(i)) ? s(a[1], ++d) : void 0;
      }
      if (t = $(t, "").toLowerCase(), e.substr(0, 5) != "data:" && (e = e.replace(/([^:])\/\//g, "$1/")), pe(t, ["absolute", "relative", "domain"]) < 0)
        return e;
      if (n = n || location.protocol + "//" + location.host, o === void 0) {
        var c = location.pathname.match(/^(\/.*)\//);
        o = c ? c[1] : "";
      }
      var a;
      if (a = /^(\w+:\/\/[^\/]*)/.exec(e)) {
        if (a[1] !== n)
          return e;
      } else if (/^\w+:/.test(e))
        return e;
      return /^\//.test(e) ? e = n + r(e.substr(1)) : /^\w+:\/\//.test(e) || (e = n + r(o + "/" + e)), t === "relative" ? e = s(n + o, 0).substr(2) : t === "absolute" && e.substr(0, n.length) === n && (e = e.substr(n.length)), e;
    }
    function Ie(e, t, n, o, r) {
      e == null && (e = ""), n = n || "", o = $(o, !1), r = $(r, "	");
      var s = "xx-small,x-small,small,medium,large,x-large,xx-large".split(",");
      e = e.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi, function(d, u, l, f) {
        return u + l.replace(/<(?:br|br\s[^>]*)>/gi, `
`) + f;
      }), e = e.replace(/<(?:br|br\s[^>]*)\s*\/?>\s*<\/p>/gi, "</p>"), e = e.replace(/(<(?:p|p\s[^>]*)>)\s*(<\/p>)/gi, "$1<br />$2"), e = e.replace(/\u200B/g, ""), e = e.replace(/\u00A9/g, "&copy;"), e = e.replace(/\u00AE/g, "&reg;"), e = e.replace(/\u2003/g, "&emsp;"), e = e.replace(/\u3000/g, "&emsp;"), e = e.replace(/<[^>]+/g, function(d) {
        return d.replace(/\s+/g, " ");
      });
      var c = {};
      t && (P(t, function(d, u) {
        for (var l = d.split(","), f = 0, p = l.length; p > f; f++)
          c[l[f]] = oe(u);
      }), c.script || (e = e.replace(/(<(?:script|script\s[^>]*)>)([\s\S]*?)(<\/script>)/gi, "")), c.style || (e = e.replace(/(<(?:style|style\s[^>]*)>)([\s\S]*?)(<\/style>)/gi, "")));
      var a = /(\s*)<(\/)?([\w\-:]+)((?:\s+|(?:\s+[\w\-:]+)|(?:\s+[\w\-:]+=[^\s"'<>]+)|(?:\s+[\w\-:"]+="[^"]*")|(?:\s+[\w\-:"]+='[^']*'))*)(\/)?>(\s*)/g, i = [];
      return e = e.replace(a, function(d, u, l, f, p, m, g) {
        var y = d, b = u || "", C = l || "", D = f.toLowerCase(), A = p || "", N = m ? " " + m : "", B = g || "";
        if (t && !c[D])
          return "";
        if (N === "" && An[D] && (N = " /"), Nn[D] && (b && (b = " "), B && (B = " ")), Vt[D] && (C ? B = `
` : b = `
`), o && D == "br" && (B = `
`), In[D] && !Vt[D])
          if (o) {
            C && i.length > 0 && i[i.length - 1] === D ? i.pop() : i.push(D), b = `
`, B = `
`;
            for (var j = 0, R = C ? i.length : i.length - 1; R > j; j++)
              b += r, C || (B += r);
            N ? i.pop() : C || (B += r);
          } else
            b = B = "";
        if (A !== "") {
          var E = ke(y);
          if (D === "font") {
            var S = {}, w = "";
            P(E, function(x, _) {
              x === "color" && (S.color = _, delete E[x]), x === "size" && (S["font-size"] = s[parseInt(_, 10) - 1] || "", delete E[x]), x === "face" && (S["font-family"] = _, delete E[x]), x === "style" && (w = _);
            }), w && !/;$/.test(w) && (w += ";"), P(S, function(x, _) {
              _ !== "" && (/\s/.test(_) && (_ = "'" + _ + "'"), w += x + ":" + _ + ";");
            }), E.style = w;
          }
          P(E, function(x, _) {
            if (xi[x] && (E[x] = x), pe(x, ["src", "href"]) >= 0 && (E[x] = Qe(_, n)), (t && x !== "style" && !c[D]["*"] && !c[D][x] || D === "body" && x === "contenteditable" || /^kindeditor_\d+$/.test(x)) && delete E[x], x === "style" && _ !== "") {
              var M = Pe(_);
              P(M, function(I, O) {
                !t || c[D].style || c[D]["." + I] || delete M[I];
              });
              var F = "";
              P(M, function(I, O) {
                F += I + ":" + O + ";";
              }), E.style = F;
            }
          }), A = "", P(E, function(x, _) {
            (x !== "style" || _ !== "") && (_ = _.replace(/"/g, "&quot;"), A += " " + x + '="' + _ + '"');
          });
        }
        return D === "font" && (D = "span"), b + "<" + C + D + A + N + ">" + B;
      }), e = e.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi, function(d, u, l, f) {
        return u + l.replace(/\n/g, `<span id="__kindeditor_pre_newline__">
`) + f;
      }), e = e.replace(/\n\s*\n/g, `
`), e = e.replace(/<span id="__kindeditor_pre_newline__">\n/g, `
`), ee(e);
    }
    function tn(e, t) {
      return e = e.replace(/<meta[\s\S]*?>/gi, "").replace(/<![\s\S]*?>/gi, "").replace(/<style[^>]*>[\s\S]*?<\/style>/gi, "").replace(/<script[^>]*>[\s\S]*?<\/script>/gi, "").replace(/<w:[^>]+>[\s\S]*?<\/w:[^>]+>/gi, "").replace(/<o:[^>]+>[\s\S]*?<\/o:[^>]+>/gi, "").replace(/<xml>[\s\S]*?<\/xml>/gi, "").replace(/<(?:table|td)[^>]*>/gi, function(n) {
        return n.replace(/border-bottom:([#\w\s]+)/gi, "border:$1");
      }), Ie(e, t);
    }
    function nn(e) {
      return /\.(rm|rmvb)(\?|$)/i.test(e) ? "audio/x-pn-realaudio-plugin" : /\.(swf|flv)(\?|$)/i.test(e) ? "application/x-shockwave-flash" : "video/x-ms-asf-plugin";
    }
    function Zn(e) {
      return /realaudio/i.test(e) ? "ke-rm" : /flash/i.test(e) ? "ke-flash" : "ke-media";
    }
    function rn(e) {
      return ke(unescape(e));
    }
    function Mt(e) {
      var t = "<embed ";
      return P(e, function(n, o) {
        t += n + '="' + o + '" ';
      }), t += "/>";
    }
    function on(e, t) {
      var n = t.width, o = t.height, r = t.type || nn(t.src), s = Mt(t), c = "";
      /\D/.test(n) ? c += "width:" + n + ";" : n > 0 && (c += "width:" + n + "px;"), /\D/.test(o) ? c += "height:" + o + ";" : o > 0 && (c += "height:" + o + "px;");
      var a = '<img class="' + Zn(r) + '" src="' + e + '" ';
      return c !== "" && (a += 'style="' + c + '" '), a += 'data-ke-tag="' + escape(s) + '" alt="" />';
    }
    function Xn(e, t) {
      var n = new Function("obj", "var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('" + e.replace(/[\r\t\n]/g, " ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g, "$1\r").replace(/\t=(.*?)%>/g, "',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'") + "');}return p.join('');");
      return t ? n(t) : n;
    }
    function mt(e, t) {
      if (e.nodeType == 9 && t.nodeType != 9)
        return !0;
      for (; t = t.parentNode; )
        if (t == e)
          return !0;
      return !1;
    }
    function gt(e, t) {
      t = t.toLowerCase();
      var n = null;
      if (Si || e.nodeName.toLowerCase() == "script")
        try {
          n = e.getAttribute(t, 2);
        } catch {
          n = e.getAttribute(t, 1);
        }
      else {
        var o = e.ownerDocument.createElement("div");
        o.appendChild(e.cloneNode(!1));
        var r = ke(Ve(o.innerHTML));
        t in r && (n = r[t]);
      }
      return t === "style" && n !== null && (n = Yn(n)), n;
    }
    function vt(e, t) {
      function n(x) {
        return typeof x != "string" ? x : x.replace(/([^\w\-])/g, "\\$1");
      }
      function o(x) {
        return x.replace(/\\/g, "");
      }
      function r(x, _) {
        return x === "*" || x.toLowerCase() === n(_.toLowerCase());
      }
      function s(x, _, M) {
        var F = [], I = M.ownerDocument || M, O = I.getElementById(o(x));
        return O && r(_, O.nodeName) && mt(M, O) && F.push(O), F;
      }
      function c(x, _, M) {
        var F, I, O, U, W = M.ownerDocument || M, z = [];
        if (M.getElementsByClassName)
          for (F = M.getElementsByClassName(o(x)), I = 0, O = F.length; O > I; I++)
            U = F[I], r(_, U.nodeName) && z.push(U);
        else if (W.querySelectorAll)
          for (F = W.querySelectorAll((M.nodeName !== "#document" ? M.nodeName + " " : "") + _ + "." + x), I = 0, O = F.length; O > I; I++)
            U = F[I], mt(M, U) && z.push(U);
        else
          for (F = M.getElementsByTagName(_), x = " " + x + " ", I = 0, O = F.length; O > I; I++)
            if (U = F[I], U.nodeType == 1) {
              var V = U.className;
              V && (" " + V + " ").indexOf(x) > -1 && z.push(U);
            }
        return z;
      }
      function a(x, _, M) {
        for (var F, I = [], O = M.ownerDocument || M, U = O.getElementsByName(o(x)), W = 0, z = U.length; z > W; W++)
          F = U[W], r(_, F.nodeName) && mt(M, F) && F.getAttribute("name") !== null && I.push(F);
        return I;
      }
      function i(x, _, M, F) {
        for (var I, O = [], U = F.getElementsByTagName(M), W = 0, z = U.length; z > W; W++)
          I = U[W], I.nodeType == 1 && (_ === null ? gt(I, x) !== null && O.push(I) : _ === n(gt(I, x)) && O.push(I));
        return O;
      }
      function d(x, _) {
        var M, F = [];
        M = /^((?:\\.|[^.#\s\[<>])+)/.exec(x);
        var I = M ? M[1] : "*";
        if (M = /#((?:[\w\-]|\\.)+)$/.exec(x))
          F = s(M[1], I, _);
        else if (M = /\.((?:[\w\-]|\\.)+)$/.exec(x))
          F = c(M[1], I, _);
        else if (M = /\[((?:[\w\-]|\\.)+)\]/.exec(x))
          F = i(M[1].toLowerCase(), null, I, _);
        else if (M = /\[((?:[\w\-]|\\.)+)\s*=\s*['"]?((?:\\.|[^'"]+)+)['"]?\]/.exec(x)) {
          var O = M[1].toLowerCase(), U = M[2];
          F = O === "id" ? s(U, I, _) : O === "class" ? c(U, I, _) : O === "name" ? a(U, I, _) : i(O, U, I, _);
        } else
          for (var W, z = _.getElementsByTagName(I), V = 0, te = z.length; te > V; V++)
            W = z[V], W.nodeType == 1 && F.push(W);
        return F;
      }
      var u = e.split(",");
      if (u.length > 1) {
        var l = [];
        return P(u, function() {
          P(vt(this, t), function() {
            pe(this, l) < 0 && l.push(this);
          });
        }), l;
      }
      t = t || document;
      for (var f, p = [], m = /((?:\\.|[^\s>])+|[\s>])/g; f = m.exec(e); )
        f[1] !== " " && p.push(f[1]);
      var g = [];
      if (p.length == 1)
        return d(p[0], t);
      var y, b, C, D, A, N, B, j, R, E, S, w = !1;
      for (N = 0, R = p.length; R > N; N++)
        if (y = p[N], y !== ">") {
          if (N > 0) {
            for (b = [], B = 0, E = g.length; E > B; B++)
              for (D = g[B], C = d(y, D), j = 0, S = C.length; S > j; j++)
                A = C[j], w ? D === A.parentNode && b.push(A) : b.push(A);
            g = b;
          } else
            g = d(y, t);
          if (g.length === 0)
            return [];
        } else
          w = !0;
      return g;
    }
    function Jn(e, t) {
      var n = vt(e, t);
      return n.length > 0 ? n[0] : null;
    }
    function be(e) {
      return v(e)[0];
    }
    function Ae(e) {
      return e ? e.ownerDocument || e.document || e : document;
    }
    function Le(e) {
      if (!e)
        return window;
      var t = Ae(e);
      return t.parentWindow || t.defaultView;
    }
    function ei(e, t) {
      if (e.nodeType == 1) {
        var n = Ae(e);
        try {
          e.innerHTML = '<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />' + t;
          var o = n.getElementById("__kindeditor_temp_tag__");
          o.parentNode.removeChild(o);
        } catch {
          v(e).empty(), v("@" + t, n).each(function() {
            e.appendChild(this);
          });
        }
      }
    }
    function Nt(e, t) {
      return $e(t, e.className, " ");
    }
    function It(e, t, n) {
      Z && 8 > ce && t.toLowerCase() == "class" && (t = "className"), e.setAttribute(t, "" + n);
    }
    function ti(e, t) {
      Z && 8 > ce && t.toLowerCase() == "class" && (t = "className"), It(e, t, ""), e.removeAttribute(t);
    }
    function ln(e) {
      return e && e.nodeName ? e.nodeName.toLowerCase() : "";
    }
    function ni(e, t) {
      var n = Le(e), o = Ke(t), r = "";
      if (n.getComputedStyle) {
        var s = n.getComputedStyle(e, null);
        r = s[o] || s.getPropertyValue(t) || e.style[o];
      } else
        e.currentStyle && (r = e.currentStyle[o] || e.style[o]);
      return r;
    }
    function an(e) {
      return !!Ci[ln(e)];
    }
    function ge(e) {
      return e = e || document, Ee ? e.body : e.documentElement;
    }
    function je(e) {
      e = e || document;
      var t, n;
      return Z || yi || $t ? (t = ge(e).scrollLeft, n = ge(e).scrollTop) : (t = Le(e).scrollX, n = Le(e).scrollY), { x: t, y: n };
    }
    function de(e) {
      this.init(e);
    }
    function sn(e) {
      return e.collapsed = e.startContainer === e.endContainer && e.startOffset === e.endOffset, e;
    }
    function At(e, t, n) {
      function o(D, A, N) {
        var B, j = D.nodeValue.length;
        if (t) {
          var R = D.cloneNode(!0);
          B = A > 0 ? R.splitText(A) : R, j > N && B.splitText(N - A);
        }
        if (n) {
          var E = D;
          if (A > 0 && (E = D.splitText(A), e.setStart(D, A)), j > N) {
            var S = E.splitText(N - A);
            e.setEnd(S, 0);
          }
          a.push(E);
        }
        return B;
      }
      function r() {
        n && e.up().collapse(!0);
        for (var D = 0, A = a.length; A > D; D++) {
          var N = a[D];
          N.parentNode && N.parentNode.removeChild(N);
        }
      }
      function s(D, A) {
        for (var N, B = D.firstChild; B; ) {
          var j = new we(c).selectNode(B);
          if (d = j.compareBoundaryPoints(lt, e), d >= 0 && 0 >= u && (u = j.compareBoundaryPoints(ot, e)), u >= 0 && 0 >= l && (l = j.compareBoundaryPoints(He, e)), l >= 0 && 0 >= f && (f = j.compareBoundaryPoints(at, e)), f >= 0)
            return !1;
          if (N = B.nextSibling, d > 0) {
            if (B.nodeType == 1)
              if (u >= 0 && 0 >= l)
                t && A.appendChild(B.cloneNode(!0)), n && a.push(B);
              else {
                var R;
                if (t && (R = B.cloneNode(!1), A.appendChild(R)), s(B, R) === !1)
                  return !1;
              }
            else if (B.nodeType == 3) {
              var E;
              if (E = B == i.startContainer ? o(B, i.startOffset, B.nodeValue.length) : B == i.endContainer ? o(B, 0, i.endOffset) : o(B, 0, B.nodeValue.length), t)
                try {
                  A.appendChild(E);
                } catch {
                }
            }
          }
          B = N;
        }
      }
      var c = e.doc, a = [], i = e.cloneRange().down(), d = -1, u = -1, l = -1, f = -1, p = e.commonAncestor(), m = c.createDocumentFragment();
      if (p.nodeType == 3) {
        var g = o(p, e.startOffset, e.endOffset);
        return t && m.appendChild(g), r(), t ? m : e;
      }
      s(p, m), n && e.up().collapse(!0);
      for (var y = 0, b = a.length; b > y; y++) {
        var C = a[y];
        C.parentNode && C.parentNode.removeChild(C);
      }
      return t ? m : e;
    }
    function Ye(e, t) {
      for (var n = t; n; ) {
        var o = v(n);
        if (o.name == "marquee" || o.name == "select")
          return;
        n = n.parentNode;
      }
      try {
        e.moveToElementText(t);
      } catch {
      }
    }
    function cn(e, t) {
      var n = e.parentElement().ownerDocument, o = e.duplicate();
      o.collapse(t);
      var r = o.parentElement(), s = r.childNodes;
      if (s.length === 0)
        return { node: r.parentNode, offset: v(r).index() };
      var c = n, a = 0, i = -1, d = e.duplicate();
      Ye(d, r);
      for (var u = 0, l = s.length; l > u; u++) {
        var f = s[u];
        if (i = d.compareEndPoints("StartToStart", o), i === 0)
          return { node: f.parentNode, offset: u };
        if (f.nodeType == 1) {
          var p, m = e.duplicate(), g = v(f), y = f;
          g.isControl() && (p = n.createElement("span"), g.after(p), y = p, a += g.text().replace(/\r\n|\n|\r/g, "").length), Ye(m, y), d.setEndPoint("StartToEnd", m), i > 0 ? a += m.text.replace(/\r\n|\n|\r/g, "").length : a = 0, p && v(p).remove();
        } else
          f.nodeType == 3 && (d.moveStart("character", f.nodeValue.length), a += f.nodeValue.length);
        0 > i && (c = f);
      }
      if (0 > i && c.nodeType == 1)
        return { node: r, offset: v(r.lastChild).index() + 1 };
      if (i > 0)
        for (; c.nextSibling && c.nodeType == 1; )
          c = c.nextSibling;
      if (d = e.duplicate(), Ye(d, r), d.setEndPoint("StartToEnd", o), a -= d.text.replace(/\r\n|\n|\r/g, "").length, i > 0 && c.nodeType == 3)
        for (var b = c.previousSibling; b && b.nodeType == 3; )
          a -= b.nodeValue.length, b = b.previousSibling;
      return { node: c, offset: a };
    }
    function un(e, t) {
      var n = e.ownerDocument || e, o = n.body.createTextRange();
      if (n == e)
        return o.collapse(!0), o;
      if (e.nodeType == 1 && e.childNodes.length > 0) {
        var r, s, c = e.childNodes;
        if (t === 0 ? (s = c[0], r = !0) : (s = c[t - 1], r = !1), !s)
          return o;
        if (v(s).name === "head")
          return t === 1 && (r = !0), t === 2 && (r = !1), o.collapse(r), o;
        if (s.nodeType == 1) {
          var a, i = v(s);
          return i.isControl() && (a = n.createElement("span"), r ? i.before(a) : i.after(a), s = a), Ye(o, s), o.collapse(r), a && v(a).remove(), o;
        }
        e = s, t = r ? 0 : s.nodeValue.length;
      }
      var d = n.createElement("span");
      return v(e).before(d), Ye(o, d), o.moveStart("character", t), v(d).remove(), o;
    }
    function dn(e) {
      function t(a) {
        v(a.node).name == "tr" && (a.node = a.node.cells[a.offset], a.offset = 0);
      }
      var n, o;
      if (ye) {
        if (e.item)
          return n = Ae(e.item(0)), o = new we(n), o.selectNode(e.item(0)), o;
        n = e.parentElement().ownerDocument;
        var r = cn(e, !0), s = cn(e, !1);
        return t(r), t(s), o = new we(n), o.setStart(r.node, r.offset), o.setEnd(s.node, s.offset), o;
      }
      var c = e.startContainer;
      return n = c.ownerDocument || c, o = new we(n), o.setStart(c, e.startOffset), o.setEnd(e.endContainer, e.endOffset), o;
    }
    function we(e) {
      this.init(e);
    }
    function Lt(e) {
      return e.nodeName ? new we(e) : e.constructor === we ? e : dn(e);
    }
    function _e(e, t, n) {
      try {
        e.execCommand(t, !1, n);
      } catch {
      }
    }
    function fn(e, t) {
      var n = "";
      try {
        n = e.queryCommandValue(t);
      } catch {
      }
      return typeof n != "string" && (n = ""), n;
    }
    function Rt(e) {
      var t = Le(e);
      return ye ? e.selection : t.getSelection();
    }
    function ii(e) {
      var t, n = Rt(e);
      try {
        t = n.rangeCount > 0 ? n.getRangeAt(0) : n.createRange();
      } catch {
      }
      return !ye || t && (t.item || t.parentElement().ownerDocument === e) ? t : null;
    }
    function pn(e) {
      var t, n, o = {};
      return P(e, function(r, s) {
        t = r.split(",");
        for (var c = 0, a = t.length; a > c; c++)
          n = t[c], o[n] = s;
      }), o;
    }
    function Bt(e, t) {
      return hn(e, t, "*") || hn(e, t);
    }
    function hn(e, t, n) {
      if (n = n || e.name, e.type !== 1)
        return !1;
      var o = pn(t);
      if (!o[n])
        return !1;
      for (var r = o[n].split(","), s = 0, c = r.length; c > s; s++) {
        var a = r[s];
        if (a === "*")
          return !0;
        var i = /^(\.?)([^=]+)(?:=([^=]*))?$/.exec(a), d = i[1] ? "css" : "attr";
        a = i[2];
        var u = i[3] || "";
        if (u === "" && e[d](a) !== "" || u !== "" && e[d](a) === u)
          return !0;
      }
      return !1;
    }
    function Ft(e, t) {
      e.type == 1 && (mn(e, t, "*"), mn(e, t));
    }
    function mn(e, t, n) {
      if (n = n || e.name, e.type === 1) {
        var o = pn(t);
        if (o[n]) {
          for (var r = o[n].split(","), s = !1, c = 0, a = r.length; a > c; c++) {
            var i = r[c];
            if (i === "*") {
              s = !0;
              break;
            }
            var d = /^(\.?)([^=]+)(?:=([^=]*))?$/.exec(i);
            i = d[2], d[1] ? (i = Ke(i), e[0].style[i] && (e[0].style[i] = "")) : e.removeAttr(i);
          }
          s && e.remove(!0);
        }
      }
    }
    function Ut(e) {
      for (var t = e; t.first(); )
        t = t.first();
      return t;
    }
    function ze(e) {
      return e.type != 1 || e.isSingle() ? !1 : e.html().replace(/<[^>]+>/g, "") === "";
    }
    function ri(e, t) {
      e = e.clone(!0);
      for (var n = Ut(e), o = e, r = !1; t; ) {
        for (; o; )
          o.name === t.name && (li(o, t.attr(), t.css()), r = !0), o = o.first();
        r || n.append(t.clone(!1)), r = !1, t = t.first();
      }
      return e;
    }
    function oi(e, t) {
      if (t = t.clone(!0), e.type == 3)
        return Ut(t).append(e.clone(!1)), e.replaceWith(t), t;
      for (var n, o = e; (n = e.first()) && n.children().length == 1; )
        e = n;
      n = e.first();
      for (var r = e.doc.createDocumentFragment(); n; )
        r.appendChild(n[0]), n = n.next();
      return t = ri(o, t), r.firstChild && Ut(t).append(r), o.replaceWith(t), t;
    }
    function li(e, t, n) {
      P(t, function(o, r) {
        o !== "style" && e.attr(o, r);
      }), P(n, function(o, r) {
        e.css(o, r);
      });
    }
    function ai(e) {
      for (; e && e.name != "body"; ) {
        if (Vt[e.name] || e.name == "div" && e.hasClass("ke-script"))
          return !0;
        e = e.parent();
      }
      return !1;
    }
    function Ze(e) {
      this.init(e);
    }
    function gn(e) {
      if (e.nodeName) {
        var t = Ae(e);
        e = Lt(t).selectNodeContents(t.body).collapse(!1);
      }
      return new Ze(e);
    }
    function Ot(e) {
      var t = e.moveEl, n = e.moveFn, o = e.clickEl || t, r = e.beforeDrag, s = e.iframeFix === void 0 ? !0 : e.iframeFix, c = [document];
      s && v("iframe").each(function() {
        var a = Qe(this.src || "", "absolute");
        if (!/^https?:\/\//.test(a)) {
          var i;
          try {
            i = jt(this);
          } catch {
          }
          if (i) {
            var d = v(this).pos();
            v(i).data("pos-x", d.x), v(i).data("pos-y", d.y), c.push(i);
          }
        }
      }), o.mousedown(function(a) {
        function i(C) {
          C.preventDefault();
          var D = v(Ae(C.target)), A = De((D.data("pos-x") || 0) + C.pageX - y), N = De((D.data("pos-y") || 0) + C.pageY - b);
          n.call(o, f, p, m, g, A, N);
        }
        function d(C) {
          C.preventDefault();
        }
        function u(C) {
          C.preventDefault(), v(c).unbind("mousemove", i).unbind("mouseup", u).unbind("selectstart", d), l.releaseCapture && l.releaseCapture();
        }
        if (a.button === 0 || a.button === 1) {
          a.stopPropagation();
          var l = o.get(), f = X(t.css("left")), p = X(t.css("top")), m = t.width(), g = t.height(), y = a.pageX, b = a.pageY;
          r && r(), v(c).mousemove(i).mouseup(u).bind("selectstart", d), l.setCapture && l.setCapture();
        }
      });
    }
    function Te(e) {
      this.init(e);
    }
    function Pt(e) {
      return new Te(e);
    }
    function jt(e) {
      return e = be(e), e.contentDocument || e.contentWindow.document;
    }
    function si(e, t, n, o) {
      var r = [Gt === "" ? "<html>" : '<html dir="' + Gt + '">', '<head><meta charset="utf-8" /><title></title>', "<style>", "html,body {margin:0;padding:0;}", 'body, td {font:12px/1.5 "PingFang","Microsoft Yahei","\u82F9\u65B9","\u5FAE\u8F6F\u96C5\u9ED1", "sans serif",tahoma,verdana,helvetica;}', "body, p, div {word-wrap: break-word;line-height:28px;}", "table {border-collapse:collapse;}", "noscript {display:none;}", "table.ke-zeroborder td {border:1px dotted #AAA;}", ".ke-content {padding: 15px;}", 'img[data-ke-class="ke-image"] { max-width: 100%;border: 2px solid transparent; }', 'img[data-ke-class="ke-image"]:hover { border-color: #4696ec; }', "audio,video{ border:3px solid transparent; }", "audio:hover, video:hover{ border:3px solid #2196f3; }", "pre{ font-size: 14px;line-height: 20px;width: 100%;background-color: antiquewhite;padding: 6px 18px;box-sizing: border-box; }", ".ke-script, .ke-noscript, .ke-display-none {", "	display:none;", "	font-size:0;", "	width:0;", "	height:0;", "}", ".ke-pagebreak {", "	border:1px dotted #AAA;", "	font-size:0;", "	height:2px;", "}", "</style>"];
      return ie(n) || (n = [n]), P(n, function(s, c) {
        c && r.push('<link href="' + c + '" rel="stylesheet" />');
      }), o && r.push("<style>" + o + "</style>"), r.push("</head><body " + (t ? 'class="' + t + '"' : "") + ' author="MHalo"></body></html>'), r.join(`
`);
    }
    function Xe(e, t) {
      if (e.hasVal()) {
        if (t === void 0) {
          var n = e.val();
          return n = n.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi, "");
        }
        return e.val(t);
      }
      return e.html(t);
    }
    function Je(e) {
      this.init(e);
    }
    function vn(e) {
      return new Je(e);
    }
    function yn(e, t) {
      var n = this, o = n.get(e);
      if (o) {
        if (o.hasClass("ke-disabled"))
          return;
        t(o);
      }
    }
    function yt(e) {
      this.init(e);
    }
    function kn(e) {
      return new yt(e);
    }
    function et(e) {
      this.init(e);
    }
    function zt(e) {
      return new et(e);
    }
    function tt(e) {
      this.init(e);
    }
    function bn(e) {
      return new tt(e);
    }
    function Ht(e) {
      this.init(e);
    }
    function ci(e) {
      return new Ht(e);
    }
    function ui(e) {
      e = e || {};
      var t = e.name || "", n = v('<span class="ke-button-common ke-button-outer" title="' + t + '"></span>'), o = v('<input class="ke-button-common ke-button" type="button" value="' + t + '" />');
      return e.click && o.click(e.click), n.append(o), n;
    }
    function nt(e) {
      this.init(e);
    }
    function wn(e) {
      return new nt(e);
    }
    function di(e) {
      var t = Pt(e), n = t.remove, o = e.afterSelect, r = t.div, s = [];
      r.addClass("ke-tabs").bind("contextmenu,mousedown,mousemove", function(a) {
        a.preventDefault();
      });
      var c = v('<ul class="ke-tabs-ul ke-clearfix"></ul>');
      return r.append(c), t.add = function(a) {
        var i = v('<li class="ke-tabs-li">' + a.title + "</li>");
        i.data("tab", a), s.push(i), c.append(i);
      }, t.selectedIndex = 0, t.select = function(a) {
        t.selectedIndex = a, P(s, function(i, d) {
          d.unbind(), i === a ? (d.addClass("ke-tabs-li-selected"), v(d.data("tab").panel).show("")) : (d.removeClass("ke-tabs-li-selected").removeClass("ke-tabs-li-on").mouseover(function() {
            v(this).addClass("ke-tabs-li-on");
          }).mouseout(function() {
            v(this).removeClass("ke-tabs-li-on");
          }).click(function() {
            t.select(i);
          }), v(d.data("tab").panel).hide());
        }), o && o.call(t, a);
      }, t.remove = function() {
        P(s, function() {
          this.remove();
        }), c.remove(), n.call(t);
      }, t;
    }
    function qt(e, t) {
      var n = document.getElementsByTagName("head")[0] || (Ee ? document.body : document.documentElement), o = document.createElement("script");
      n.appendChild(o), o.src = e, o.charset = "utf-8", o.onload = o.onreadystatechange = function() {
        this.readyState && this.readyState !== "loaded" || (t && t(), o.onload = o.onreadystatechange = null, n.removeChild(o));
      };
    }
    function xn(e) {
      var t = e.indexOf("?");
      return t > 0 ? e.substr(0, t) : e;
    }
    function Wt(e) {
      for (var t = document.getElementsByTagName("head")[0] || (Ee ? document.body : document.documentElement), n = document.createElement("link"), o = xn(Qe(e, "absolute")), r = v('link[rel="stylesheet"]', t), s = 0, c = r.length; c > s; s++)
        if (xn(Qe(r[s].href, "absolute")) === o)
          return;
      t.appendChild(n), n.href = e, n.rel = "stylesheet";
    }
    function fi(e, t, n, o, r) {
      n = n || "GET", r = r || "json";
      var s = window.XMLHttpRequest ? new window.XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP");
      if (s.open(n, e, !0), s.onreadystatechange = function() {
        if (s.readyState == 4 && s.status == 200 && t) {
          var a = ee(s.responseText);
          r == "json" && (a = Zt(a)), t(a);
        }
      }, n == "POST") {
        var c = [];
        P(o, function(a, i) {
          c.push(encodeURIComponent(a) + "=" + encodeURIComponent(i));
        });
        try {
          s.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        } catch {
        }
        s.send(c.join("&"));
      } else
        s.send(null);
    }
    function Cn(e, t) {
      return e === void 0 ? xe : t ? void (xe[e] = t) : xe[e];
    }
    function _n(e) {
      var t, n = "core";
      return (t = /^(\w+)\.(\w+)$/.exec(e)) && (n = t[1], e = t[2]), { ns: n, key: e };
    }
    function Tn(e, t) {
      if (t = t === void 0 ? v.options.langType : t, typeof e == "string") {
        if (!Ce[t])
          return "no language";
        var n = e.length - 1;
        if (e.substr(n) === ".")
          return Ce[t][e.substr(0, n)];
        var o = _n(e);
        return Ce[t][o.ns][o.key];
      }
      P(e, function(r, s) {
        var c = _n(r);
        Ce[t] || (Ce[t] = {}), Ce[t][c.ns] || (Ce[t][c.ns] = {}), Ce[t][c.ns][c.key] = s;
      });
    }
    function kt(e, t) {
      if (!e.collapsed) {
        e = e.cloneRange().up();
        var n = e.startContainer, o = e.startOffset;
        if (Be || e.isControl()) {
          var r = v(n.childNodes[o]);
          if (r && r.name == "img")
            return t(r) ? r : void 0;
        }
      }
    }
    function pi() {
      var e = this, t = e.edit.doc;
      v(t).contextmenu(function(n) {
        if (e.menu && e.hideMenu(), !e.useContextmenu)
          return void n.preventDefault();
        if (e._contextmenus.length !== 0) {
          var o = 0, r = [];
          for (P(e._contextmenus, function() {
            return this.title == "-" ? void r.push(this) : void (this.cond && this.cond() && (r.push(this), this.width && this.width > o && (o = this.width)));
          }); r.length > 0 && r[0].title == "-"; )
            r.shift();
          for (; r.length > 0 && r[r.length - 1].title == "-"; )
            r.pop();
          var s = null;
          if (P(r, function(u) {
            this.title == "-" && s.title == "-" && delete r[u], s = this;
          }), r.length > 0) {
            n.preventDefault();
            var c = v(e.edit.iframe).pos(), a = zt({ x: c.x + n.clientX, y: c.y + n.clientY, width: o, css: { visibility: "hidden" }, shadowMode: e.shadowMode });
            P(r, function() {
              this.title && a.addItem(this);
            });
            var i = ge(a.doc), d = a.div.height();
            n.clientY + d >= i.clientHeight - 100 && a.pos(a.x, X(a.y) - d), a.div.css("visibility", "visible"), e.menu = a;
          }
        }
      });
    }
    function hi() {
      function e(c) {
        for (var a = v(c.commonAncestor()); a && (a.type != 1 || a.isStyle()); )
          a = a.parent();
        return a;
      }
      var t = this, n = t.edit.doc, o = t.newlineTag;
      if (!(Z && o !== "br" || Re && 3 > ce && o !== "p" || $t && 9 > ce)) {
        var r = oe("h1,h2,h3,h4,h5,h6,pre,li"), s = oe("p,h1,h2,h3,h4,h5,h6,pre,li,blockquote");
        v(n).keydown(function(c) {
          if (!(c.which != 13 || c.shiftKey || c.ctrlKey || c.altKey)) {
            t.cmd.selection();
            var a = e(t.cmd.range), i = (v(a).prev(), v(a).parent(), a.name);
            if (i != "marquee" && i != "select")
              return o !== "br" || r[i] ? void (s[i] || _e(n, "formatblock", "<p>")) : (c.preventDefault(), void t.insertHtml("<br />" + (Z && 9 > ce ? "" : "\u200B")));
          }
        }), v(n).keyup(function(c) {
          if (!(c.which != 13 || c.shiftKey || c.ctrlKey || c.altKey) && o != "br") {
            if (Re) {
              var a = t.cmd.commonAncestor("p"), i = t.cmd.commonAncestor("a");
              return void (i && i.text() == "" && (i.remove(!0), t.cmd.range.selectNodeContents(a[0]).collapse(!0), t.cmd.select()));
            }
            t.cmd.selection();
            var d = e(t.cmd.range), u = v(d).prev(), l = v(d).parent(), f = d.name, p = l && l.name ? l.name : "", m = u && u.html ? u.html() : "";
            if (p == "blockquote" && m == "<br />") {
              c.preventDefault(), v(u).remove(), v(d).remove(), v(l).after("<p>\u200B</p>");
              var g = v(l).next();
              return t.cmd.range.selectNodeContents(g).collapse(!0), t.cmd.select(), void g.focus();
            }
            f != "marquee" && f != "select" && (s[f] || _e(n, "formatblock", "<p>"));
          }
        });
      }
    }
    function mi() {
      var e = this, t = e.edit.doc;
      v(t).keydown(function(n) {
        if (n.which == 9) {
          if (n.preventDefault(), e.afterTab)
            return void e.afterTab.call(e, n);
          var o = e.cmd, r = o.range;
          r.shrink(), r.collapsed && r.startContainer.nodeType == 1 && (r.insertNode(v("@&nbsp;", t)[0]), o.select()), e.insertHtml("&nbsp;&nbsp;&nbsp;&nbsp;");
        }
      });
    }
    function gi() {
      var e = this;
      v(e.edit.textarea[0], e.edit.win).focus(function(t) {
        e.afterFocus && e.afterFocus.call(e, t);
      }).blur(function(t) {
        e.afterBlur && e.afterBlur.call(e, t);
      });
    }
    function Se(e) {
      return ee(e.replace(/<span [^>]*id="?__kindeditor_bookmark_\w+_\d+__"?[^>]*><\/span>/gi, ""));
    }
    function bt(e) {
      return e.replace(/<div[^>]+class="?__kindeditor_paste__"?[^>]*>[\s\S]*?<\/div>/gi, "");
    }
    function Sn(e, t) {
      if (e.length === 0)
        return void e.push(t);
      var n = e[e.length - 1];
      Se(t.html) !== Se(n.html) && e.push(t);
    }
    function En(e, t) {
      var n, o, r = this, s = r.edit, c = s.doc.body;
      if (e.length === 0)
        return r;
      s.designMode ? (n = r.cmd.range, o = n.createBookmark(!0), o.html = c.innerHTML) : o = { html: c.innerHTML }, Sn(t, o);
      var a = e.pop();
      return Se(o.html) === Se(a.html) && e.length > 0 && (a = e.pop()), s.designMode ? (s.html(a.html), a.start && (n.moveToBookmark(a), r.select())) : v(c).html(Se(a.html)), r;
    }
    function it(e) {
      function t(r, s) {
        it.prototype[r] === void 0 && (n[r] = s), n.options[r] = s;
      }
      var n = this;
      n.options = {}, P(e, function(r, s) {
        t(r, e[r]);
      }), P(v.options, function(r, s) {
        n[r] === void 0 && t(r, s);
      });
      var o = v(n.srcElement || "<textarea/>");
      n.width || (n.width = o[0].style.width || o.width()), n.height || (n.height = o[0].style.height || o.height()), t("width", $(n.width, n.minWidth)), t("height", $(n.height, n.minHeight)), t("width", J(n.width)), t("height", J(n.height)), ki && (!bi || 534 > ce) && (n.designMode = !1), n.srcElement = o, n.initContent = "", n.plugin = {}, n.isCreated = !1, n._handlers = {}, n._contextmenus = [], n._undoStack = [], n._redoStack = [], n._firstAddBookmark = !0, n.menu = n.contextmenu = null, n.dialogs = [];
    }
    function vi(e) {
      return new it(e);
    }
    function Dn(e, t) {
      function n(c) {
        return P(xe, function(a, i) {
          re(i) && (i.call(c, KindEditor), c._pluginStatus || (c._pluginStatus = {}), c._pluginStatus[a] = "inited");
        }), c.create();
      }
      if (t = t || {}, t.basePath = $(t.basePath, v.basePath), t.themesPath = $(t.themesPath, t.basePath + "themes/"), t.langPath = $(t.langPath, t.basePath + "lang/"), t.pluginsPath = $(t.pluginsPath, t.basePath + "plugins/"), $(t.loadStyleMode, v.options.loadStyleMode)) {
        var o = $(t.themeType, v.options.themeType);
        Wt(t.themesPath + "default/default.css"), Wt(t.themesPath + o + "/" + o + ".css");
      }
      var r = v(e);
      if (r && r.length !== 0) {
        if (r.length > 1)
          return r.each(function() {
            Dn(this, t);
          }), st[0];
        t.srcElement = r[0];
        var s = new it(t);
        return st.push(s), Ce[s.langType] ? n(s) : (qt(s.langPath + s.langType + ".js?ver=" + encodeURIComponent(v.DEBUG ? xt : wt), function() {
          n(s);
        }), s);
      }
    }
    function rt(e, t) {
      v(e).each(function(n, o) {
        v.each(st, function(r, s) {
          return s && s.srcElement[0] == o ? (t.call(s, r), !1) : void 0;
        });
      });
    }
    (function(e) {
      return e.KindEditor ? e.KindEditor : void 0;
    })(window), function(e, t) {
      t(e);
    }(window, function(e) {
      var t = function() {
        function n(h) {
          return h == null ? String(h) : Qt[Mi.call(h)] || "object";
        }
        function o(h) {
          return n(h) == "function";
        }
        function r(h) {
          return h != null && h == h.window;
        }
        function s(h) {
          return h != null && h.nodeType == h.DOCUMENT_NODE;
        }
        function c(h) {
          return n(h) == "object";
        }
        function a(h) {
          return c(h) && !r(h) && Object.getPrototypeOf(h) == Object.prototype;
        }
        function i(h) {
          var k = !!h && "length" in h && h.length, T = S.type(h);
          return T != "function" && !r(h) && (T == "array" || k === 0 || typeof k == "number" && k > 0 && k - 1 in h);
        }
        function d(h) {
          return I.call(h, function(k) {
            return k != null;
          });
        }
        function u(h) {
          return h.length > 0 ? S.fn.concat.apply([], h) : h;
        }
        function l(h) {
          return h.replace(/::/g, "/").replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2").replace(/([a-z\d])([A-Z])/g, "$1_$2").replace(/_/g, "-").toLowerCase();
        }
        function f(h) {
          return h in z ? z[h] : z[h] = new RegExp("(^|\\s)" + h + "(\\s|$)");
        }
        function p(h, k) {
          return typeof k != "number" || V[l(h)] ? k : k + "px";
        }
        function m(h) {
          var k, T;
          return W[h] || (k = U.createElement(h), U.body.appendChild(k), T = getComputedStyle(k, "").getPropertyValue("display"), k.parentNode.removeChild(k), T == "none" && (T = "block"), W[h] = T), W[h];
        }
        function g(h) {
          return "children" in h ? O.call(h.children) : S.map(h.childNodes, function(k) {
            return k.nodeType == 1 ? k : void 0;
          });
        }
        function y(h, k) {
          var T, L = h ? h.length : 0;
          for (T = 0; L > T; T++)
            this[T] = h[T];
          this.length = L, this.selector = k || "";
        }
        function b(h, k, T) {
          for (E in k)
            T && (a(k[E]) || qe(k[E])) ? (a(k[E]) && !a(h[E]) && (h[E] = {}), qe(k[E]) && !qe(h[E]) && (h[E] = []), b(h[E], k[E], T)) : k[E] !== R && (h[E] = k[E]);
        }
        function C(h, k) {
          return k == null ? S(h) : S(h).filter(k);
        }
        function D(h, k, T, L) {
          return o(k) ? k.call(h, T, L) : k;
        }
        function A(h, k, T) {
          T == null ? h.removeAttribute(k) : h.setAttribute(k, T);
        }
        function N(h, k) {
          var T = h.className || "", L = T && T.baseVal !== R;
          return k === R ? L ? T.baseVal : T : void (L ? T.baseVal = k : h.className = k);
        }
        function B(h) {
          try {
            return h && (h == "true" || (h == "false" ? !1 : h == "null" ? null : +h + "" == h ? +h : /^[\[\{]/.test(h) ? S.parseJSON(h) : h));
          } catch {
            return h;
          }
        }
        function j(h, k) {
          k(h);
          for (var T = 0, L = h.childNodes.length; L > T; T++)
            j(h.childNodes[T], k);
        }
        var R, E, S, w, x, _, M = [], F = M.concat, I = M.filter, O = M.slice, U = e.document, W = {}, z = {}, V = { "column-count": 1, columns: 1, "font-weight": 1, "line-height": 1, opacity: 1, "z-index": 1, zoom: 1 }, te = /^\s*<(\w+|!)[^>]*>/, K = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, ae = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, Y = /^(?:body|html)$/i, Q = /([A-Z])/g, ne = ["val", "css", "html", "text", "data", "width", "height", "offset"], Fe = ["after", "prepend", "before", "append"], Me = U.createElement("table"), ct = U.createElement("tr"), jn = { tr: U.createElement("tbody"), tbody: Me, thead: Me, tfoot: Me, td: ct, th: ct, "*": U.createElement("div") }, Di = /^[\w-]*$/, Qt = {}, Mi = Qt.toString, G = {}, zn = U.createElement("div"), Yt = { tabindex: "tabIndex", readonly: "readOnly", for: "htmlFor", class: "className", maxlength: "maxLength", cellspacing: "cellSpacing", cellpadding: "cellPadding", rowspan: "rowSpan", colspan: "colSpan", usemap: "useMap", frameborder: "frameBorder", contenteditable: "contentEditable" }, qe = Array.isArray || function(h) {
          return h instanceof Array;
        };
        return G.matches = function(h, k) {
          if (!k || !h || h.nodeType !== 1)
            return !1;
          var T = h.matches || h.webkitMatchesSelector || h.mozMatchesSelector || h.oMatchesSelector || h.matchesSelector;
          if (T)
            return T.call(h, k);
          var L, q = h.parentNode, H = !q;
          return H && (q = zn).appendChild(h), L = ~G.qsa(q, k).indexOf(h), H && zn.removeChild(h), L;
        }, x = function(h) {
          return h.replace(/-+(.)?/g, function(k, T) {
            return T ? T.toUpperCase() : "";
          });
        }, _ = function(h) {
          return I.call(h, function(k, T) {
            return h.indexOf(k) == T;
          });
        }, G.fragment = function(h, k, T) {
          var L, q, H;
          return K.test(h) && (L = S(U.createElement(RegExp.$1))), L || (h.replace && (h = h.replace(ae, "<$1></$2>")), k === R && (k = te.test(h) && RegExp.$1), k in jn || (k = "*"), H = jn[k], H.innerHTML = "" + h, L = S.each(O.call(H.childNodes), function() {
            H.removeChild(this);
          })), a(T) && (q = S(L), S.each(T, function(me, fe) {
            ne.indexOf(me) > -1 ? q[me](fe) : q.attr(me, fe);
          })), L;
        }, G.Z = function(h, k) {
          return new y(h, k);
        }, G.isZ = function(h) {
          return h instanceof G.Z;
        }, G.init = function(h, k) {
          var T;
          if (!h)
            return G.Z();
          if (typeof h == "string")
            if (h = h.trim(), h[0] == "<" && te.test(h))
              T = G.fragment(h, RegExp.$1, k), h = null;
            else {
              if (k !== R)
                return S(k).find(h);
              T = G.qsa(U, h);
            }
          else {
            if (o(h))
              return S(U).ready(h);
            if (G.isZ(h))
              return h;
            if (qe(h))
              T = d(h);
            else if (c(h))
              T = [h], h = null;
            else if (te.test(h))
              T = G.fragment(h.trim(), RegExp.$1, k), h = null;
            else {
              if (k !== R)
                return S(k).find(h);
              T = G.qsa(U, h);
            }
          }
          return G.Z(T, h);
        }, S = function(h, k) {
          return G.init(h, k);
        }, S.extend = function(h) {
          var k, T = O.call(arguments, 1);
          return typeof h == "boolean" && (k = h, h = T.shift()), T.forEach(function(L) {
            b(h, L, k);
          }), h;
        }, G.qsa = function(h, k) {
          var T, L = k[0] == "#", q = !L && k[0] == ".", H = L || q ? k.slice(1) : k, me = Di.test(H);
          return h.getElementById && me && L ? (T = h.getElementById(H)) ? [T] : [] : h.nodeType !== 1 && h.nodeType !== 9 && h.nodeType !== 11 ? [] : O.call(me && !L && h.getElementsByClassName ? q ? h.getElementsByClassName(H) : h.getElementsByTagName(k) : h.querySelectorAll(k));
        }, S.contains = U.documentElement.contains ? function(h, k) {
          return h !== k && h.contains(k);
        } : function(h, k) {
          for (; k && (k = k.parentNode); )
            if (k === h)
              return !0;
          return !1;
        }, S.type = n, S.isFunction = o, S.isWindow = r, S.isArray = qe, S.isPlainObject = a, S.isEmptyObject = function(h) {
          var k;
          for (k in h)
            return !1;
          return !0;
        }, S.isNumeric = function(h) {
          var k = Number(h), T = typeof h;
          return h != null && T != "boolean" && (T != "string" || h.length) && !isNaN(k) && isFinite(k) || !1;
        }, S.inArray = function(h, k, T) {
          return M.indexOf.call(k, h, T);
        }, S.camelCase = x, S.trim = function(h) {
          return h == null ? "" : String.prototype.trim.call(h);
        }, S.uuid = 0, S.support = {}, S.expr = {}, S.noop = function() {
        }, S.map = function(h, k) {
          var T, L, q, H = [];
          if (i(h))
            for (L = 0; L < h.length; L++)
              T = k(h[L], L), T != null && H.push(T);
          else
            for (q in h)
              T = k(h[q], q), T != null && H.push(T);
          return u(H);
        }, S.each = function(h, k) {
          var T, L;
          if (i(h)) {
            for (T = 0; T < h.length; T++)
              if (k.call(h[T], T, h[T]) === !1)
                return h;
          } else
            for (L in h)
              if (k.call(h[L], L, h[L]) === !1)
                return h;
          return h;
        }, S.grep = function(h, k) {
          return I.call(h, k);
        }, e.JSON && (S.parseJSON = JSON.parse), S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(h, k) {
          Qt["[object " + k + "]"] = k.toLowerCase();
        }), S.fn = { constructor: G.Z, length: 0, forEach: M.forEach, reduce: M.reduce, push: M.push, sort: M.sort, splice: M.splice, indexOf: M.indexOf, concat: function() {
          var h, k, T = [];
          for (h = 0; h < arguments.length; h++)
            k = arguments[h], T[h] = G.isZ(k) ? k.toArray() : k;
          return F.apply(G.isZ(this) ? this.toArray() : this, T);
        }, map: function(h) {
          return S(S.map(this, function(k, T) {
            return h.call(k, T, k);
          }));
        }, slice: function() {
          return S(O.apply(this, arguments));
        }, ready: function(h) {
          if (U.readyState === "complete" || U.readyState !== "loading" && !U.documentElement.doScroll)
            setTimeout(function() {
              h(S);
            }, 0);
          else {
            var k = function() {
              U.removeEventListener("DOMContentLoaded", k, !1), e.removeEventListener("load", k, !1), h(S);
            };
            U.addEventListener("DOMContentLoaded", k, !1), e.addEventListener("load", k, !1);
          }
          return this;
        }, get: function(h) {
          return h === R ? O.call(this) : this[h >= 0 ? h : h + this.length];
        }, toArray: function() {
          return this.get();
        }, size: function() {
          return this.length;
        }, remove: function() {
          return this.each(function() {
            this.parentNode != null && this.parentNode.removeChild(this);
          });
        }, each: function(h) {
          return M.every.call(this, function(k, T) {
            return h.call(k, T, k) !== !1;
          }), this;
        }, filter: function(h) {
          return o(h) ? this.not(this.not(h)) : S(I.call(this, function(k) {
            return G.matches(k, h);
          }));
        }, add: function(h, k) {
          return S(_(this.concat(S(h, k))));
        }, is: function(h) {
          return typeof h == "string" ? this.length > 0 && G.matches(this[0], h) : h && this.selector == h.selector;
        }, not: function(h) {
          var k = [];
          if (o(h) && h.call !== R)
            this.each(function(L) {
              h.call(this, L) || k.push(this);
            });
          else {
            var T = typeof h == "string" ? this.filter(h) : i(h) && o(h.item) ? O.call(h) : S(h);
            this.forEach(function(L) {
              T.indexOf(L) < 0 && k.push(L);
            });
          }
          return S(k);
        }, has: function(h) {
          return this.filter(function() {
            return c(h) ? S.contains(this, h) : S(this).find(h).size();
          });
        }, eq: function(h) {
          return h === -1 ? this.slice(h) : this.slice(h, +h + 1);
        }, first: function() {
          var h = this[0];
          return h && !c(h) ? h : S(h);
        }, last: function() {
          var h = this[this.length - 1];
          return h && !c(h) ? h : S(h);
        }, find: function(h) {
          var k = this;
          return h ? typeof h == "object" ? S(h).filter(function() {
            var T = this;
            return M.some.call(k, function(L) {
              return S.contains(L, T);
            });
          }) : this.length == 1 ? S(G.qsa(this[0], h)) : this.map(function() {
            return G.qsa(this, h);
          }) : S();
        }, closest: function(h, k) {
          var T = [], L = typeof h == "object" && S(h);
          return this.each(function(q, H) {
            for (; H && !(L ? L.indexOf(H) >= 0 : G.matches(H, h)); )
              H = H !== k && !s(H) && H.parentNode;
            H && T.indexOf(H) < 0 && T.push(H);
          }), S(T);
        }, parents: function(h) {
          for (var k = [], T = this; T.length > 0; )
            T = S.map(T, function(L) {
              return (L = L.parentNode) && !s(L) && k.indexOf(L) < 0 ? (k.push(L), L) : void 0;
            });
          return C(k, h);
        }, parent: function(h) {
          return C(_(this.pluck("parentNode")), h);
        }, children: function(h) {
          return C(this.map(function() {
            return g(this);
          }), h);
        }, contents: function() {
          return this.map(function() {
            return this.contentDocument || O.call(this.childNodes);
          });
        }, siblings: function(h) {
          return C(this.map(function(k, T) {
            return I.call(g(T.parentNode), function(L) {
              return L !== T;
            });
          }), h);
        }, empty: function() {
          return this.each(function() {
            this.innerHTML = "";
          });
        }, pluck: function(h) {
          return S.map(this, function(k) {
            return k[h];
          });
        }, show: function() {
          return this.each(function() {
            this.style.display == "none" && (this.style.display = ""), getComputedStyle(this, "").getPropertyValue("display") == "none" && (this.style.display = m(this.nodeName));
          });
        }, replaceWith: function(h) {
          return this.before(h).remove();
        }, wrap: function(h) {
          var k = o(h);
          if (this[0] && !k)
            var T = S(h).get(0), L = T.parentNode || this.length > 1;
          return this.each(function(q) {
            S(this).wrapAll(k ? h.call(this, q) : L ? T.cloneNode(!0) : T);
          });
        }, wrapAll: function(h) {
          if (this[0]) {
            S(this[0]).before(h = S(h));
            for (var k; (k = h.children()).length; )
              h = k.first();
            S(h).append(this);
          }
          return this;
        }, wrapInner: function(h) {
          var k = o(h);
          return this.each(function(T) {
            var L = S(this), q = L.contents(), H = k ? h.call(this, T) : h;
            q.length ? q.wrapAll(H) : L.append(H);
          });
        }, unwrap: function() {
          return this.parent().each(function() {
            S(this).replaceWith(S(this).children());
          }), this;
        }, clone: function() {
          return this.map(function() {
            return this.cloneNode(!0);
          });
        }, hide: function() {
          return this.css("display", "none");
        }, toggle: function(h) {
          return this.each(function() {
            var k = S(this);
            (h === R ? k.css("display") == "none" : h) ? k.show() : k.hide();
          });
        }, prev: function(h) {
          return S(this.pluck("previousElementSibling")).filter(h || "*");
        }, next: function(h) {
          return S(this.pluck("nextElementSibling")).filter(h || "*");
        }, html: function(h) {
          return 0 in arguments ? this.each(function(k) {
            var T = this.innerHTML;
            S(this).empty().append(D(this, h, k, T));
          }) : 0 in this ? this[0].innerHTML : null;
        }, text: function(h) {
          return 0 in arguments ? this.each(function(k) {
            var T = D(this, h, k, this.textContent);
            this.textContent = T == null ? "" : "" + T;
          }) : 0 in this ? this.pluck("textContent").join("") : null;
        }, attr: function(h, k) {
          var T;
          return typeof h != "string" || 1 in arguments ? this.each(function(L) {
            if (this.nodeType === 1)
              if (c(h))
                for (E in h)
                  A(this, E, h[E]);
              else
                A(this, h, D(this, k, L, this.getAttribute(h)));
          }) : 0 in this && this[0].nodeType == 1 && (T = this[0].getAttribute(h)) != null ? T : R;
        }, removeAttr: function(h) {
          return this.each(function() {
            this.nodeType === 1 && h.split(" ").forEach(function(k) {
              A(this, k);
            }, this);
          });
        }, prop: function(h, k) {
          return h = Yt[h] || h, typeof h != "string" || 1 in arguments ? this.each(function(T) {
            if (c(h))
              for (E in h)
                this[Yt[E] || E] = h[E];
            else
              this[h] = D(this, k, T, this[h]);
          }) : this[0] && this[0][h];
        }, removeProp: function(h) {
          return h = Yt[h] || h, this.each(function() {
            delete this[h];
          });
        }, data: function(h, k) {
          var T = "data-" + h.replace(Q, "-$1").toLowerCase(), L = 1 in arguments ? this.attr(T, k) : this.attr(T);
          return L !== null ? B(L) : R;
        }, val: function(h) {
          return 0 in arguments ? (h == null && (h = ""), this.each(function(k) {
            this.value = D(this, h, k, this.value);
          })) : this[0] && (this[0].multiple ? S(this[0]).find("option").filter(function() {
            return this.selected;
          }).pluck("value") : this[0].value);
        }, offset: function(h) {
          if (h)
            return this.each(function(T) {
              var L = S(this), q = D(this, h, T, L.offset()), H = L.offsetParent().offset(), me = { top: q.top - H.top, left: q.left - H.left };
              L.css("position") == "static" && (me.position = "relative"), L.css(me);
            });
          if (!this.length)
            return null;
          if (U.documentElement !== this[0] && !S.contains(U.documentElement, this[0]))
            return { top: 0, left: 0 };
          var k = this[0].getBoundingClientRect();
          return { left: k.left + e.pageXOffset, top: k.top + e.pageYOffset, width: Math.round(k.width), height: Math.round(k.height) };
        }, css: function(h, k) {
          if (arguments.length < 2) {
            var T = this[0];
            if (typeof h == "string")
              return T ? T.style[x(h)] || getComputedStyle(T, "").getPropertyValue(h) : void 0;
            if (qe(h)) {
              if (!T)
                return;
              var L = {}, q = getComputedStyle(T, "");
              return S.each(h, function(me, fe) {
                L[fe] = T.style[x(fe)] || q.getPropertyValue(fe);
              }), L;
            }
          }
          var H = "";
          if (n(h) == "string")
            k || k === 0 ? H = l(h) + ":" + p(h, k) : this.each(function() {
              this.style.removeProperty(l(h));
            });
          else
            for (E in h)
              h[E] || h[E] === 0 ? H += l(E) + ":" + p(E, h[E]) + ";" : this.each(function() {
                this.style.removeProperty(l(E));
              });
          return this.each(function() {
            this.style.cssText += ";" + H;
          });
        }, index: function(h) {
          return h ? this.indexOf(S(h)[0]) : this.parent().children().indexOf(this[0]);
        }, hasClass: function(h) {
          return h ? M.some.call(this, function(k) {
            return this.test(N(k));
          }, f(h)) : !1;
        }, addClass: function(h) {
          return h ? this.each(function(k) {
            if ("className" in this) {
              w = [];
              var T = N(this), L = D(this, h, k, T);
              L.split(/\s+/g).forEach(function(q) {
                S(this).hasClass(q) || w.push(q);
              }, this), w.length && N(this, T + (T ? " " : "") + w.join(" "));
            }
          }) : this;
        }, removeClass: function(h) {
          return this.each(function(k) {
            if ("className" in this) {
              if (h === R)
                return N(this, "");
              w = N(this), D(this, h, k, w).split(/\s+/g).forEach(function(T) {
                w = w.replace(f(T), " ");
              }), N(this, w.trim());
            }
          });
        }, toggleClass: function(h, k) {
          return h ? this.each(function(T) {
            var L = S(this), q = D(this, h, T, N(this));
            q.split(/\s+/g).forEach(function(H) {
              (k === R ? !L.hasClass(H) : k) ? L.addClass(H) : L.removeClass(H);
            });
          }) : this;
        }, scrollTop: function(h) {
          if (this.length) {
            var k = "scrollTop" in this[0];
            return h === R ? k ? this[0].scrollTop : this[0].pageYOffset : this.each(k ? function() {
              this.scrollTop = h;
            } : function() {
              this.scrollTo(this.scrollX, h);
            });
          }
        }, scrollLeft: function(h) {
          if (this.length) {
            var k = "scrollLeft" in this[0];
            return h === R ? k ? this[0].scrollLeft : this[0].pageXOffset : this.each(k ? function() {
              this.scrollLeft = h;
            } : function() {
              this.scrollTo(h, this.scrollY);
            });
          }
        }, position: function() {
          if (this.length) {
            var h = this[0], k = this.offsetParent(), T = this.offset(), L = Y.test(k[0].nodeName) ? { top: 0, left: 0 } : k.offset();
            return T.top -= parseFloat(S(h).css("margin-top")) || 0, T.left -= parseFloat(S(h).css("margin-left")) || 0, L.top += parseFloat(S(k[0]).css("border-top-width")) || 0, L.left += parseFloat(S(k[0]).css("border-left-width")) || 0, { top: T.top - L.top, left: T.left - L.left };
          }
        }, offsetParent: function() {
          return this.map(function() {
            for (var h = this.offsetParent || U.body; h && !Y.test(h.nodeName) && S(h).css("position") == "static"; )
              h = h.offsetParent;
            return h;
          });
        } }, S.fn.detach = S.fn.remove, ["width", "height"].forEach(function(h) {
          var k = h.replace(/./, function(T) {
            return T[0].toUpperCase();
          });
          S.fn[h] = function(T) {
            var L, q = this[0];
            return T === R ? r(q) ? q["inner" + k] : s(q) ? q.documentElement["scroll" + k] : (L = this.offset()) && L[h] : this.each(function(H) {
              q = S(this), q.css(h, D(this, T, H, q[h]()));
            });
          };
        }), Fe.forEach(function(h, k) {
          var T = k % 2;
          S.fn[h] = function() {
            var L, q, H = S.map(arguments, function(fe) {
              var ue = [];
              return L = n(fe), L == "array" ? (fe.forEach(function(Ue) {
                return Ue.nodeType !== R ? ue.push(Ue) : S.zepto.isZ(Ue) ? ue = ue.concat(Ue.get()) : void (ue = ue.concat(G.fragment(Ue)));
              }), ue) : L == "object" || fe == null ? fe : G.fragment(fe);
            }), me = this.length > 1;
            return H.length < 1 ? this : this.each(function(fe, ue) {
              q = T ? ue : ue.parentNode, ue = k == 0 ? ue.nextSibling : k == 1 ? ue.firstChild : k == 2 ? ue : null;
              var Ue = S.contains(U.documentElement, q);
              H.forEach(function(ut) {
                if (me)
                  ut = ut.cloneNode(!0);
                else if (!q)
                  return S(ut).remove();
                q.insertBefore(ut, ue), Ue && j(ut, function(Ne) {
                  if (!(Ne.nodeName == null || Ne.nodeName.toUpperCase() !== "SCRIPT" || Ne.type && Ne.type !== "text/javascript" || Ne.src)) {
                    var Hn = Ne.ownerDocument ? Ne.ownerDocument.defaultView : e;
                    Hn.eval.call(Hn, Ne.innerHTML);
                  }
                });
              });
            });
          }, S.fn[T ? h + "To" : "insert" + (k ? "Before" : "After")] = function(L) {
            return S(L)[h](this), this;
          };
        }), G.Z.prototype = y.prototype = S.fn, G.uniq = _, G.deserializeValue = B, S.zepto = G, S;
      }();
      return e.Zepto = t, e.$ === void 0 && (e.$ = t), function(n) {
        function o(w) {
          return w._zid || (w._zid = m++);
        }
        function r(w, x, _, M) {
          if (x = s(x), x.ns)
            var F = c(x.ns);
          return (C[o(w)] || []).filter(function(I) {
            return I && (!x.e || I.e == x.e) && (!x.ns || F.test(I.ns)) && (!_ || o(I.fn) === o(_)) && (!M || I.sel == M);
          });
        }
        function s(w) {
          var x = ("" + w).split(".");
          return { e: x[0], ns: x.slice(1).sort().join(" ") };
        }
        function c(w) {
          return new RegExp("(?:^| )" + w.replace(" ", " .* ?") + "(?: |$)");
        }
        function a(w, x) {
          return w.del && !A && w.e in N || !!x;
        }
        function i(w) {
          return B[w] || A && N[w] || w;
        }
        function d(w, x, _, M, F, I, O) {
          var U = o(w), W = C[U] || (C[U] = []);
          x.split(/\s/).forEach(function(z) {
            if (z == "ready")
              return n(document).ready(_);
            var V = s(z);
            V.fn = _, V.sel = F, V.e in B && (_ = function(K) {
              var ae = K.relatedTarget;
              return !ae || ae !== this && !n.contains(this, ae) ? V.fn.apply(this, arguments) : void 0;
            }), V.del = I;
            var te = I || _;
            V.proxy = function(K) {
              if (K = l(K), !K.isImmediatePropagationStopped()) {
                K.data = M;
                var ae = te.apply(w, K._args == p ? [K] : [K].concat(K._args));
                return ae === !1 && (K.preventDefault(), K.stopPropagation()), ae;
              }
            }, V.i = W.length, W.push(V), "addEventListener" in w && w.addEventListener(i(V.e), V.proxy, a(V, O));
          });
        }
        function u(w, x, _, M, F) {
          var I = o(w);
          (x || "").split(/\s/).forEach(function(O) {
            r(w, O, _, M).forEach(function(U) {
              delete C[I][U.i], "removeEventListener" in w && w.removeEventListener(i(U.e), U.proxy, a(U, F));
            });
          });
        }
        function l(w, x) {
          if (x || !w.isDefaultPrevented) {
            x || (x = w), n.each(S, function(_, M) {
              var F = x[_];
              w[_] = function() {
                return this[M] = j, F && F.apply(x, arguments);
              }, w[M] = R;
            });
            try {
              w.timeStamp || (w.timeStamp = Date.now());
            } catch {
            }
            (x.defaultPrevented !== p ? x.defaultPrevented : "returnValue" in x ? x.returnValue === !1 : x.getPreventDefault && x.getPreventDefault()) && (w.isDefaultPrevented = j);
          }
          return w;
        }
        function f(w) {
          var x, _ = { originalEvent: w };
          for (x in w)
            E.test(x) || w[x] === p || (_[x] = w[x]);
          return l(_, w);
        }
        var p, m = 1, g = Array.prototype.slice, y = n.isFunction, b = function(w) {
          return typeof w == "string";
        }, C = {}, D = {}, A = "onfocusin" in e, N = { focus: "focusin", blur: "focusout" }, B = { mouseenter: "mouseover", mouseleave: "mouseout" };
        D.click = D.mousedown = D.mouseup = D.mousemove = "MouseEvents", n.event = { add: d, remove: u }, n.proxy = function(w, x) {
          var _ = 2 in arguments && g.call(arguments, 2);
          if (y(w)) {
            var M = function() {
              return w.apply(x, _ ? _.concat(g.call(arguments)) : arguments);
            };
            return M._zid = o(w), M;
          }
          if (b(x))
            return _ ? (_.unshift(w[x], w), n.proxy.apply(null, _)) : n.proxy(w[x], w);
          throw new TypeError("expected function");
        }, n.fn.bind = function(w, x, _) {
          return this.on(w, x, _);
        }, n.fn.unbind = function(w, x) {
          return this.off(w, x);
        }, n.fn.one = function(w, x, _, M) {
          return this.on(w, x, _, M, 1);
        };
        var j = function() {
          return !0;
        }, R = function() {
          return !1;
        }, E = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/, S = { preventDefault: "isDefaultPrevented", stopImmediatePropagation: "isImmediatePropagationStopped", stopPropagation: "isPropagationStopped" };
        n.fn.delegate = function(w, x, _) {
          return this.on(x, w, _);
        }, n.fn.undelegate = function(w, x, _) {
          return this.off(x, w, _);
        }, n.fn.live = function(w, x) {
          return n(document.body).delegate(this.selector, w, x), this;
        }, n.fn.die = function(w, x) {
          return n(document.body).undelegate(this.selector, w, x), this;
        }, n.fn.on = function(w, x, _, M, F) {
          var I, O, U = this;
          return w && !b(w) ? (n.each(w, function(W, z) {
            U.on(W, x, _, z, F);
          }), U) : (b(x) || y(M) || M === !1 || (M = _, _ = x, x = p), (M === p || _ === !1) && (M = _, _ = p), M === !1 && (M = R), U.each(function(W, z) {
            F && (I = function(V) {
              return u(z, V.type, M), M.apply(this, arguments);
            }), x && (O = function(V) {
              var te, K = n(V.target).closest(x, z).get(0);
              return K && K !== z ? (te = n.extend(f(V), { currentTarget: K, liveFired: z }), (I || M).apply(K, [te].concat(g.call(arguments, 1)))) : void 0;
            }), d(z, w, M, _, x, O || I);
          }));
        }, n.fn.off = function(w, x, _) {
          var M = this;
          return w && !b(w) ? (n.each(w, function(F, I) {
            M.off(F, x, I);
          }), M) : (b(x) || y(_) || _ === !1 || (_ = x, x = p), _ === !1 && (_ = R), M.each(function() {
            u(this, w, _, x);
          }));
        }, n.fn.trigger = function(w, x) {
          return w = b(w) || n.isPlainObject(w) ? n.Event(w) : l(w), w._args = x, this.each(function() {
            w.type in N && typeof this[w.type] == "function" ? this[w.type]() : "dispatchEvent" in this ? this.dispatchEvent(w) : n(this).triggerHandler(w, x);
          });
        }, n.fn.triggerHandler = function(w, x) {
          var _, M;
          return this.each(function(F, I) {
            _ = f(b(w) ? n.Event(w) : w), _._args = x, _.target = I, n.each(r(I, w.type || w), function(O, U) {
              return M = U.proxy(_), _.isImmediatePropagationStopped() ? !1 : void 0;
            });
          }), M;
        }, "focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(w) {
          n.fn[w] = function(x) {
            return 0 in arguments ? this.bind(w, x) : this.trigger(w);
          };
        }), n.Event = function(w, x) {
          b(w) || (x = w, w = x.type);
          var _ = document.createEvent(D[w] || "Events"), M = !0;
          if (x)
            for (var F in x)
              F == "bubbles" ? M = !!x[F] : _[F] = x[F];
          return _.initEvent(w, M, !0), l(_);
        };
      }(t), function(n) {
        function o(s) {
          var c = [["resolve", "done", n.Callbacks({ once: 1, memory: 1 }), "resolved"], ["reject", "fail", n.Callbacks({ once: 1, memory: 1 }), "rejected"], ["notify", "progress", n.Callbacks({ memory: 1 })]], a = "pending", i = { state: function() {
            return a;
          }, always: function() {
            return d.done(arguments).fail(arguments), this;
          }, then: function() {
            var u = arguments;
            return o(function(l) {
              n.each(c, function(f, p) {
                var m = n.isFunction(u[f]) && u[f];
                d[p[1]](function() {
                  var g = m && m.apply(this, arguments);
                  if (g && n.isFunction(g.promise))
                    g.promise().done(l.resolve).fail(l.reject).progress(l.notify);
                  else {
                    var y = this === i ? l.promise() : this, b = m ? [g] : arguments;
                    l[p[0] + "With"](y, b);
                  }
                });
              }), u = null;
            }).promise();
          }, promise: function(u) {
            return u != null ? n.extend(u, i) : i;
          } }, d = {};
          return n.each(c, function(u, l) {
            var f = l[2], p = l[3];
            i[l[1]] = f.add, p && f.add(function() {
              a = p;
            }, c[1 ^ u][2].disable, c[2][2].lock), d[l[0]] = function() {
              return d[l[0] + "With"](this === d ? i : this, arguments), this;
            }, d[l[0] + "With"] = f.fireWith;
          }), i.promise(d), s && s.call(d, d), d;
        }
        var r = Array.prototype.slice;
        n.when = function(s) {
          var c, a, i, d = r.call(arguments), u = d.length, l = 0, f = u !== 1 || s && n.isFunction(s.promise) ? u : 0, p = f === 1 ? s : o(), m = function(g, y, b) {
            return function(C) {
              y[g] = this, b[g] = arguments.length > 1 ? r.call(arguments) : C, b === c ? p.notifyWith(y, b) : --f || p.resolveWith(y, b);
            };
          };
          if (u > 1)
            for (c = new Array(u), a = new Array(u), i = new Array(u); u > l; ++l)
              d[l] && n.isFunction(d[l].promise) ? d[l].promise().done(m(l, i, d)).fail(p.reject).progress(m(l, a, c)) : --f;
          return f || p.resolveWith(i, d), p.promise();
        }, n.Deferred = o;
      }(t), function(n) {
        n.Callbacks = function(o) {
          o = n.extend({}, o);
          var r, s, c, a, i, d, u = [], l = !o.once && [], f = function(m) {
            for (r = o.memory && m, s = !0, d = a || 0, a = 0, i = u.length, c = !0; u && i > d; ++d)
              if (u[d].apply(m[0], m[1]) === !1 && o.stopOnFalse) {
                r = !1;
                break;
              }
            c = !1, u && (l ? l.length && f(l.shift()) : r ? u.length = 0 : p.disable());
          }, p = { add: function() {
            if (u) {
              var m = u.length, g = function(y) {
                n.each(y, function(b, C) {
                  typeof C == "function" ? o.unique && p.has(C) || u.push(C) : C && C.length && typeof C != "string" && g(C);
                });
              };
              g(arguments), c ? i = u.length : r && (a = m, f(r));
            }
            return this;
          }, remove: function() {
            return u && n.each(arguments, function(m, g) {
              for (var y; (y = n.inArray(g, u, y)) > -1; )
                u.splice(y, 1), c && (i >= y && --i, d >= y && --d);
            }), this;
          }, has: function(m) {
            return !(!u || !(m ? n.inArray(m, u) > -1 : u.length));
          }, empty: function() {
            return i = u.length = 0, this;
          }, disable: function() {
            return u = l = r = void 0, this;
          }, disabled: function() {
            return !u;
          }, lock: function() {
            return l = void 0, r || p.disable(), this;
          }, locked: function() {
            return !l;
          }, fireWith: function(m, g) {
            return !u || s && !l || (g = g || [], g = [m, g.slice ? g.slice() : g], c ? l.push(g) : f(g)), this;
          }, fire: function() {
            return p.fireWith(this, arguments);
          }, fired: function() {
            return !!s;
          } };
          return p;
        };
      }(t), t;
    }), function(e, t) {
      var n, o = {}, r = function(u, l) {
        var f, p, m;
        if (typeof u == "string")
          return a(u);
        for (f = [], p = u.length, m = 0; p > m; m++)
          f.push(a(u[m]));
        return l.apply(null, f);
      }, s = function(u, l, f) {
        arguments.length === 2 && (f = l, l = null), r(l || [], function() {
          c(u, f, arguments);
        });
      }, c = function(u, l, f) {
        var p, m = { exports: l };
        typeof l == "function" && (f.length || (f = [r, m.exports, m]), p = l.apply(null, f), p !== void 0 && (m.exports = p)), o[u] = m.exports;
      }, a = function(u) {
        var l = o[u] || e[u];
        if (!l)
          throw new Error("`" + u + "` is undefined");
        return l;
      }, i = function(u) {
        var l, f, p, m, g, y;
        y = function(b) {
          return b && b.charAt(0).toUpperCase() + b.substr(1);
        };
        for (l in o)
          if (f = u, o.hasOwnProperty(l)) {
            for (p = l.split("/"), g = y(p.pop()); m = y(p.shift()); )
              f[m] = f[m] || {}, f = f[m];
            f[g] = o[l];
          }
        return u;
      }, d = function(u) {
        return e.__dollar = u, i(t(e, s, r));
      };
      n = e.WebUploader, e.WebUploader = d(), e.WebUploader.noConflict = function() {
        e.WebUploader = n;
      };
    }(window, function(e, t, n) {
      return t("dollar-third", [], function() {
        var o = e.require, r = e.__dollar || e.jQuery || e.Zepto || o("jquery") || o("zepto");
        if (!r)
          throw new Error("jQuery or Zepto not found!");
        return r;
      }), t("dollar", ["dollar-third"], function(o) {
        return o;
      }), t("promise-third", ["dollar"], function(o) {
        return { Deferred: o.Deferred, when: o.when, isPromise: function(r) {
          return r && typeof r.then == "function";
        } };
      }), t("promise", ["promise-third"], function(o) {
        return o;
      }), t("base", ["dollar", "promise"], function(o, r) {
        function s(u) {
          return function() {
            return d.apply(u, arguments);
          };
        }
        function c(u, l) {
          return function() {
            return u.apply(l, arguments);
          };
        }
        function a(u) {
          var l;
          return Object.create ? Object.create(u) : (l = function() {
          }, l.prototype = u, new l());
        }
        var i = function() {
        }, d = Function.call;
        return { version: "0.1.8-alpha", $: o, Deferred: r.Deferred, isPromise: r.isPromise, when: r.when, browser: function(u) {
          var l = {}, f = u.match(/WebKit\/([\d.]+)/), p = u.match(/Chrome\/([\d.]+)/) || u.match(/CriOS\/([\d.]+)/), m = u.match(/MSIE\s([\d\.]+)/) || u.match(/(?:trident)(?:.*rv:([\w.]+))?/i), g = u.match(/Firefox\/([\d.]+)/), y = u.match(/Safari\/([\d.]+)/), b = u.match(/OPR\/([\d.]+)/);
          return f && (l.webkit = parseFloat(f[1])), p && (l.chrome = parseFloat(p[1])), m && (l.ie = parseFloat(m[1])), g && (l.firefox = parseFloat(g[1])), y && (l.safari = parseFloat(y[1])), b && (l.opera = parseFloat(b[1])), l;
        }(navigator.userAgent), os: function(u) {
          var l = {}, f = u.match(/(?:Android);?[\s\/]+([\d.]+)?/), p = u.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);
          return f && (l.android = parseFloat(f[1])), p && (l.ios = parseFloat(p[1].replace(/_/g, "."))), l;
        }(navigator.userAgent), inherits: function(u, l, f) {
          var p;
          return typeof l == "function" ? (p = l, l = null) : p = l && l.hasOwnProperty("constructor") ? l.constructor : function() {
            return u.apply(this, arguments);
          }, o.extend(!0, p, u, f || {}), p.__super__ = u.prototype, p.prototype = a(u.prototype), l && o.extend(!0, p.prototype, l), p;
        }, noop: i, bindFn: c, log: function() {
          return e.console ? c(console.log, console) : i;
        }(), nextTick: function() {
          return function(u) {
            setTimeout(u, 1);
          };
        }(), slice: s([].slice), guid: function() {
          var u = 0;
          return function(l) {
            for (var f = (+new Date()).toString(32), p = 0; 5 > p; p++)
              f += Math.floor(65535 * Math.random()).toString(32);
            return (l || "wu_") + f + (u++).toString(32);
          };
        }(), formatSize: function(u, l, f) {
          var p;
          for (f = f || ["B", "K", "M", "G", "TB"]; (p = f.shift()) && u > 1024; )
            u /= 1024;
          return (p === "B" ? u : u.toFixed(l || 2)) + p;
        } };
      }), t("mediator", ["base"], function(o) {
        function r(l, f, p, m) {
          return i.grep(l, function(g) {
            return !(!g || f && g.e !== f || p && g.cb !== p && g.cb._cb !== p || m && g.ctx !== m);
          });
        }
        function s(l, f, p) {
          i.each((l || "").split(u), function(m, g) {
            p(g, f);
          });
        }
        function c(l, f) {
          for (var p, m = !1, g = -1, y = l.length; ++g < y; )
            if (p = l[g], p.cb.apply(p.ctx2, f) === !1) {
              m = !0;
              break;
            }
          return !m;
        }
        var a, i = o.$, d = [].slice, u = /\s+/;
        return a = { on: function(l, f, p) {
          var m, g = this;
          return f ? (m = this._events || (this._events = []), s(l, f, function(y, b) {
            var C = { e: y };
            C.cb = b, C.ctx = p, C.ctx2 = p || g, C.id = m.length, m.push(C);
          }), this) : this;
        }, once: function(l, f, p) {
          var m = this;
          return f && s(l, f, function(g, y) {
            var b = function() {
              return m.off(g, b), y.apply(p || m, arguments);
            };
            b._cb = y, m.on(g, b, p);
          }), m;
        }, off: function(l, f, p) {
          var m = this._events;
          return m ? l || f || p ? (s(l, f, function(g, y) {
            i.each(r(m, g, y, p), function() {
              delete m[this.id];
            });
          }), this) : (this._events = [], this) : this;
        }, trigger: function(l) {
          var f, p, m;
          return this._events && l ? (f = d.call(arguments, 1), p = r(this._events, l), m = r(this._events, "all"), c(p, f) && c(m, arguments)) : this;
        } }, i.extend({ installTo: function(l) {
          return i.extend(l, a);
        } }, a);
      }), t("uploader", ["base", "mediator"], function(o, r) {
        function s(a) {
          this.options = c.extend(!0, {}, s.options, a), this._init(this.options);
        }
        var c = o.$;
        return s.options = {}, r.installTo(s.prototype), c.each({ upload: "start-upload", stop: "stop-upload", getFile: "get-file", getFiles: "get-files", addFile: "add-file", addFiles: "add-file", sort: "sort-files", removeFile: "remove-file", cancelFile: "cancel-file", skipFile: "skip-file", retry: "retry", isInProgress: "is-in-progress", makeThumb: "make-thumb", md5File: "md5-file", getDimension: "get-dimension", addButton: "add-btn", predictRuntimeType: "predict-runtime-type", refresh: "refresh", disable: "disable", enable: "enable", reset: "reset" }, function(a, i) {
          s.prototype[a] = function() {
            return this.request(i, arguments);
          };
        }), c.extend(s.prototype, { state: "pending", _init: function(a) {
          var i = this;
          i.request("init", a, function() {
            i.state = "ready", i.trigger("ready");
          });
        }, option: function(a, i) {
          var d = this.options;
          return arguments.length > 1 ? void (c.isPlainObject(i) && c.isPlainObject(d[a]) ? c.extend(d[a], i) : d[a] = i) : a ? d[a] : d;
        }, getStats: function() {
          var a = this.request("get-stats");
          return a ? { successNum: a.numOfSuccess, progressNum: a.numOfProgress, cancelNum: a.numOfCancel, invalidNum: a.numOfInvalid, uploadFailNum: a.numOfUploadFailed, queueNum: a.numOfQueue, interruptNum: a.numOfInterrupt } : {};
        }, trigger: function(a) {
          var i = [].slice.call(arguments, 1), d = this.options, u = "on" + a.substring(0, 1).toUpperCase() + a.substring(1);
          return !(r.trigger.apply(this, arguments) === !1 || c.isFunction(d[u]) && d[u].apply(this, i) === !1 || c.isFunction(this[u]) && this[u].apply(this, i) === !1 || r.trigger.apply(r, [this, a].concat(i)) === !1);
        }, destroy: function() {
          this.request("destroy", arguments), this.off();
        }, request: o.noop }), o.create = s.create = function(a) {
          return new s(a);
        }, o.Uploader = s, s;
      }), t("runtime/runtime", ["base", "mediator"], function(o, r) {
        function s(d) {
          this.options = c.extend({ container: document.body }, d), this.uid = o.guid("rt_");
        }
        var c = o.$, a = {}, i = function(d) {
          for (var u in d)
            if (d.hasOwnProperty(u))
              return u;
          return null;
        };
        return c.extend(s.prototype, { getContainer: function() {
          var d, u, l = this.options;
          return this._container ? this._container : (d = c(l.container || document.body), u = c(document.createElement("div")), u.attr("id", "rt_" + this.uid), u.css({ position: "absolute", top: "0px", left: "0px", width: "1px", height: "1px", overflow: "hidden", cursor: "pointer", lineHeight: "0" }), d.append(u), d.addClass("webuploader-container"), this._container = u, this._parent = d, u);
        }, init: o.noop, exec: o.noop, destroy: function() {
          this._container && this._container.remove(), this._parent && this._parent.removeClass("webuploader-container"), this.off();
        } }), s.orders = "html5,flash", s.addRuntime = function(d, u) {
          a[d] = u;
        }, s.hasRuntime = function(d) {
          return !!(d ? a[d] : i(a));
        }, s.create = function(d, u) {
          var l;
          if (u = u || s.orders, c.each(u.split(/\s*,\s*/g), function() {
            return a[this] ? (l = this, !1) : void 0;
          }), l = l || i(a), !l)
            throw new Error("Runtime Error");
          return new a[l](d);
        }, r.installTo(s.prototype), s;
      }), t("runtime/client", ["base", "mediator", "runtime/runtime"], function(o, r, s) {
        function c(i, d) {
          var u, l = o.Deferred();
          this.uid = o.guid("client_"), this.runtimeReady = function(f) {
            return l.done(f);
          }, this.connectRuntime = function(f, p) {
            if (u)
              throw new Error("already connected!");
            return l.done(p), typeof f == "string" && a.get(f) && (u = a.get(f)), u = u || a.get(null, d), u ? (o.$.extend(u.options, f), u.__promise.then(l.resolve), u.__client++) : (u = s.create(f, f.runtimeOrder), u.__promise = l.promise(), u.once("ready", l.resolve), u.init(), a.add(u), u.__client = 1), d && (u.__standalone = d), u;
          }, this.getRuntime = function() {
            return u;
          }, this.disconnectRuntime = function() {
            u && (u.__client--, u.__client <= 0 && (a.remove(u), delete u.__promise, u.destroy()), u = null);
          }, this.exec = function() {
            if (u) {
              var f = o.slice(arguments);
              return i && f.unshift(i), u.exec.apply(this, f);
            }
          }, this.getRuid = function() {
            return u && u.uid;
          }, this.destroy = function(f) {
            return function() {
              f && f.apply(this, arguments), this.trigger("destroy"), this.off(), this.exec("destroy"), this.disconnectRuntime();
            };
          }(this.destroy);
        }
        var a;
        return a = function() {
          var i = {};
          return { add: function(d) {
            i[d.uid] = d;
          }, get: function(d, u) {
            var l;
            if (d)
              return i[d];
            for (l in i)
              if (!u || !i[l].__standalone)
                return i[l];
            return null;
          }, remove: function(d) {
            delete i[d.uid];
          } };
        }(), r.installTo(c.prototype), c;
      }), t("lib/dnd", ["base", "mediator", "runtime/client"], function(o, r, s) {
        function c(i) {
          i = this.options = a.extend({}, c.options, i), i.container = a(i.container), i.container.length && s.call(this, "DragAndDrop");
        }
        var a = o.$;
        return c.options = { accept: null, disableGlobalDnd: !1 }, o.inherits(s, { constructor: c, init: function() {
          var i = this;
          i.connectRuntime(i.options, function() {
            i.exec("init"), i.trigger("ready");
          });
        } }), r.installTo(c.prototype), c;
      }), t("widgets/widget", ["base", "uploader"], function(o, r) {
        function s(f) {
          if (!f)
            return !1;
          var p = f.length, m = a.type(f);
          return f.nodeType === 1 && p ? !0 : m === "array" || m !== "function" && m !== "string" && (p === 0 || typeof p == "number" && p > 0 && p - 1 in f);
        }
        function c(f) {
          this.owner = f, this.options = f.options;
        }
        var a = o.$, i = r.prototype._init, d = r.prototype.destroy, u = {}, l = [];
        return a.extend(c.prototype, { init: o.noop, invoke: function(f, p) {
          var m = this.responseMap;
          return m && f in m && m[f] in this && a.isFunction(this[m[f]]) ? this[m[f]].apply(this, p) : u;
        }, request: function() {
          return this.owner.request.apply(this.owner, arguments);
        } }), a.extend(r.prototype, { _init: function() {
          var f = this, p = f._widgets = [], m = f.options.disableWidgets || "";
          return a.each(l, function(g, y) {
            (!m || !~m.indexOf(y._name)) && p.push(new y(f));
          }), i.apply(f, arguments);
        }, request: function(f, p, m) {
          var g, y, b, C, D = 0, A = this._widgets, N = A && A.length, B = [], j = [];
          for (p = s(p) ? p : [p]; N > D; D++)
            g = A[D], y = g.invoke(f, p), y !== u && (o.isPromise(y) ? j.push(y) : B.push(y));
          return m || j.length ? (b = o.when.apply(o, j), C = b.pipe ? "pipe" : "then", b[C](function() {
            var R = o.Deferred(), E = arguments;
            return E.length === 1 && (E = E[0]), setTimeout(function() {
              R.resolve(E);
            }, 1), R.promise();
          })[m ? C : "done"](m || o.noop)) : B[0];
        }, destroy: function() {
          d.apply(this, arguments), this._widgets = null;
        } }), r.register = c.register = function(f, p) {
          var m, g = { init: "init", destroy: "destroy", name: "anonymous" };
          return arguments.length === 1 ? (p = f, a.each(p, function(y) {
            return y[0] === "_" || y === "name" ? void (y === "name" && (g.name = p.name)) : void (g[y.replace(/[A-Z]/g, "-$&").toLowerCase()] = y);
          })) : g = a.extend(g, f), p.responseMap = g, m = o.inherits(c, p), m._name = g.name, l.push(m), m;
        }, r.unRegister = c.unRegister = function(f) {
          if (f && f !== "anonymous")
            for (var p = l.length; p--; )
              l[p]._name === f && l.splice(p, 1);
        }, c;
      }), t("widgets/filednd", ["base", "uploader", "lib/dnd", "widgets/widget"], function(o, r, s) {
        var c = o.$;
        return r.options.dnd = "", r.register({ name: "dnd", init: function(a) {
          if (a.dnd && this.request("predict-runtime-type") === "html5") {
            var i, d = this, u = o.Deferred(), l = c.extend({}, { disableGlobalDnd: a.disableGlobalDnd, container: a.dnd, accept: a.accept });
            return this.dnd = i = new s(l), i.once("ready", u.resolve), i.on("drop", function(f) {
              d.request("add-file", [f]);
            }), i.on("accept", function(f) {
              return d.owner.trigger("dndAccept", f);
            }), i.init(), u.promise();
          }
        }, destroy: function() {
          this.dnd && this.dnd.destroy();
        } });
      }), t("lib/filepaste", ["base", "mediator", "runtime/client"], function(o, r, s) {
        function c(i) {
          i = this.options = a.extend({}, i), i.container = a(i.container || document.body), s.call(this, "FilePaste");
        }
        var a = o.$;
        return o.inherits(s, { constructor: c, init: function() {
          var i = this;
          i.connectRuntime(i.options, function() {
            i.exec("init"), i.trigger("ready");
          });
        } }), r.installTo(c.prototype), c;
      }), t("widgets/filepaste", ["base", "uploader", "lib/filepaste", "widgets/widget"], function(o, r, s) {
        var c = o.$;
        return r.register({ name: "paste", init: function(a) {
          if (a.paste && this.request("predict-runtime-type") === "html5") {
            var i, d = this, u = o.Deferred(), l = c.extend({}, { container: a.paste, accept: a.accept });
            return this.paste = i = new s(l), i.once("ready", u.resolve), i.on("paste", function(f) {
              d.owner.request("add-file", [f]);
            }), i.init(), u.promise();
          }
        }, destroy: function() {
          this.paste && this.paste.destroy();
        } });
      }), t("lib/blob", ["base", "runtime/client"], function(o, r) {
        function s(c, a) {
          var i = this;
          i.source = a, i.ruid = c, this.size = a.size || 0, this.type = !a.type && this.ext && ~"jpg,jpeg,png,gif,bmp".indexOf(this.ext) ? "image/" + (this.ext === "jpg" ? "jpeg" : this.ext) : a.type || "application/octet-stream", r.call(i, "Blob"), this.uid = a.uid || this.uid, c && i.connectRuntime(c);
        }
        return o.inherits(r, { constructor: s, slice: function(c, a) {
          return this.exec("slice", c, a);
        }, getSource: function() {
          return this.source;
        } }), s;
      }), t("lib/file", ["base", "lib/blob"], function(o, r) {
        function s(i, d) {
          var u;
          this.name = d.name || "untitled" + c++, u = a.exec(d.name) ? RegExp.$1.toLowerCase() : "", !u && d.type && (u = /\/(jpg|jpeg|png|gif|bmp)$/i.exec(d.type) ? RegExp.$1.toLowerCase() : "", this.name += "." + u), this.ext = u, this.lastModifiedDate = d.lastModifiedDate || d.lastModified && new Date(d.lastModified).toLocaleString() || new Date().toLocaleString(), r.apply(this, arguments);
        }
        var c = 1, a = /\.([^.]+)$/;
        return o.inherits(r, s);
      }), t("lib/filepicker", ["base", "runtime/client", "lib/file"], function(o, r, s) {
        function c(i) {
          if (i = this.options = a.extend({}, c.options, i), i.container = a(i.id), !i.container.length)
            throw new Error("\u6309\u94AE\u6307\u5B9A\u9519\u8BEF");
          i.innerHTML = i.innerHTML || i.label || i.container.html() || "", i.button = a(i.button || document.createElement("div")), i.button.html(i.innerHTML), i.container.html(i.button), r.call(this, "FilePicker", !0);
        }
        var a = o.$;
        return c.options = { button: null, container: null, label: null, innerHTML: null, multiple: !0, accept: null, name: "file", style: "webuploader-pick" }, o.inherits(r, { constructor: c, init: function() {
          var i = this, d = i.options, u = d.button, l = d.style;
          l && u.addClass("webuploader-pick"), i.on("all", function(f) {
            var p;
            switch (f) {
              case "mouseenter":
                l && u.addClass("webuploader-pick-hover");
                break;
              case "mouseleave":
                l && u.removeClass("webuploader-pick-hover");
                break;
              case "change":
                p = i.exec("getFiles"), i.trigger("select", a.map(p, function(m) {
                  return m = new s(i.getRuid(), m), m._refer = d.container, m;
                }), d.container);
            }
          }), i.connectRuntime(d, function() {
            i.refresh(), i.exec("init", d), i.trigger("ready");
          }), this._resizeHandler = o.bindFn(this.refresh, this), a(e).on("resize", this._resizeHandler);
        }, refresh: function() {
          var i = this.getRuntime().getContainer(), d = this.options.button, u = d[0] && d[0].offsetWidth || d.outerWidth() || d.width(), l = d[0] && d[0].offsetHeight || d.outerHeight() || d.height(), f = d.offset();
          u && l && i.css({ bottom: "auto", right: "auto", width: u + "px", height: l + "px" }).offset(f);
        }, enable: function() {
          var i = this.options.button;
          i.removeClass("webuploader-pick-disable"), this.refresh();
        }, disable: function() {
          var i = this.options.button;
          this.getRuntime().getContainer().css({ top: "-99999px" }), i.addClass("webuploader-pick-disable");
        }, destroy: function() {
          var i = this.options.button;
          a(e).off("resize", this._resizeHandler), i.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick");
        } }), c;
      }), t("widgets/filepicker", ["base", "uploader", "lib/filepicker", "widgets/widget"], function(o, r, s) {
        var c = o.$;
        return c.extend(r.options, { pick: null, accept: null }), r.register({ name: "picker", init: function(a) {
          return this.pickers = [], a.pick && this.addBtn(a.pick);
        }, refresh: function() {
          c.each(this.pickers, function() {
            this.refresh();
          });
        }, addBtn: function(a) {
          var i = this, d = i.options, u = d.accept, l = [];
          return a ? (c.isPlainObject(a) || (a = { id: a }), c(a.id).each(function() {
            var f, p, m;
            m = o.Deferred(), f = c.extend({}, a, { accept: c.isPlainObject(u) ? [u] : u, swf: d.swf, runtimeOrder: d.runtimeOrder, id: this }), p = new s(f), p.once("ready", m.resolve), p.on("select", function(g) {
              i.owner.request("add-file", [g]);
            }), p.on("dialogopen", function() {
              i.owner.trigger("dialogOpen", p.button);
            }), p.init(), i.pickers.push(p), l.push(m.promise());
          }), o.when.apply(o, l)) : void 0;
        }, disable: function() {
          c.each(this.pickers, function() {
            this.disable();
          });
        }, enable: function() {
          c.each(this.pickers, function() {
            this.enable();
          });
        }, destroy: function() {
          c.each(this.pickers, function() {
            this.destroy();
          }), this.pickers = null;
        } });
      }), t("lib/image", ["base", "runtime/client", "lib/blob"], function(o, r, s) {
        function c(i) {
          this.options = a.extend({}, c.options, i), r.call(this, "Image"), this.on("load", function() {
            this._info = this.exec("info"), this._meta = this.exec("meta");
          });
        }
        var a = o.$;
        return c.options = { quality: 90, crop: !1, preserveHeaders: !1, allowMagnify: !1 }, o.inherits(r, { constructor: c, info: function(i) {
          return i ? (this._info = i, this) : this._info;
        }, meta: function(i) {
          return i ? (this._meta = i, this) : this._meta;
        }, loadFromBlob: function(i) {
          var d = this, u = i.getRuid();
          this.connectRuntime(u, function() {
            d.exec("init", d.options), d.exec("loadFromBlob", i);
          });
        }, resize: function() {
          var i = o.slice(arguments);
          return this.exec.apply(this, ["resize"].concat(i));
        }, crop: function() {
          var i = o.slice(arguments);
          return this.exec.apply(this, ["crop"].concat(i));
        }, getAsDataUrl: function(i) {
          return this.exec("getAsDataUrl", i);
        }, getAsBlob: function(i) {
          var d = this.exec("getAsBlob", i);
          return new s(this.getRuid(), d);
        } }), c;
      }), t("widgets/image", ["base", "uploader", "lib/image", "widgets/widget"], function(o, r, s) {
        var c, a = o.$;
        return c = function(i) {
          var d = 0, u = [], l = function() {
            for (var f; u.length && i > d; )
              f = u.shift(), d += f[0], f[1]();
          };
          return function(f, p, m) {
            u.push([p, m]), f.once("destroy", function() {
              d -= p, setTimeout(l, 1);
            }), setTimeout(l, 1);
          };
        }(5242880), a.extend(r.options, { thumb: { width: 110, height: 110, quality: 70, allowMagnify: !0, crop: !0, preserveHeaders: !1, type: "image/jpeg" }, compress: { width: 1600, height: 1600, quality: 90, allowMagnify: !1, crop: !1, preserveHeaders: !0 } }), r.register({ name: "image", makeThumb: function(i, d, u, l) {
          var f, p;
          return i = this.request("get-file", i), i.type.match(/^image/) ? (f = a.extend({}, this.options.thumb), a.isPlainObject(u) && (f = a.extend(f, u), u = null), u = u || f.width, l = l || f.height, p = new s(f), p.once("load", function() {
            i._info = i._info || p.info(), i._meta = i._meta || p.meta(), 1 >= u && u > 0 && (u = i._info.width * u), 1 >= l && l > 0 && (l = i._info.height * l), p.resize(u, l);
          }), p.once("complete", function() {
            d(!1, p.getAsDataUrl(f.type)), p.destroy();
          }), p.once("error", function(m) {
            d(m || !0), p.destroy();
          }), void c(p, i.source.size, function() {
            i._info && p.info(i._info), i._meta && p.meta(i._meta), p.loadFromBlob(i.source);
          })) : void d(!0);
        }, beforeSendFile: function(i) {
          var d, u, l = this.options.compress || this.options.resize, f = l && l.compressSize || 0, p = l && l.noCompressIfLarger || !1;
          return i = this.request("get-file", i), !l || !~"image/jpeg,image/jpg".indexOf(i.type) || i.size < f || i._compressed ? void 0 : (l = a.extend({}, l), u = o.Deferred(), d = new s(l), u.always(function() {
            d.destroy(), d = null;
          }), d.once("error", u.reject), d.once("load", function() {
            var m = l.width, g = l.height;
            i._info = i._info || d.info(), i._meta = i._meta || d.meta(), 1 >= m && m > 0 && (m = i._info.width * m), 1 >= g && g > 0 && (g = i._info.height * g), d.resize(m, g);
          }), d.once("complete", function() {
            var m, g;
            try {
              m = d.getAsBlob(l.type), g = i.size, (!p || m.size < g) && (i.source = m, i.size = m.size, i.trigger("resize", m.size, g)), i._compressed = !0, u.resolve();
            } catch {
              u.resolve();
            }
          }), i._info && d.info(i._info), i._meta && d.meta(i._meta), d.loadFromBlob(i.source), u.promise());
        } });
      }), t("file", ["base", "mediator"], function(o, r) {
        function s() {
          return i + d++;
        }
        function c(f) {
          this.name = f.name || "Untitled", this.size = f.size || 0, this.type = f.type || "application/octet-stream", this.lastModifiedDate = f.lastModifiedDate || 1 * new Date(), this.id = s(), this.ext = u.exec(this.name) ? RegExp.$1 : "", this.statusText = "", l[this.id] = c.Status.INITED, this.source = f, this.loaded = 0, this.on("error", function(p) {
            this.setStatus(c.Status.ERROR, p);
          });
        }
        var a = o.$, i = "WU_FILE_", d = 0, u = /\.([^.]+)$/, l = {};
        return a.extend(c.prototype, { setStatus: function(f, p) {
          var m = l[this.id];
          typeof p < "u" && (this.statusText = p), f !== m && (l[this.id] = f, this.trigger("statuschange", f, m));
        }, getStatus: function() {
          return l[this.id];
        }, getSource: function() {
          return this.source;
        }, destroy: function() {
          this.off(), delete l[this.id];
        } }), r.installTo(c.prototype), c.Status = { INITED: "inited", QUEUED: "queued", PROGRESS: "progress", ERROR: "error", COMPLETE: "complete", CANCELLED: "cancelled", INTERRUPT: "interrupt", INVALID: "invalid" }, c;
      }), t("queue", ["base", "mediator", "file"], function(o, r, s) {
        function c() {
          this.stats = { numOfQueue: 0, numOfSuccess: 0, numOfCancel: 0, numOfProgress: 0, numOfUploadFailed: 0, numOfInvalid: 0, numOfDeleted: 0, numOfInterrupt: 0 }, this._queue = [], this._map = {};
        }
        var a = o.$, i = s.Status;
        return a.extend(c.prototype, { append: function(d) {
          return this._queue.push(d), this._fileAdded(d), this;
        }, prepend: function(d) {
          return this._queue.unshift(d), this._fileAdded(d), this;
        }, getFile: function(d) {
          return typeof d != "string" ? d : this._map[d];
        }, fetch: function(d) {
          var u, l, f = this._queue.length;
          for (d = d || i.QUEUED, u = 0; f > u; u++)
            if (l = this._queue[u], d === l.getStatus())
              return l;
          return null;
        }, sort: function(d) {
          typeof d == "function" && this._queue.sort(d);
        }, getFiles: function() {
          for (var d, u = [].slice.call(arguments, 0), l = [], f = 0, p = this._queue.length; p > f; f++)
            d = this._queue[f], (!u.length || ~a.inArray(d.getStatus(), u)) && l.push(d);
          return l;
        }, removeFile: function(d) {
          var u = this._map[d.id];
          u && (delete this._map[d.id], this._delFile(d), d.destroy(), this.stats.numOfDeleted++);
        }, _fileAdded: function(d) {
          var u = this, l = this._map[d.id];
          l || (this._map[d.id] = d, d.on("statuschange", function(f, p) {
            u._onFileStatusChange(f, p);
          }));
        }, _delFile: function(d) {
          for (var u = this._queue.length - 1; u >= 0; u--)
            if (this._queue[u] == d) {
              this._queue.splice(u, 1);
              break;
            }
        }, _onFileStatusChange: function(d, u) {
          var l = this.stats;
          switch (u) {
            case i.PROGRESS:
              l.numOfProgress--;
              break;
            case i.QUEUED:
              l.numOfQueue--;
              break;
            case i.ERROR:
              l.numOfUploadFailed--;
              break;
            case i.INVALID:
              l.numOfInvalid--;
              break;
            case i.INTERRUPT:
              l.numOfInterrupt--;
          }
          switch (d) {
            case i.QUEUED:
              l.numOfQueue++;
              break;
            case i.PROGRESS:
              l.numOfProgress++;
              break;
            case i.ERROR:
              l.numOfUploadFailed++;
              break;
            case i.COMPLETE:
              l.numOfSuccess++;
              break;
            case i.CANCELLED:
              l.numOfCancel++;
              break;
            case i.INVALID:
              l.numOfInvalid++;
              break;
            case i.INTERRUPT:
              l.numOfInterrupt++;
          }
        } }), r.installTo(c.prototype), c;
      }), t("widgets/queue", ["base", "uploader", "queue", "file", "lib/file", "runtime/client", "widgets/widget"], function(o, r, s, c, a, i) {
        var d = o.$, u = /\.\w+$/, l = c.Status;
        return r.register({ name: "queue", init: function(f) {
          var p, m, g, y, b, C, D, A = this;
          if (d.isPlainObject(f.accept) && (f.accept = [f.accept]), f.accept) {
            for (b = [], g = 0, m = f.accept.length; m > g; g++)
              y = f.accept[g].extensions, y && b.push(y);
            b.length && (C = "\\." + b.join(",").replace(/,/g, "$|\\.").replace(/\*/g, ".*") + "$"), A.accept = new RegExp(C, "i");
          }
          return A.queue = new s(), A.stats = A.queue.stats, this.request("predict-runtime-type") === "html5" ? (p = o.Deferred(), this.placeholder = D = new i("Placeholder"), D.connectRuntime({ runtimeOrder: "html5" }, function() {
            A._ruid = D.getRuid(), p.resolve();
          }), p.promise()) : void 0;
        }, _wrapFile: function(f) {
          if (!(f instanceof c)) {
            if (!(f instanceof a)) {
              if (!this._ruid)
                throw new Error("Can't add external files.");
              f = new a(this._ruid, f);
            }
            f = new c(f);
          }
          return f;
        }, acceptFile: function(f) {
          var p = !f || !f.size || this.accept && u.exec(f.name) && !this.accept.test(f.name);
          return !p;
        }, _addFile: function(f) {
          var p = this;
          return f = p._wrapFile(f), p.owner.trigger("beforeFileQueued", f) ? p.acceptFile(f) ? (p.queue.append(f), p.owner.trigger("fileQueued", f), f) : void p.owner.trigger("error", "Q_TYPE_DENIED", f) : void 0;
        }, getFile: function(f) {
          return this.queue.getFile(f);
        }, addFile: function(f) {
          var p = this;
          f.length || (f = [f]), f = d.map(f, function(m) {
            return p._addFile(m);
          }), f.length && (p.owner.trigger("filesQueued", f), p.options.auto && setTimeout(function() {
            p.request("start-upload");
          }, 20));
        }, getStats: function() {
          return this.stats;
        }, removeFile: function(f, p) {
          var m = this;
          f = f.id ? f : m.queue.getFile(f), this.request("cancel-file", f), p && this.queue.removeFile(f);
        }, getFiles: function() {
          return this.queue.getFiles.apply(this.queue, arguments);
        }, fetchFile: function() {
          return this.queue.fetch.apply(this.queue, arguments);
        }, retry: function(f, p) {
          var m, g, y, b = this;
          if (f)
            return f = f.id ? f : b.queue.getFile(f), f.setStatus(l.QUEUED), void (p || b.request("start-upload"));
          for (m = b.queue.getFiles(l.ERROR), g = 0, y = m.length; y > g; g++)
            f = m[g], f.setStatus(l.QUEUED);
          b.request("start-upload");
        }, sortFiles: function() {
          return this.queue.sort.apply(this.queue, arguments);
        }, reset: function() {
          this.owner.trigger("reset"), this.queue = new s(), this.stats = this.queue.stats;
        }, destroy: function() {
          this.reset(), this.placeholder && this.placeholder.destroy();
        } });
      }), t("widgets/runtime", ["uploader", "runtime/runtime", "widgets/widget"], function(o, r) {
        return o.support = function() {
          return r.hasRuntime.apply(r, arguments);
        }, o.register({ name: "runtime", init: function() {
          if (!this.predictRuntimeType())
            throw Error("Runtime Error");
        }, predictRuntimeType: function() {
          var s, c, a = this.options.runtimeOrder || r.orders, i = this.type;
          if (!i) {
            for (a = a.split(/\s*,\s*/g), s = 0, c = a.length; c > s; s++)
              if (r.hasRuntime(a[s])) {
                this.type = i = a[s];
                break;
              }
          }
          return i;
        } });
      }), t("lib/transport", ["base", "runtime/client", "mediator"], function(o, r, s) {
        function c(i) {
          var d = this;
          i = d.options = a.extend(!0, {}, c.options, i || {}), r.call(this, "Transport"), this._blob = null, this._formData = i.formData || {}, this._headers = i.headers || {}, this.on("progress", this._timeout), this.on("load error", function() {
            d.trigger("progress", 1), clearTimeout(d._timer);
          });
        }
        var a = o.$;
        return c.options = { server: "", method: "POST", withCredentials: !1, fileVal: "file", timeout: 12e4, formData: {}, headers: {}, sendAsBinary: !1 }, a.extend(c.prototype, { appendBlob: function(i, d, u) {
          var l = this, f = l.options;
          l.getRuid() && l.disconnectRuntime(), l.connectRuntime(d.ruid, function() {
            l.exec("init");
          }), l._blob = d, f.fileVal = i || f.fileVal, f.filename = u || f.filename;
        }, append: function(i, d) {
          typeof i == "object" ? a.extend(this._formData, i) : this._formData[i] = d;
        }, setRequestHeader: function(i, d) {
          typeof i == "object" ? a.extend(this._headers, i) : this._headers[i] = d;
        }, send: function(i) {
          this.exec("send", i), this._timeout();
        }, abort: function() {
          return clearTimeout(this._timer), this.exec("abort");
        }, destroy: function() {
          this.trigger("destroy"), this.off(), this.exec("destroy"), this.disconnectRuntime();
        }, getResponseHeaders: function() {
          return this.exec("getResponseHeaders");
        }, getResponse: function() {
          return this.exec("getResponse");
        }, getResponseAsJson: function() {
          return this.exec("getResponseAsJson");
        }, getStatus: function() {
          return this.exec("getStatus");
        }, _timeout: function() {
          var i = this, d = i.options.timeout;
          d && (clearTimeout(i._timer), i._timer = setTimeout(function() {
            i.abort(), i.trigger("error", "timeout");
          }, d));
        } }), s.installTo(c.prototype), c;
      }), t("widgets/upload", ["base", "uploader", "file", "lib/transport", "widgets/widget"], function(o, r, s, c) {
        function a(l, f) {
          var p, m, g = [], y = l.source, b = y.size, C = f ? Math.ceil(b / f) : 1, D = 0, A = 0;
          for (m = { file: l, has: function() {
            return !!g.length;
          }, shift: function() {
            return g.shift();
          }, unshift: function(N) {
            g.unshift(N);
          } }; C > A; )
            p = Math.min(f, b - D), g.push({ file: l, start: D, end: f ? D + p : b, total: b, chunks: C, chunk: A++, cuted: m }), D += p;
          return l.blocks = g.concat(), l.remaning = g.length, m;
        }
        var i = o.$, d = o.isPromise, u = s.Status;
        i.extend(r.options, { prepareNextFile: !1, chunked: !1, chunkSize: 5242880, chunkRetry: 2, chunkRetryDelay: 1e3, threads: 3, formData: {} }), r.register({ name: "upload", init: function() {
          var l = this.owner, f = this;
          this.runing = !1, this.progress = !1, l.on("startUpload", function() {
            f.progress = !0;
          }).on("uploadFinished", function() {
            f.progress = !1;
          }), this.pool = [], this.stack = [], this.pending = [], this.remaning = 0, this.__tick = o.bindFn(this._tick, this), l.on("uploadComplete", function(p) {
            p.blocks && i.each(p.blocks, function(m, g) {
              g.transport && (g.transport.abort(), g.transport.destroy()), delete g.transport;
            }), delete p.blocks, delete p.remaning;
          });
        }, reset: function() {
          this.request("stop-upload", !0), this.runing = !1, this.pool = [], this.stack = [], this.pending = [], this.remaning = 0, this._trigged = !1, this._promise = null;
        }, startUpload: function(l) {
          var f = this;
          if (i.each(f.request("get-files", u.INVALID), function() {
            f.request("remove-file", this);
          }), l ? (l = l.id ? l : f.request("get-file", l), l.getStatus() === u.INTERRUPT ? (l.setStatus(u.QUEUED), i.each(f.pool, function(m, g) {
            g.file === l && (g.transport && g.transport.send(), l.setStatus(u.PROGRESS));
          })) : l.getStatus() !== u.PROGRESS && l.setStatus(u.QUEUED)) : i.each(f.request("get-files", [u.INITED]), function() {
            this.setStatus(u.QUEUED);
          }), f.runing)
            return f.owner.trigger("startUpload", l), o.nextTick(f.__tick);
          f.runing = !0;
          var p = [];
          l || i.each(f.pool, function(m, g) {
            var y = g.file;
            if (y.getStatus() === u.INTERRUPT) {
              if (f._trigged = !1, p.push(y), g.waiting)
                return;
              g.transport ? g.transport.send() : f._doSend(g);
            }
          }), i.each(p, function() {
            this.setStatus(u.PROGRESS);
          }), l || i.each(f.request("get-files", u.INTERRUPT), function() {
            this.setStatus(u.PROGRESS);
          }), f._trigged = !1, o.nextTick(f.__tick), f.owner.trigger("startUpload");
        }, stopUpload: function(l, f) {
          var p = this;
          if (l === !0 && (f = l, l = null), p.runing !== !1) {
            if (l)
              return l = l.id ? l : p.request("get-file", l), l.getStatus() !== u.PROGRESS && l.getStatus() !== u.QUEUED ? void 0 : (l.setStatus(u.INTERRUPT), i.each(p.pool, function(m, g) {
                g.file === l && (g.transport && g.transport.abort(), f && (p._putback(g), p._popBlock(g)));
              }), p.owner.trigger("stopUpload", l), o.nextTick(p.__tick));
            p.runing = !1, this._promise && this._promise.file && this._promise.file.setStatus(u.INTERRUPT), f && i.each(p.pool, function(m, g) {
              g.transport && g.transport.abort(), g.file.setStatus(u.INTERRUPT);
            }), p.owner.trigger("stopUpload");
          }
        }, cancelFile: function(l) {
          l = l.id ? l : this.request("get-file", l), l.blocks && i.each(l.blocks, function(f, p) {
            var m = p.transport;
            m && (m.abort(), m.destroy(), delete p.transport);
          }), l.setStatus(u.CANCELLED), this.owner.trigger("fileDequeued", l);
        }, isInProgress: function() {
          return !!this.progress;
        }, _getStats: function() {
          return this.request("get-stats");
        }, skipFile: function(l, f) {
          l = l.id ? l : this.request("get-file", l), l.setStatus(f || u.COMPLETE), l.skipped = !0, l.blocks && i.each(l.blocks, function(p, m) {
            var g = m.transport;
            g && (g.abort(), g.destroy(), delete m.transport);
          }), this.owner.trigger("uploadSkip", l);
        }, _tick: function() {
          var l, f, p = this, m = p.options;
          return p._promise ? p._promise.always(p.__tick) : void (p.pool.length < m.threads && (f = p._nextBlock()) ? (p._trigged = !1, l = function(g) {
            p._promise = null, g && g.file && p._startSend(g), o.nextTick(p.__tick);
          }, p._promise = d(f) ? f.always(l) : l(f)) : p.remaning || p._getStats().numOfQueue || p._getStats().numOfInterrupt || (p.runing = !1, p._trigged || o.nextTick(function() {
            p.owner.trigger("uploadFinished");
          }), p._trigged = !0));
        }, _putback: function(l) {
          var f;
          l.cuted.unshift(l), f = this.stack.indexOf(l.cuted), ~f || (this.remaning++, l.file.remaning++, this.stack.unshift(l.cuted));
        }, _getStack: function() {
          for (var l, f = 0; l = this.stack[f++]; ) {
            if (l.has() && l.file.getStatus() === u.PROGRESS)
              return l;
            (!l.has() || l.file.getStatus() !== u.PROGRESS && l.file.getStatus() !== u.INTERRUPT) && this.stack.splice(--f, 1);
          }
          return null;
        }, _nextBlock: function() {
          var l, f, p, m, g = this, y = g.options;
          return (l = this._getStack()) ? (y.prepareNextFile && !g.pending.length && g._prepareNextFile(), l.shift()) : g.runing ? (!g.pending.length && g._getStats().numOfQueue && g._prepareNextFile(), f = g.pending.shift(), p = function(b) {
            return b ? (l = a(b, y.chunked ? y.chunkSize : 0), g.stack.push(l), l.shift()) : null;
          }, d(f) ? (m = f.file, f = f[f.pipe ? "pipe" : "then"](p), f.file = m, f) : p(f)) : void 0;
        }, _prepareNextFile: function() {
          var l, f = this, p = f.request("fetch-file"), m = f.pending;
          p && (l = f.request("before-send-file", p, function() {
            return p.getStatus() === u.PROGRESS || p.getStatus() === u.INTERRUPT ? p : f._finishFile(p);
          }), f.owner.trigger("uploadStart", p), p.setStatus(u.PROGRESS), l.file = p, l.done(function() {
            var g = i.inArray(l, m);
            ~g && m.splice(g, 1, p);
          }), l.fail(function(g) {
            p.setStatus(u.ERROR, g), f.owner.trigger("uploadError", p, g), f.owner.trigger("uploadComplete", p);
          }), m.push(l));
        }, _popBlock: function(l) {
          var f = i.inArray(l, this.pool);
          this.pool.splice(f, 1), l.file.remaning--, this.remaning--;
        }, _startSend: function(l) {
          var f, p = this, m = l.file;
          return m.getStatus() !== u.PROGRESS ? void (m.getStatus() === u.INTERRUPT && p._putback(l)) : (p.pool.push(l), p.remaning++, l.blob = l.chunks === 1 ? m.source : m.source.slice(l.start, l.end), l.waiting = f = p.request("before-send", l, function() {
            delete l.waiting, m.getStatus() === u.PROGRESS ? p._doSend(l) : l.file.getStatus() !== u.INTERRUPT && p._popBlock(l), o.nextTick(p.__tick);
          }), void f.fail(function() {
            delete l.waiting, m.remaning === 1 ? p._finishFile(m).always(function() {
              l.percentage = 1, p._popBlock(l), p.owner.trigger("uploadComplete", m), o.nextTick(p.__tick);
            }) : (l.percentage = 1, p.updateFileProgress(m), p._popBlock(l), o.nextTick(p.__tick));
          }));
        }, _doSend: function(l) {
          var f, p, m = this, g = m.owner, y = i.extend({}, m.options, l.options), b = l.file, C = new c(y), D = i.extend({}, y.formData), A = i.extend({}, y.headers);
          l.transport = C, C.on("destroy", function() {
            delete l.transport, m._popBlock(l), o.nextTick(m.__tick);
          }), C.on("progress", function(N) {
            l.percentage = N, m.updateFileProgress(b);
          }), f = function(N) {
            var B;
            return p = C.getResponseAsJson() || {}, p._raw = C.getResponse(), p._headers = C.getResponseHeaders(), l.response = p, B = function(j) {
              N = j;
            }, g.trigger("uploadAccept", l, p, B) || (N = N || "server"), N;
          }, C.on("error", function(N, B) {
            var j, R, E = N.split("|");
            N = E[0], j = parseFloat(E[1]), R = E[2], l.retried = l.retried || 0, l.chunks > 1 && ~"http,abort,server".indexOf(N.replace(/-.*/, "")) && l.retried < y.chunkRetry ? (l.retried++, m.retryTimer = setTimeout(function() {
              C.send();
            }, y.chunkRetryDelay || 1e3)) : (B || N !== "server" || (N = f(N)), b.setStatus(u.ERROR, N), g.trigger("uploadError", b, N, j, R), g.trigger("uploadComplete", b));
          }), C.on("load", function() {
            var N;
            return (N = f()) ? void C.trigger("error", N, !0) : void (b.remaning === 1 ? m._finishFile(b, p) : C.destroy());
          }), D = i.extend(D, { id: b.id, name: b.name, type: b.type, lastModifiedDate: b.lastModifiedDate, size: b.size }), l.chunks > 1 && i.extend(D, { chunks: l.chunks, chunk: l.chunk }), g.trigger("uploadBeforeSend", l, D, A), C.appendBlob(y.fileVal, l.blob, b.name), C.append(D), C.setRequestHeader(A), C.send();
        }, _finishFile: function(l, f, p) {
          var m = this.owner;
          return m.request("after-send-file", arguments, function() {
            l.setStatus(u.COMPLETE), m.trigger("uploadSuccess", l, f, p);
          }).fail(function(g) {
            l.getStatus() === u.PROGRESS && l.setStatus(u.ERROR, g), m.trigger("uploadError", l, g);
          }).always(function() {
            m.trigger("uploadComplete", l);
          });
        }, updateFileProgress: function(l) {
          var f = 0, p = 0;
          l.blocks && (i.each(l.blocks, function(m, g) {
            p += (g.percentage || 0) * (g.end - g.start);
          }), f = p / l.size, this.owner.trigger("uploadProgress", l, f || 0));
        }, destroy: function() {
          clearTimeout(this.retryTimer);
        } });
      }), t("widgets/validator", ["base", "uploader", "file", "widgets/widget"], function(o, r, s) {
        var c, a = o.$, i = {};
        return c = { addValidator: function(d, u) {
          i[d] = u;
        }, removeValidator: function(d) {
          delete i[d];
        } }, r.register({ name: "validator", init: function() {
          var d = this;
          o.nextTick(function() {
            a.each(i, function() {
              this.call(d.owner);
            });
          });
        } }), c.addValidator("fileNumLimit", function() {
          var d = this, u = d.options, l = 0, f = parseInt(u.fileNumLimit, 10), p = !0;
          f && (d.on("beforeFileQueued", function(m) {
            return this.trigger("beforeFileQueuedCheckfileNumLimit", m, l) ? (l >= f && p && (p = !1, this.trigger("error", "Q_EXCEED_NUM_LIMIT", f, m), setTimeout(function() {
              p = !0;
            }, 1)), !(l >= f)) : !1;
          }), d.on("fileQueued", function() {
            l++;
          }), d.on("fileDequeued", function() {
            l--;
          }), d.on("reset", function() {
            l = 0;
          }));
        }), c.addValidator("fileSizeLimit", function() {
          var d = this, u = d.options, l = 0, f = parseInt(u.fileSizeLimit, 10), p = !0;
          f && (d.on("beforeFileQueued", function(m) {
            var g = l + m.size > f;
            return g && p && (p = !1, this.trigger("error", "Q_EXCEED_SIZE_LIMIT", f, m), setTimeout(function() {
              p = !0;
            }, 1)), !g;
          }), d.on("fileQueued", function(m) {
            l += m.size;
          }), d.on("fileDequeued", function(m) {
            l -= m.size;
          }), d.on("reset", function() {
            l = 0;
          }));
        }), c.addValidator("fileSingleSizeLimit", function() {
          var d = this, u = d.options, l = u.fileSingleSizeLimit;
          l && d.on("beforeFileQueued", function(f) {
            return f.size > l ? (f.setStatus(s.Status.INVALID, "exceed_size"), this.trigger("error", "F_EXCEED_SIZE", l, f), !1) : void 0;
          });
        }), c.addValidator("duplicate", function() {
          function d(p) {
            for (var m, g = 0, y = 0, b = p.length; b > y; y++)
              m = p.charCodeAt(y), g = m + (g << 6) + (g << 16) - g;
            return g;
          }
          var u = this, l = u.options, f = {};
          l.duplicate || (u.on("beforeFileQueued", function(p) {
            var m = p.__hash || (p.__hash = d(p.name + p.size + p.lastModifiedDate));
            return f[m] ? (this.trigger("error", "F_DUPLICATE", p), !1) : void 0;
          }), u.on("fileQueued", function(p) {
            var m = p.__hash;
            m && (f[m] = !0);
          }), u.on("fileDequeued", function(p) {
            var m = p.__hash;
            m && delete f[m];
          }), u.on("reset", function() {
            f = {};
          }));
        }), c;
      }), t("runtime/compbase", [], function() {
        function o(r, s) {
          this.owner = r, this.options = r.options, this.getRuntime = function() {
            return s;
          }, this.getRuid = function() {
            return s.uid;
          }, this.trigger = function() {
            return r.trigger.apply(r, arguments);
          };
        }
        return o;
      }), t("runtime/html5/runtime", ["base", "runtime/runtime", "runtime/compbase"], function(o, r, s) {
        function c() {
          var d = {}, u = this, l = this.destroy;
          r.apply(u, arguments), u.type = a, u.exec = function(f, p) {
            var m, g = this, y = g.uid, b = o.slice(arguments, 2);
            return i[f] && (m = d[y] = d[y] || new i[f](g, u), m[p]) ? m[p].apply(m, b) : void 0;
          }, u.destroy = function() {
            return l && l.apply(this, arguments);
          };
        }
        var a = "html5", i = {};
        return o.inherits(r, { constructor: c, init: function() {
          var d = this;
          setTimeout(function() {
            d.trigger("ready");
          }, 1);
        } }), c.register = function(d, u) {
          var l = i[d] = o.inherits(s, u);
          return l;
        }, e.Blob && e.FileReader && e.DataView && r.addRuntime(a, c), c;
      }), t("runtime/html5/blob", ["runtime/html5/runtime", "lib/blob"], function(o, r) {
        return o.register("Blob", { slice: function(s, c) {
          var a = this.owner.source, i = a.slice || a.webkitSlice || a.mozSlice;
          return a = i.call(a, s, c), new r(this.getRuid(), a);
        } });
      }), t("runtime/html5/dnd", ["base", "runtime/html5/runtime", "lib/file"], function(o, r, s) {
        var c = o.$, a = "webuploader-dnd-";
        return r.register("DragAndDrop", { init: function() {
          var i = this.elem = this.options.container;
          this.dragEnterHandler = o.bindFn(this._dragEnterHandler, this), this.dragOverHandler = o.bindFn(this._dragOverHandler, this), this.dragLeaveHandler = o.bindFn(this._dragLeaveHandler, this), this.dropHandler = o.bindFn(this._dropHandler, this), this.dndOver = !1, i.on("dragenter", this.dragEnterHandler), i.on("dragover", this.dragOverHandler), i.on("dragleave", this.dragLeaveHandler), i.on("drop", this.dropHandler), this.options.disableGlobalDnd && (c(document).on("dragover", this.dragOverHandler), c(document).on("drop", this.dropHandler));
        }, _dragEnterHandler: function(i) {
          var d, u = this, l = u._denied || !1;
          return i = i.originalEvent || i, u.dndOver || (u.dndOver = !0, d = i.dataTransfer.items, d && d.length && (u._denied = l = !u.trigger("accept", d)), u.elem.addClass(a + "over"), u.elem[l ? "addClass" : "removeClass"](a + "denied")), i.dataTransfer.dropEffect = l ? "none" : "copy", !1;
        }, _dragOverHandler: function(i) {
          var d = this.elem.parent().get(0);
          return d && !c.contains(d, i.currentTarget) || (clearTimeout(this._leaveTimer), this._dragEnterHandler.call(this, i)), !1;
        }, _dragLeaveHandler: function() {
          var i, d = this;
          return i = function() {
            d.dndOver = !1, d.elem.removeClass(a + "over " + a + "denied");
          }, clearTimeout(d._leaveTimer), d._leaveTimer = setTimeout(i, 100), !1;
        }, _dropHandler: function(i) {
          var d, u, l = this, f = l.getRuid(), p = l.elem.parent().get(0);
          if (p && !c.contains(p, i.currentTarget))
            return !1;
          i = i.originalEvent || i, d = i.dataTransfer;
          try {
            u = d.getData("text/html");
          } catch {
          }
          return l.dndOver = !1, l.elem.removeClass(a + "over"), d && !u ? (l._getTansferFiles(d, function(m) {
            l.trigger("drop", c.map(m, function(g) {
              return new s(f, g);
            }));
          }), !1) : void 0;
        }, _getTansferFiles: function(i, d) {
          var u, l, f, p, m, g, y, b = [], C = [];
          for (u = i.items, l = i.files, y = !(!u || !u[0].webkitGetAsEntry), m = 0, g = l.length; g > m; m++)
            f = l[m], p = u && u[m], y && p.webkitGetAsEntry().isDirectory ? C.push(this._traverseDirectoryTree(p.webkitGetAsEntry(), b)) : b.push(f);
          o.when.apply(o, C).done(function() {
            b.length && d(b);
          });
        }, _traverseDirectoryTree: function(i, d) {
          var u = o.Deferred(), l = this;
          return i.isFile ? i.file(function(f) {
            d.push(f), u.resolve();
          }) : i.isDirectory && i.createReader().readEntries(function(f) {
            var p, m = f.length, g = [], y = [];
            for (p = 0; m > p; p++)
              g.push(l._traverseDirectoryTree(f[p], y));
            o.when.apply(o, g).then(function() {
              d.push.apply(d, y), u.resolve();
            }, u.reject);
          }), u.promise();
        }, destroy: function() {
          var i = this.elem;
          i && (i.off("dragenter", this.dragEnterHandler), i.off("dragover", this.dragOverHandler), i.off("dragleave", this.dragLeaveHandler), i.off("drop", this.dropHandler), this.options.disableGlobalDnd && (c(document).off("dragover", this.dragOverHandler), c(document).off("drop", this.dropHandler)));
        } });
      }), t("runtime/html5/filepaste", ["base", "runtime/html5/runtime", "lib/file"], function(o, r, s) {
        return r.register("FilePaste", { init: function() {
          var c, a, i, d, u = this.options, l = this.elem = u.container, f = ".*";
          if (u.accept) {
            for (c = [], a = 0, i = u.accept.length; i > a; a++)
              d = u.accept[a].mimeTypes, d && c.push(d);
            c.length && (f = c.join(","), f = f.replace(/,/g, "|").replace(/\*/g, ".*"));
          }
          this.accept = f = new RegExp(f, "i"), this.hander = o.bindFn(this._pasteHander, this), l.on("paste", this.hander);
        }, _pasteHander: function(c) {
          var a, i, d, u, l, f = [], p = this.getRuid();
          for (c = c.originalEvent || c, a = c.clipboardData.items, u = 0, l = a.length; l > u; u++)
            i = a[u], i.kind === "file" && (d = i.getAsFile()) && f.push(new s(p, d));
          f.length && (c.preventDefault(), c.stopPropagation(), this.trigger("paste", f));
        }, destroy: function() {
          this.elem.off("paste", this.hander);
        } });
      }), t("runtime/html5/filepicker", ["base", "runtime/html5/runtime"], function(o, r) {
        var s = o.$;
        return r.register("FilePicker", { init: function() {
          var c, a, i, d, u, l = this.getRuntime().getContainer(), f = this, p = f.owner, m = f.options, g = this.label = s(document.createElement("label")), y = this.input = s(document.createElement("input"));
          if (y.attr("type", "file"), y.attr("capture", "camera"), y.attr("name", m.name), y.addClass("webuploader-element-invisible"), g.on("click", function(b) {
            y.trigger("click"), b.stopPropagation(), p.trigger("dialogopen");
          }), g.css({ opacity: 0, width: "100%", height: "100%", display: "block", cursor: "pointer", background: "#ffffff" }), m.multiple && y.attr("multiple", "multiple"), m.accept && m.accept.length > 0) {
            for (c = [], a = 0, i = m.accept.length; i > a; a++)
              c.push(m.accept[a].mimeTypes);
            y.attr("accept", c.join(","));
          }
          l.append(y), l.append(g), d = function(b) {
            p.trigger(b.type);
          }, u = function(b) {
            var C;
            return b.target.files.length === 0 ? !1 : (f.files = b.target.files, C = this.cloneNode(!0), C.value = null, this.parentNode.replaceChild(C, this), y.off(), y = s(C).on("change", u).on("mouseenter mouseleave", d), void p.trigger("change"));
          }, y.on("change", u), g.on("mouseenter mouseleave", d);
        }, getFiles: function() {
          return this.files;
        }, destroy: function() {
          this.input.off(), this.label.off();
        } });
      }), t("runtime/html5/util", ["base"], function(o) {
        var r = e.createObjectURL && e || e.URL && URL.revokeObjectURL && URL || e.webkitURL, s = o.noop, c = s;
        return r && (s = function() {
          return r.createObjectURL.apply(r, arguments);
        }, c = function() {
          return r.revokeObjectURL.apply(r, arguments);
        }), { createObjectURL: s, revokeObjectURL: c, dataURL2Blob: function(a) {
          var i, d, u, l, f, p;
          for (p = a.split(","), i = ~p[0].indexOf("base64") ? atob(p[1]) : decodeURIComponent(p[1]), u = new ArrayBuffer(i.length), d = new Uint8Array(u), l = 0; l < i.length; l++)
            d[l] = i.charCodeAt(l);
          return f = p[0].split(":")[1].split(";")[0], this.arrayBufferToBlob(u, f);
        }, dataURL2ArrayBuffer: function(a) {
          var i, d, u, l;
          for (l = a.split(","), i = ~l[0].indexOf("base64") ? atob(l[1]) : decodeURIComponent(l[1]), d = new Uint8Array(i.length), u = 0; u < i.length; u++)
            d[u] = i.charCodeAt(u);
          return d.buffer;
        }, arrayBufferToBlob: function(a, i) {
          var d, u = e.BlobBuilder || e.WebKitBlobBuilder;
          return u ? (d = new u(), d.append(a), d.getBlob(i)) : new Blob([a], i ? { type: i } : {});
        }, canvasToDataUrl: function(a, i, d) {
          return a.toDataURL(i, d / 100);
        }, parseMeta: function(a, i) {
          i(!1, {});
        }, updateImageHead: function(a) {
          return a;
        } };
      }), t("runtime/html5/imagemeta", ["runtime/html5/util"], function(o) {
        var r;
        return r = { parsers: { 65505: [] }, maxMetaDataSize: 262144, parse: function(s, c) {
          var a = this, i = new FileReader();
          i.onload = function() {
            c(!1, a._parse(this.result)), i = i.onload = i.onerror = null;
          }, i.onerror = function(d) {
            c(d.message), i = i.onload = i.onerror = null;
          }, s = s.slice(0, a.maxMetaDataSize), i.readAsArrayBuffer(s.getSource());
        }, _parse: function(s, c) {
          if (!(s.byteLength < 6)) {
            var a, i, d, u, l = new DataView(s), f = 2, p = l.byteLength - 4, m = f, g = {};
            if (l.getUint16(0) === 65496) {
              for (; p > f && (a = l.getUint16(f), a >= 65504 && 65519 >= a || a === 65534) && (i = l.getUint16(f + 2) + 2, !(f + i > l.byteLength)); ) {
                if (d = r.parsers[a], !c && d)
                  for (u = 0; u < d.length; u += 1)
                    d[u].call(r, l, f, i, g);
                f += i, m = f;
              }
              m > 6 && (g.imageHead = s.slice ? s.slice(2, m) : new Uint8Array(s).subarray(2, m));
            }
            return g;
          }
        }, updateImageHead: function(s, c) {
          var a, i, d, u = this._parse(s, !0);
          return d = 2, u.imageHead && (d = 2 + u.imageHead.byteLength), i = s.slice ? s.slice(d) : new Uint8Array(s).subarray(d), a = new Uint8Array(c.byteLength + 2 + i.byteLength), a[0] = 255, a[1] = 216, a.set(new Uint8Array(c), 2), a.set(new Uint8Array(i), c.byteLength + 2), a.buffer;
        } }, o.parseMeta = function() {
          return r.parse.apply(r, arguments);
        }, o.updateImageHead = function() {
          return r.updateImageHead.apply(r, arguments);
        }, r;
      }), t("runtime/html5/imagemeta/exif", ["base", "runtime/html5/imagemeta"], function(o, r) {
        var s = {};
        return s.ExifMap = function() {
          return this;
        }, s.ExifMap.prototype.map = { Orientation: 274 }, s.ExifMap.prototype.get = function(c) {
          return this[c] || this[this.map[c]];
        }, s.exifTagTypes = { 1: { getValue: function(c, a) {
          return c.getUint8(a);
        }, size: 1 }, 2: { getValue: function(c, a) {
          return String.fromCharCode(c.getUint8(a));
        }, size: 1, ascii: !0 }, 3: { getValue: function(c, a, i) {
          return c.getUint16(a, i);
        }, size: 2 }, 4: { getValue: function(c, a, i) {
          return c.getUint32(a, i);
        }, size: 4 }, 5: { getValue: function(c, a, i) {
          return c.getUint32(a, i) / c.getUint32(a + 4, i);
        }, size: 8 }, 9: { getValue: function(c, a, i) {
          return c.getInt32(a, i);
        }, size: 4 }, 10: { getValue: function(c, a, i) {
          return c.getInt32(a, i) / c.getInt32(a + 4, i);
        }, size: 8 } }, s.exifTagTypes[7] = s.exifTagTypes[1], s.getExifValue = function(c, a, i, d, u, l) {
          var f, p, m, g, y, b, C = s.exifTagTypes[d];
          if (!C)
            return void o.log("Invalid Exif data: Invalid tag type.");
          if (f = C.size * u, p = f > 4 ? a + c.getUint32(i + 8, l) : i + 8, p + f > c.byteLength)
            return void o.log("Invalid Exif data: Invalid data offset.");
          if (u === 1)
            return C.getValue(c, p, l);
          for (m = [], g = 0; u > g; g += 1)
            m[g] = C.getValue(c, p + g * C.size, l);
          if (C.ascii) {
            for (y = "", g = 0; g < m.length && (b = m[g], b !== "\0"); g += 1)
              y += b;
            return y;
          }
          return m;
        }, s.parseExifTag = function(c, a, i, d, u) {
          var l = c.getUint16(i, d);
          u.exif[l] = s.getExifValue(c, a, i, c.getUint16(i + 2, d), c.getUint32(i + 4, d), d);
        }, s.parseExifTags = function(c, a, i, d, u) {
          var l, f, p;
          if (i + 6 > c.byteLength)
            return void o.log("Invalid Exif data: Invalid directory offset.");
          if (l = c.getUint16(i, d), f = i + 2 + 12 * l, f + 4 > c.byteLength)
            return void o.log("Invalid Exif data: Invalid directory size.");
          for (p = 0; l > p; p += 1)
            this.parseExifTag(c, a, i + 2 + 12 * p, d, u);
          return c.getUint32(f, d);
        }, s.parseExifData = function(c, a, i, d) {
          var u, l, f = a + 10;
          if (c.getUint32(a + 4) === 1165519206) {
            if (f + 8 > c.byteLength)
              return void o.log("Invalid Exif data: Invalid segment size.");
            if (c.getUint16(a + 8) !== 0)
              return void o.log("Invalid Exif data: Missing byte alignment offset.");
            switch (c.getUint16(f)) {
              case 18761:
                u = !0;
                break;
              case 19789:
                u = !1;
                break;
              default:
                return void o.log("Invalid Exif data: Invalid byte alignment marker.");
            }
            if (c.getUint16(f + 2, u) !== 42)
              return void o.log("Invalid Exif data: Missing TIFF marker.");
            l = c.getUint32(f + 4, u), d.exif = new s.ExifMap(), l = s.parseExifTags(c, f, f + l, u, d);
          }
        }, r.parsers[65505].push(s.parseExifData), s;
      }), t("runtime/html5/image", ["base", "runtime/html5/runtime", "runtime/html5/util"], function(o, r, s) {
        var c = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D";
        return r.register("Image", { modified: !1, init: function() {
          var a = this, i = new Image();
          i.onload = function() {
            a._info = { type: a.type, width: this.width, height: this.height }, a._metas || a.type !== "image/jpeg" ? a.owner.trigger("load") : s.parseMeta(a._blob, function(d, u) {
              a._metas = u, a.owner.trigger("load");
            });
          }, i.onerror = function() {
            a.owner.trigger("error");
          }, a._img = i;
        }, loadFromBlob: function(a) {
          var i = this, d = i._img;
          i._blob = a, i.type = a.type, d.src = s.createObjectURL(a.getSource()), i.owner.once("load", function() {
            s.revokeObjectURL(d.src);
          });
        }, resize: function(a, i) {
          var d = this._canvas || (this._canvas = document.createElement("canvas"));
          this._resize(this._img, d, a, i), this._blob = null, this.modified = !0, this.owner.trigger("complete", "resize");
        }, crop: function(a, i, d, u, l) {
          var f = this._canvas || (this._canvas = document.createElement("canvas")), p = this.options, m = this._img, g = m.naturalWidth, y = m.naturalHeight, b = this.getOrientation();
          l = l || 1, f.width = d, f.height = u, p.preserveHeaders || this._rotate2Orientaion(f, b), this._renderImageToCanvas(f, m, -a, -i, g * l, y * l), this._blob = null, this.modified = !0, this.owner.trigger("complete", "crop");
        }, getAsBlob: function(a) {
          var i, d = this._blob, u = this.options;
          if (a = a || this.type, this.modified || this.type !== a) {
            if (i = this._canvas, a === "image/jpeg") {
              if (d = s.canvasToDataUrl(i, a, u.quality), u.preserveHeaders && this._metas && this._metas.imageHead)
                return d = s.dataURL2ArrayBuffer(d), d = s.updateImageHead(d, this._metas.imageHead), d = s.arrayBufferToBlob(d, a);
            } else
              d = s.canvasToDataUrl(i, a);
            d = s.dataURL2Blob(d);
          }
          return d;
        }, getAsDataUrl: function(a) {
          var i = this.options;
          return a = a || this.type, a === "image/jpeg" ? s.canvasToDataUrl(this._canvas, a, i.quality) : this._canvas.toDataURL(a);
        }, getOrientation: function() {
          return this._metas && this._metas.exif && this._metas.exif.get("Orientation") || 1;
        }, info: function(a) {
          return a ? (this._info = a, this) : this._info;
        }, meta: function(a) {
          return a ? (this._metas = a, this) : this._metas;
        }, destroy: function() {
          var a = this._canvas;
          this._img.onload = null, a && (a.getContext("2d").clearRect(0, 0, a.width, a.height), a.width = a.height = 0, this._canvas = null), this._img.src = c, this._img = this._blob = null;
        }, _resize: function(a, i, d, u) {
          var l, f, p, m, g, y = this.options, b = a.width, C = a.height, D = this.getOrientation();
          ~[5, 6, 7, 8].indexOf(D) && (d ^= u, u ^= d, d ^= u), l = Math[y.crop ? "max" : "min"](d / b, u / C), y.allowMagnify || (l = Math.min(1, l)), f = b * l, p = C * l, y.crop ? (i.width = d, i.height = u) : (i.width = f, i.height = p), m = (i.width - f) / 2, g = (i.height - p) / 2, y.preserveHeaders || this._rotate2Orientaion(i, D), this._renderImageToCanvas(i, a, m, g, f, p);
        }, _rotate2Orientaion: function(a, i) {
          var d = a.width, u = a.height, l = a.getContext("2d");
          switch (i) {
            case 5:
            case 6:
            case 7:
            case 8:
              a.width = u, a.height = d;
          }
          switch (i) {
            case 2:
              l.translate(d, 0), l.scale(-1, 1);
              break;
            case 3:
              l.translate(d, u), l.rotate(Math.PI);
              break;
            case 4:
              l.translate(0, u), l.scale(1, -1);
              break;
            case 5:
              l.rotate(0.5 * Math.PI), l.scale(1, -1);
              break;
            case 6:
              l.rotate(0.5 * Math.PI), l.translate(0, -u);
              break;
            case 7:
              l.rotate(0.5 * Math.PI), l.translate(d, -u), l.scale(-1, 1);
              break;
            case 8:
              l.rotate(-0.5 * Math.PI), l.translate(-d, 0);
          }
        }, _renderImageToCanvas: function() {
          function a(d, u, l) {
            var f, p, m, g = document.createElement("canvas"), y = g.getContext("2d"), b = 0, C = l, D = l;
            for (g.width = 1, g.height = l, y.drawImage(d, 0, 0), f = y.getImageData(0, 0, 1, l).data; D > b; )
              p = f[4 * (D - 1) + 3], p === 0 ? C = D : b = D, D = C + b >> 1;
            return m = D / l, m === 0 ? 1 : m;
          }
          function i(d) {
            var u, l, f = d.naturalWidth, p = d.naturalHeight;
            return f * p > 1048576 ? (u = document.createElement("canvas"), u.width = u.height = 1, l = u.getContext("2d"), l.drawImage(d, -f + 1, 0), l.getImageData(0, 0, 1, 1).data[3] === 0) : !1;
          }
          return o.os.ios ? o.os.ios >= 7 ? function(d, u, l, f, p, m) {
            var g = u.naturalWidth, y = u.naturalHeight, b = a(u, g, y);
            return d.getContext("2d").drawImage(u, 0, 0, g * b, y * b, l, f, p, m);
          } : function(d, u, l, f, p, m) {
            var g, y, b, C, D, A, N, B = u.naturalWidth, j = u.naturalHeight, R = d.getContext("2d"), E = i(u), S = this.type === "image/jpeg", w = 1024, x = 0, _ = 0;
            for (E && (B /= 2, j /= 2), R.save(), g = document.createElement("canvas"), g.width = g.height = w, y = g.getContext("2d"), b = S ? a(u, B, j) : 1, C = Math.ceil(w * p / B), D = Math.ceil(w * m / j / b); j > x; ) {
              for (A = 0, N = 0; B > A; )
                y.clearRect(0, 0, w, w), y.drawImage(u, -A, -x), R.drawImage(g, 0, 0, w, w, l + N, f + _, C, D), A += w, N += C;
              x += w, _ += D;
            }
            R.restore(), g = y = null;
          } : function(d) {
            var u = o.slice(arguments, 1), l = d.getContext("2d");
            l.drawImage.apply(l, u);
          };
        }() });
      }), t("runtime/html5/transport", ["base", "runtime/html5/runtime"], function(o, r) {
        var s = o.noop, c = o.$;
        return r.register("Transport", { init: function() {
          this._status = 0, this._response = null;
        }, send: function() {
          var a, i, d, u = this.owner, l = this.options, f = this._initAjax(), p = u._blob, m = l.server;
          l.sendAsBinary ? (m += l.attachInfoToQuery !== !1 ? (/\?/.test(m) ? "&" : "?") + c.param(u._formData) : "", i = p.getSource()) : (a = new FormData(), c.each(u._formData, function(g, y) {
            a.append(g, y);
          }), a.append(l.fileVal, p.getSource(), l.filename || u._formData.name || "")), l.withCredentials && "withCredentials" in f ? (f.open(l.method, m, !0), f.withCredentials = !0) : f.open(l.method, m), this._setRequestHeader(f, l.headers), i ? (f.overrideMimeType && f.overrideMimeType("application/octet-stream"), o.os.android ? (d = new FileReader(), d.onload = function() {
            f.send(this.result), d = d.onload = null;
          }, d.readAsArrayBuffer(i)) : f.send(i)) : f.send(a);
        }, getResponse: function() {
          return this._response;
        }, getResponseAsJson: function() {
          return this._parseJson(this._response);
        }, getResponseHeaders: function() {
          return this._headers;
        }, getStatus: function() {
          return this._status;
        }, abort: function() {
          var a = this._xhr;
          a && (a.upload.onprogress = s, a.onreadystatechange = s, a.abort(), this._xhr = a = null);
        }, destroy: function() {
          this.abort();
        }, _parseHeader: function(a) {
          var i = {};
          return a && a.replace(/^([^\:]+):(.*)$/gm, function(d, u, l) {
            i[u.trim()] = l.trim();
          }), i;
        }, _initAjax: function() {
          var a = this, i = new XMLHttpRequest(), d = this.options;
          return !d.withCredentials || "withCredentials" in i || typeof XDomainRequest > "u" || (i = new XDomainRequest()), i.upload.onprogress = function(u) {
            var l = 0;
            return u.lengthComputable && (l = u.loaded / u.total), a.trigger("progress", l);
          }, i.onreadystatechange = function() {
            if (i.readyState === 4) {
              i.upload.onprogress = s, i.onreadystatechange = s, a._xhr = null, a._status = i.status;
              var u = "|", l = u + i.status + u + i.statusText;
              return i.status >= 200 && i.status < 300 ? (a._response = i.responseText, a._headers = a._parseHeader(i.getAllResponseHeaders()), a.trigger("load")) : i.status >= 500 && i.status < 600 ? (a._response = i.responseText, a._headers = a._parseHeader(i.getAllResponseHeaders()), a.trigger("error", "server" + l)) : a.trigger("error", a._status ? "http" + l : "abort");
            }
          }, a._xhr = i, i;
        }, _setRequestHeader: function(a, i) {
          c.each(i, function(d, u) {
            a.setRequestHeader(d, u);
          });
        }, _parseJson: function(a) {
          var i;
          try {
            i = JSON.parse(a);
          } catch {
            i = {};
          }
          return i;
        } });
      }), t("preset/html5only", ["base", "widgets/filednd", "widgets/filepaste", "widgets/filepicker", "widgets/image", "widgets/queue", "widgets/runtime", "widgets/upload", "widgets/validator", "runtime/html5/blob", "runtime/html5/dnd", "runtime/html5/filepaste", "runtime/html5/filepicker", "runtime/html5/imagemeta/exif", "runtime/html5/image", "runtime/html5/transport"], function(o) {
        return o;
      }), t("webuploader", ["preset/html5only"], function(o) {
        return o;
      }), n("webuploader");
    }), window.console || (window.console = {}), console.log || (console.log = function() {
    });
    var wt = "4.4.0 (2022-11-03)", ve = navigator.userAgent.toLowerCase(), Z = ve.indexOf("msie") > -1 && ve.indexOf("opera") == -1, yi = ve.indexOf("msie") == -1 && ve.indexOf("trident") > -1, Re = ve.indexOf("gecko") > -1 && ve.indexOf("khtml") == -1, Be = ve.indexOf("applewebkit") > -1, $t = ve.indexOf("opera") > -1, ki = ve.indexOf("mobile") > -1, bi = /ipad|iphone|ipod/.test(ve), Ee = document.compatMode != "CSS1Compat", ye = !window.getSelection, Mn = /(?:msie|firefox|webkit|opera)[\/:\s](\d+)/.exec(ve), ce = Mn ? Mn[1] : "0", xt = new Date().getTime(), De = Math.round, v = { DEBUG: !1, VERSION: wt, IE: Z, GECKO: Re, WEBKIT: Be, OPERA: $t, V: ce, TIME: xt, each: P, isArray: ie, isFunction: re, inArray: pe, inString: $e, trim: ee, addUnit: J, removeUnit: X, escape: se, unescape: Ve, toCamel: Ke, toHex: pt, toMap: oe, toArray: St, undef: $, invalidUrl: qn, addParam: Wn, extend: he, json: Zt }, Nn = oe("a,abbr,acronym,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,img,input,ins,kbd,label,map,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"), In = oe("address,applet,blockquote,body,center,dd,dir,div,dl,dt,fieldset,form,frameset,h1,h2,h3,h4,h5,h6,head,hr,html,iframe,ins,isindex,li,map,menu,meta,noframes,noscript,object,ol,p,pre,script,style,table,tbody,td,tfoot,th,thead,title,tr,ul,audio,video"), An = oe("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"), Ln = oe("b,basefont,big,del,em,font,i,s,small,span,strike,strong,sub,sup,u"), wi = oe("img,table,input,textarea,button,audio,video"), Vt = oe("pre,style,script"), Ct = oe("html,head,body,td,tr,table,ol,ul,li"), xi = (oe("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"), oe("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected")), Ci = oe("input,button,textarea,select");
    v.basePath = $n(), v.Tools = { All: ["source", "|", "undo", "redo", "removeformat", "clearhtml", "|", "template", "code", "cut", "copy", "plainpaste", "wordpaste", "|", "preview", "selectall", "fullscreen", "print", "|", "quickformat", "/", "formatblock", "fontname", "fontsize", "|", "forecolor", "hilitecolor", "bold", "italic", "underline", "strikethrough", "|", "justifyleft", "justifycenter", "justifyright", "justifyfull", "|", "insertorderedlist", "insertunorderedlist", "indent", "outdent", "lineheight", "/", "quote", "subscript", "superscript", "|", "image", "multiimage", "media", "insertfile", "baidumap", "link", "unlink", "|", "table", "anchor", "hr", "pagebreak"], Normal: ["source", "|", "formatblock", "fontname", "fontsize", "|", "forecolor", "hilitecolor", "bold", "italic", "underline", "strikethrough", "|", "justifyleft", "justifycenter", "justifyright", "justifyfull", "|", "insertorderedlist", "insertunorderedlist", "indent", "outdent", "lineheight", "/", "image", "multiimage", "media", "insertfile", "baidumap", "link", "unlink", "|", "table", "anchor", "hr", "pagebreak", "|", "quote", "subscript", "superscript", "|", "preview", "fullscreen", "quickformat"], Small: ["source", "|", "formatblock", "fontname", "fontsize", "|", "bold", "italic", "underline", "strikethrough", "|", "justifyleft", "justifycenter", "justifyright", "justifyfull", "|", "insertorderedlist", "insertunorderedlist", "indent", "outdent", "lineheight", "/", "quote", "image", "multiimage", "media", "insertfile", "|", "table", "hr", "pagebreak", "|", "link", "unlink", "|", "preview", "fullscreen"], Mini: ["formatblock", "bold", "italic", "underline", "strikethrough", "|", "justifyleft", "justifycenter", "justifyright", "justifyfull", "|", "insertorderedlist", "insertunorderedlist", "|", "image", "insertfile", "table", "link"] }, v.Templates = [{ name: "\u56FE\u7247\u548C\u6587\u5B57", content: '<h3><img align="left" height="100" style="margin-right: 10px" width="100" />\u5728\u6B64\u5904\u8F93\u5165\u6807\u9898</h3><p>\u5728\u6B64\u5904\u8F93\u5165\u5185\u5BB9</p>' }, { name: "\u8868\u683C", content: '<h3>\u6807\u9898</h3><table style="width:100%;" cellpadding="2" cellspacing="0" border="1"><tbody><tr><td><h3>\u6807\u98981</h3></td><td><h3>\u6807\u98981</h3></td></tr><tr><td>\u5185\u5BB91</td><td>\u5185\u5BB92</td></tr><tr><td>\u5185\u5BB93</td><td>\u5185\u5BB94</td></tr></tbody></table><p>\u8868\u683C\u8BF4\u660E</p>' }, { name: "\u9879\u76EE\u7F16\u53F7", content: "<p>\u5728\u6B64\u5904\u8F93\u5165\u5185\u5BB9</p><ol><li>\u63CF\u8FF01</li><li>\u63CF\u8FF02</li><li>\u63CF\u8FF03</li></ol><p>\u5728\u6B64\u5904\u8F93\u5165\u5185\u5BB9</p><ul><li>\u63CF\u8FF01</li><li>\u63CF\u8FF02</li><li>\u63CF\u8FF03</li></ul>" }], v.options = { designMode: !0, fullscreenMode: !1, filterMode: !0, wellFormatMode: !0, shadowMode: !0, loadStyleMode: !0, basePath: v.basePath, themesPath: v.basePath + "themes/", langPath: v.basePath + "lang/", pluginsPath: v.basePath + "plugins/", themeType: "default", langType: "zh-CN", urlType: "", newlineTag: "p", resizeType: 2, syncType: "form", pasteType: 2, dialogAlignType: "page", useContextmenu: !0, fullscreenShortcut: !1, bodyClass: "ke-content", indentChar: "	", cssPath: "", cssData: "", minWidth: 650, minHeight: 100, minChangeSize: 50, zIndex: 811213, items: v.Tools.Normal, noDisableItems: ["source", "fullscreen"], colorTable: [["#1abc9c", "#2ecc71", "#3498db", "#9b59b6", "#4e5f70", "#f1c40f"], ["#16a085", "#27ae60", "#2980b9", "#8e44ad", "#2c3e50", "#f39c12"], ["#E53333", "#E56600", "#FF9900", "#64451D", "#DFC5A4", "#FFE500"], ["#009900", "#006600", "#99BB00", "#B8D100", "#60D978", "#00D5FF"], ["#337FE5", "#003399", "#4C33E5", "#9933E5", "#CC33E5", "#EE33EE"], ["#FFFFFF", "#CCCCCC", "#999999", "#666666", "#333333", "#000000"]], fontSizeTable: ["9px", "10px", "12px", "14px", "16px", "18px", "24px", "32px"], htmlTags: { font: ["id", "class", "color", "size", "face", ".background-color"], span: ["id", "class", ".color", ".background-color", ".font-size", ".font-family", ".background", ".font-weight", ".font-style", ".text-decoration", ".vertical-align", ".line-height"], div: ["id", "class", "align", ".border", ".margin", ".padding", ".text-align", ".color", ".background-color", ".font-size", ".font-family", ".font-weight", ".background", ".font-style", ".text-decoration", ".vertical-align", ".margin-left"], table: ["id", "class", "border", "cellspacing", "cellpadding", "width", "height", "align", "bordercolor", ".padding", ".margin", ".border", "bgcolor", ".text-align", ".color", ".background-color", ".font-size", ".font-family", ".font-weight", ".font-style", ".text-decoration", ".background", ".width", ".height", ".border-collapse"], "td,th": ["id", "class", "align", "valign", "width", "height", "colspan", "rowspan", "bgcolor", ".text-align", ".color", ".background-color", ".font-size", ".font-family", ".font-weight", ".font-style", ".text-decoration", ".vertical-align", ".background", ".border"], a: ["id", "class", "href", "target", "name"], media: ["id", "class"], audio: ["id", "class", "src", "width", "height", "type", "loop", "autostart", "autoplay", ".width", ".height", "controls", "muted", "preload"], video: ["id", "class", "src", "width", "height", "type", "loop", "autostart", "autoplay", ".width", ".height", "controls", "muted", "poster", "preload"], img: ["id", "class", "src", "width", "height", "border", "alt", "title", "align", ".width", ".height", ".border"], "p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6": ["id", "class", "align", ".text-align", ".color", ".background-color", ".font-size", ".font-family", ".background", ".font-weight", ".font-style", ".text-decoration", ".vertical-align", ".text-indent", ".margin-left"], pre: ["id", "class"], hr: ["id", "class", ".page-break-after"], "br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del": ["id", "class"], iframe: ["id", "class", "src", "frameborder", "width", "height", ".width", ".height"] }, layout: '<div class="container"><div class="toolbar"></div><div class="edit"></div><div class="statusbar"></div></div>' };
    var Rn = !1, Bn = oe("8,9,13,32,46,48..57,59,61,65..90,106,109..111,188,190..192,219..222"), _i = oe("33..40"), Kt = {};
    P(Bn, function(e, t) {
      Kt[e] = t;
    }), P(_i, function(e, t) {
      Kt[e] = t;
    });
    var Ti = "altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(",");
    he(Xt, { init: function(e, t) {
      var n = this, o = e.ownerDocument || e.document || e;
      if (n.event = t, P(Ti, function(c, a) {
        n[a] = t[a];
      }), n.target || (n.target = n.srcElement || o), n.target.nodeType === 3 && (n.target = n.target.parentNode), !n.relatedTarget && n.fromElement && (n.relatedTarget = n.fromElement === n.target ? n.toElement : n.fromElement), n.pageX == null && n.clientX != null) {
        var r = o.documentElement, s = o.body;
        n.pageX = n.clientX + (r && r.scrollLeft || s && s.scrollLeft || 0) - (r && r.clientLeft || s && s.clientLeft || 0), n.pageY = n.clientY + (r && r.scrollTop || s && s.scrollTop || 0) - (r && r.clientTop || s && s.clientTop || 0);
      }
      switch (!n.which && (n.charCode || n.charCode === 0 ? n.charCode : n.keyCode) && (n.which = n.charCode || n.keyCode), !n.metaKey && n.ctrlKey && (n.metaKey = n.ctrlKey), n.which || n.button === void 0 || (n.which = 1 & n.button ? 1 : 2 & n.button ? 3 : 4 & n.button ? 2 : 0), n.which) {
        case 186:
          n.which = 59;
          break;
        case 187:
        case 107:
        case 43:
          n.which = 61;
          break;
        case 189:
        case 45:
          n.which = 109;
          break;
        case 42:
          n.which = 106;
          break;
        case 47:
          n.which = 111;
          break;
        case 78:
          n.which = 110;
      }
      n.which >= 96 && n.which <= 105 && (n.which -= 48);
    }, preventDefault: function() {
      var e = this.event;
      e.preventDefault ? e.preventDefault() : e.returnValue = !1;
    }, stopPropagation: function() {
      var e = this.event;
      e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0;
    }, stop: function() {
      this.preventDefault(), this.stopPropagation();
    } });
    var _t = "kindeditor_" + xt, Fn = 0, le = {}, Un = !1;
    window.attachEvent && window.attachEvent("onunload", function() {
      P(le, function(e, t) {
        t.el && Ge(t.el);
      });
    }), v.ctrl = Dt, v.ready = Gn, v.formatUrl = Qe, v.formatHtml = Ie, v.getCssList = Pe, v.getAttrList = ke, v.mediaType = nn, v.mediaAttrs = rn, v.mediaEmbed = Mt, v.mediaImg = on, v.clearMsWord = tn, v.tmpl = Xn;
    var On = document.createElement("div");
    On.setAttribute("className", "t");
    var Si = On.className !== "t";
    v.query = Jn, v.queryAll = vt, he(de, { init: function(e) {
      var t = this;
      e = ie(e) ? e : [e];
      for (var n = 0, o = 0, r = e.length; r > o; o++)
        e[o] && (t[o] = e[o].constructor === de ? e[o][0] : e[o], n++);
      t.length = n, t.doc = Ae(t[0]), t.name = ln(t[0]), t.type = t.length > 0 ? t[0].nodeType : null, t.win = Le(t[0]);
    }, each: function(e) {
      for (var t = this, n = 0; n < t.length; n++)
        if (e.call(t[n], n, t[n]) === !1)
          return t;
      return t;
    }, bind: function(e, t) {
      return this.each(function() {
        Oe(this, e, t);
      }), this;
    }, unbind: function(e, t) {
      return this.each(function() {
        Ge(this, e, t);
      }), this;
    }, fire: function(e) {
      return this.length < 1 ? this : (en(this[0], e), this);
    }, hasAttr: function(e) {
      return this.length < 1 ? !1 : !!gt(this[0], e);
    }, attr: function(e, t) {
      var n = this;
      return e === void 0 ? ke(n.outer()) : typeof e == "object" ? (P(e, function(o, r) {
        n.attr(o, r);
      }), n) : t === void 0 ? (t = n.length < 1 ? null : gt(n[0], e), t === null ? "" : t) : (n.each(function() {
        It(this, e, t);
      }), n);
    }, removeAttr: function(e) {
      return this.each(function() {
        ti(this, e);
      }), this;
    }, get: function(e) {
      return this.length < 1 ? null : this[e || 0];
    }, eq: function(e) {
      return this.length < 1 ? null : this[e] ? new de(this[e]) : null;
    }, hasClass: function(e) {
      return this.length < 1 ? !1 : Nt(this[0], e);
    }, addClass: function(e) {
      return this.each(function() {
        Nt(this, e) || (this.className = ee(this.className + " " + e));
      }), this;
    }, removeClass: function(e) {
      return this.each(function() {
        Nt(this, e) && (this.className = ee(this.className.replace(new RegExp("(^|\\s)" + e + "(\\s|$)"), " ")));
      }), this;
    }, html: function(e) {
      var t = this;
      return e === void 0 ? t.length < 1 || t.type != 1 ? "" : Ie(t[0].innerHTML) : (t.each(function() {
        ei(this, e);
      }), t);
    }, text: function() {
      var e = this;
      return e.length < 1 ? "" : Z ? e[0].innerText : e[0].textContent;
    }, hasVal: function() {
      return this.length < 1 ? !1 : an(this[0]);
    }, val: function(e) {
      var t = this;
      return e === void 0 ? t.length < 1 ? "" : t.hasVal() ? t[0].value : t.attr("value") : (t.each(function() {
        an(this) ? this.value = e : It(this, "value", e);
      }), t);
    }, css: function(e, t) {
      var n = this;
      return e === void 0 ? Pe(n.attr("style")) : typeof e == "object" ? (P(e, function(o, r) {
        n.css(o, r);
      }), n) : t === void 0 ? n.length < 1 ? "" : n[0].style[Ke(e)] || ni(n[0], e) || "" : (n.each(function() {
        this.style[Ke(e)] = t;
      }), n);
    }, width: function(e) {
      var t = this;
      return e === void 0 ? t.length < 1 ? 0 : t[0].offsetWidth : t.css("width", J(e));
    }, height: function(e) {
      var t = this;
      return e === void 0 ? t.length < 1 ? 0 : t[0].offsetHeight : t.css("height", J(e));
    }, opacity: function(e) {
      return this.each(function() {
        this.style.opacity === void 0 ? this.style.filter = e == 1 ? "" : "alpha(opacity=" + 100 * e + ")" : this.style.opacity = e == 1 ? "" : e;
      }), this;
    }, data: function(e, t) {
      var n = this;
      return e = "kindeditor_data_" + e, t === void 0 ? n.length < 1 ? null : n[0][e] : (this.each(function() {
        this[e] = t;
      }), n);
    }, pos: function() {
      var e = this, t = e[0], n = 0, o = 0;
      if (t)
        if (t.getBoundingClientRect) {
          var r = t.getBoundingClientRect(), s = je(e.doc);
          n = r.left + s.x, o = r.top + s.y;
        } else
          for (; t; )
            n += t.offsetLeft, o += t.offsetTop, t = t.offsetParent;
      return { x: De(n), y: De(o) };
    }, clone: function(e) {
      return new de(this.length < 1 ? [] : this[0].cloneNode(e));
    }, append: function(e) {
      return this.each(function() {
        this.appendChild && this.appendChild(be(e));
      }), this;
    }, appendTo: function(e) {
      return this.each(function() {
        be(e).appendChild(this);
      }), this;
    }, before: function(e) {
      return this.each(function() {
        this.parentNode.insertBefore(be(e), this);
      }), this;
    }, after: function(e) {
      return this.each(function() {
        this.nextSibling ? this.parentNode.insertBefore(be(e), this.nextSibling) : this.parentNode.appendChild(be(e));
      }), this;
    }, replaceWith: function(e) {
      var t = [];
      return this.each(function(n, o) {
        Ge(o);
        var r = be(e);
        o.parentNode.replaceChild(r, o), t.push(r);
      }), v(t);
    }, empty: function() {
      var e = this;
      return e.each(function(t, n) {
        for (var o = n.firstChild; o; ) {
          if (!n.parentNode)
            return;
          var r = o.nextSibling;
          o.parentNode.removeChild(o), o = r;
        }
      }), e;
    }, remove: function(e) {
      var t = this;
      return t.each(function(n, o) {
        if (o.parentNode) {
          if (Ge(o), e)
            for (var r = o.firstChild; r; ) {
              var s = r.nextSibling;
              o.parentNode.insertBefore(r, o), r = s;
            }
          o.parentNode.removeChild(o), delete t[n];
        }
      }), t.length = 0, t;
    }, show: function(e) {
      var t = this;
      return e === void 0 && (e = t._originDisplay || ""), t.css("display") != "none" ? t : t.css("display", e);
    }, hide: function() {
      var e = this;
      return e.length < 1 ? e : (e._originDisplay = e[0].style.display, e.css("display", "none"));
    }, outer: function() {
      var e = this;
      if (e.length < 1)
        return "";
      var t, n = e.doc.createElement("div");
      return n.appendChild(e[0].cloneNode(!0)), t = Ie(n.innerHTML), n = null, t;
    }, isSingle: function() {
      return !!An[this.name];
    }, isInline: function() {
      return !!Nn[this.name];
    }, isBlock: function() {
      return !!In[this.name];
    }, isStyle: function() {
      return !!Ln[this.name];
    }, isControl: function() {
      return !!wi[this.name];
    }, contains: function(e) {
      return this.length < 1 ? !1 : mt(this[0], be(e));
    }, parent: function() {
      if (this.length < 1)
        return null;
      var e = this[0].parentNode;
      return e ? new de(e) : null;
    }, children: function() {
      if (this.length < 1)
        return new de([]);
      for (var e = [], t = this[0].firstChild; t; )
        (t.nodeType != 3 || ee(t.nodeValue) !== "") && e.push(t), t = t.nextSibling;
      return new de(e);
    }, first: function() {
      var e = this.children();
      return e.length > 0 ? e.eq(0) : null;
    }, last: function() {
      var e = this.children();
      return e.length > 0 ? e.eq(e.length - 1) : null;
    }, index: function() {
      if (this.length < 1)
        return -1;
      for (var e = -1, t = this[0]; t; )
        e++, t = t.previousSibling;
      return e;
    }, prev: function() {
      if (this.length < 1)
        return null;
      var e = this[0].previousSibling;
      return e ? new de(e) : null;
    }, next: function() {
      if (this.length < 1)
        return null;
      var e = this[0].nextSibling;
      return e ? new de(e) : null;
    }, scan: function(e, t) {
      function n(o) {
        for (var r = t ? o.firstChild : o.lastChild; r; ) {
          var s = t ? r.nextSibling : r.previousSibling;
          if (e(r) === !1 || n(r) === !1)
            return !1;
          r = s;
        }
      }
      if (!(this.length < 1))
        return t = t === void 0 ? !0 : t, n(this[0]), this;
    } }), P("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu".split(","), function(e, t) {
      de.prototype[t] = function(n) {
        return n ? this.bind(t, n) : this.fire(t);
      };
    });
    var Ei = v;
    v = function(e, t) {
      function n(u) {
        return u[0] || (u = []), new de(u);
      }
      if (e != null) {
        if (typeof e == "string") {
          t && (t = be(t));
          var o = e.length;
          if (e.charAt(0) === "@" && (e = e.substr(1)), e.length !== o || /<.+>/.test(e)) {
            var r = t ? t.ownerDocument || t : document, s = r.createElement("div"), c = [];
            s.innerHTML = '<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />' + e;
            for (var a = 0, i = s.childNodes.length; i > a; a++) {
              var d = s.childNodes[a];
              d.id != "__kindeditor_temp_tag__" && c.push(d);
            }
            return n(c);
          }
          return n(vt(e, t));
        }
        return e && e.constructor === de ? e : (e.toArray && (e = e.toArray()), n(ie(e) ? e : St(arguments)));
      }
    }, P(Ei, function(e, t) {
      v[e] = t;
    }), v.NodeClass = de, window.KindEditor = v;
    var ot = 0, lt = 1, He = 2, at = 3, Pn = 0;
    he(we, { init: function(e) {
      var t = this;
      t.startContainer = e, t.startOffset = 0, t.endContainer = e, t.endOffset = 0, t.collapsed = !0, t.doc = e;
    }, commonAncestor: function() {
      function e(i) {
        for (var d = []; i; )
          d.push(i), i = i.parentNode;
        return d;
      }
      for (var t, n, o = e(this.startContainer), r = e(this.endContainer), s = 0, c = o.length, a = r.length; ++s && (t = o[c - s], n = r[a - s], t && n && t === n); )
        ;
      return o[c - s + 1];
    }, setStart: function(e, t) {
      var n = this, o = n.doc;
      return n.startContainer = e, n.startOffset = t, n.endContainer === o && (n.endContainer = e, n.endOffset = t), sn(this);
    }, setEnd: function(e, t) {
      var n = this, o = n.doc;
      return n.endContainer = e, n.endOffset = t, n.startContainer === o && (n.startContainer = e, n.startOffset = t), sn(this);
    }, setStartBefore: function(e) {
      return this.setStart(e.parentNode || this.doc, v(e).index());
    }, setStartAfter: function(e) {
      return this.setStart(e.parentNode || this.doc, v(e).index() + 1);
    }, setEndBefore: function(e) {
      return this.setEnd(e.parentNode || this.doc, v(e).index());
    }, setEndAfter: function(e) {
      return this.setEnd(e.parentNode || this.doc, v(e).index() + 1);
    }, selectNode: function(e) {
      return this.setStartBefore(e).setEndAfter(e);
    }, selectNodeContents: function(e) {
      var t = v(e);
      if (t.type == 3 || t.isSingle())
        return this.selectNode(e);
      var n = t.children();
      return n.length > 0 ? this.setStartBefore(n[0]).setEndAfter(n[n.length - 1]) : this.setStart(e, 0).setEnd(e, 0);
    }, collapse: function(e) {
      return e ? this.setEnd(this.startContainer, this.startOffset) : this.setStart(this.endContainer, this.endOffset);
    }, compareBoundaryPoints: function(e, t) {
      var n = this.get(), o = t.get();
      if (!ye)
        return n.compareBoundaryPoints(e, o);
      var r = {};
      r[ot] = "StartToStart", r[lt] = "EndToStart", r[He] = "EndToEnd", r[at] = "StartToEnd";
      var s = n.compareEndPoints(r[e], o);
      if (s !== 0)
        return s;
      var c, a, i, d, u;
      if ((e === ot || e === at) && (c = this.startContainer, d = this.startOffset), (e === lt || e === He) && (c = this.endContainer, d = this.endOffset), (e === ot || e === lt) && (a = t.startContainer, u = t.startOffset), (e === He || e === at) && (a = t.endContainer, u = t.endOffset), c === a) {
        var l = d - u;
        return l > 0 ? 1 : 0 > l ? -1 : 0;
      }
      for (i = a; i && i.parentNode !== c; )
        i = i.parentNode;
      if (i)
        return v(i).index() >= d ? -1 : 1;
      for (i = c; i && i.parentNode !== a; )
        i = i.parentNode;
      return i ? v(i).index() >= u ? 1 : -1 : (i = v(a).next(), i && i.contains(c) ? 1 : (i = v(c).next(), i && i.contains(a) ? -1 : void 0));
    }, cloneRange: function() {
      return new we(this.doc).setStart(this.startContainer, this.startOffset).setEnd(this.endContainer, this.endOffset);
    }, toString: function() {
      var e = this.get(), t = ye ? e.text : e.toString();
      return t.replace(/\r\n|\n|\r/g, "");
    }, cloneContents: function() {
      return At(this, !0, !1);
    }, deleteContents: function() {
      return At(this, !1, !0);
    }, extractContents: function() {
      return At(this, !0, !0);
    }, insertNode: function(e) {
      var t, n, o, r = this, s = r.startContainer, c = r.startOffset, a = r.endContainer, i = r.endOffset, d = 1;
      return e.nodeName.toLowerCase() === "#document-fragment" && (t = e.firstChild, n = e.lastChild, d = e.childNodes.length), s.nodeType == 1 ? (o = s.childNodes[c], o ? (s.insertBefore(e, o), s === a && (i += d)) : s.appendChild(e)) : s.nodeType == 3 && (c === 0 ? (s.parentNode.insertBefore(e, s), s.parentNode === a && (i += d)) : c >= s.nodeValue.length ? s.nextSibling ? s.parentNode.insertBefore(e, s.nextSibling) : s.parentNode.appendChild(e) : (o = c > 0 ? s.splitText(c) : s, s.parentNode.insertBefore(e, o), s === a && (a = o, i -= c))), t ? r.setStartBefore(t).setEndAfter(n) : r.selectNode(e), r.compareBoundaryPoints(He, r.cloneRange().setEnd(a, i)) >= 1 ? r : r.setEnd(a, i);
    }, surroundContents: function(e) {
      return e.appendChild(this.extractContents()), this.insertNode(e).selectNode(e);
    }, isControl: function() {
      var e = this, t = e.startContainer, n = e.startOffset, o = e.endContainer, r = e.endOffset;
      return t.nodeType == 1 && t === o && n + 1 === r && v(t.childNodes[n]).isControl();
    }, get: function(e) {
      var t, n = this, o = n.doc;
      if (!ye) {
        t = o.createRange();
        try {
          t.setStart(n.startContainer, n.startOffset), t.setEnd(n.endContainer, n.endOffset);
        } catch {
        }
        return t;
      }
      if (e && n.isControl())
        return t = o.body.createControlRange(), t.addElement(n.startContainer.childNodes[n.startOffset]), t;
      var r = n.cloneRange().down();
      return t = o.body.createTextRange(), t.setEndPoint("StartToStart", un(r.startContainer, r.startOffset)), t.setEndPoint("EndToStart", un(r.endContainer, r.endOffset)), t;
    }, html: function() {
      return v(this.cloneContents()).outer();
    }, down: function() {
      function e(n, o, r) {
        if (n.nodeType == 1) {
          var s = v(n).children();
          if (s.length !== 0) {
            var c, a, i, d;
            o > 0 && (c = s.eq(o - 1)), o < s.length && (a = s.eq(o)), c && c.type == 3 && (i = c[0], d = i.nodeValue.length), a && a.type == 3 && (i = a[0], d = 0), i && (r ? t.setStart(i, d) : t.setEnd(i, d));
          }
        }
      }
      var t = this;
      return e(t.startContainer, t.startOffset, !0), e(t.endContainer, t.endOffset, !1), t;
    }, up: function() {
      function e(n, o, r) {
        n.nodeType == 3 && (o === 0 ? r ? t.setStartBefore(n) : t.setEndBefore(n) : o == n.nodeValue.length && (r ? t.setStartAfter(n) : t.setEndAfter(n)));
      }
      var t = this;
      return e(t.startContainer, t.startOffset, !0), e(t.endContainer, t.endOffset, !1), t;
    }, enlarge: function(e) {
      function t(o, r, s) {
        var c, a = v(o);
        if (!(a.type == 3 || Ct[a.name] || !e && a.isBlock())) {
          if (r === 0) {
            for (; !a.prev() && (c = a.parent(), c && !Ct[c.name] && (e || !c.isBlock())); )
              a = c;
            s ? n.setStartBefore(a[0]) : n.setEndBefore(a[0]);
          } else if (r == a.children().length) {
            for (; !a.next() && (c = a.parent(), c && !Ct[c.name] && (e || !c.isBlock())); )
              a = c;
            s ? n.setStartAfter(a[0]) : n.setEndAfter(a[0]);
          }
        }
      }
      var n = this;
      return n.up(), t(n.startContainer, n.startOffset, !0), t(n.endContainer, n.endOffset, !1), n;
    }, shrink: function() {
      for (var e, t = this, n = t.collapsed; t.startContainer.nodeType == 1 && (e = t.startContainer.childNodes[t.startOffset]) && e.nodeType == 1 && !v(e).isSingle(); )
        t.setStart(e, 0);
      if (n)
        return t.collapse(n);
      for (; t.endContainer.nodeType == 1 && t.endOffset > 0 && (e = t.endContainer.childNodes[t.endOffset - 1]) && e.nodeType == 1 && !v(e).isSingle(); )
        t.setEnd(e, e.childNodes.length);
      return t;
    }, createBookmark: function(e) {
      var t, n = this, o = n.doc, r = v('<span style="display:none;"></span>', o)[0];
      return r.id = "__kindeditor_bookmark_start_" + Pn++ + "__", n.collapsed || (t = r.cloneNode(!0), t.id = "__kindeditor_bookmark_end_" + Pn++ + "__"), t && n.cloneRange().collapse(!1).insertNode(t).setEndBefore(t), n.insertNode(r).setStartAfter(r), { start: e ? "#" + r.id : r, end: t ? e ? "#" + t.id : t : null };
    }, moveToBookmark: function(e) {
      var t = this, n = t.doc, o = v(e.start, n), r = e.end ? v(e.end, n) : null;
      return !o || o.length < 1 || (t.setStartBefore(o[0]), o.remove(), r && r.length > 0 ? (t.setEndBefore(r[0]), r.remove()) : t.collapse(!0)), t;
    }, dump: function() {
      console.log("--------------------"), console.log(this.startContainer.nodeType == 3 ? this.startContainer.nodeValue : this.startContainer, this.startOffset), console.log(this.endContainer.nodeType == 3 ? this.endContainer.nodeValue : this.endContainer, this.endOffset);
    } }), v.RangeClass = we, v.range = Lt, v.START_TO_START = ot, v.START_TO_END = lt, v.END_TO_END = He, v.END_TO_START = at, he(Ze, { init: function(e) {
      var t = this, n = e.doc;
      t.doc = n, t.win = Le(n), t.sel = Rt(n), t.range = e;
    }, selection: function(e) {
      var t = this, n = t.doc, o = ii(n);
      return t.sel = Rt(n), o ? (t.range = Lt(o), v(t.range.startContainer).name == "html" && t.range.selectNodeContents(n.body).collapse(!1), t) : (e && t.range.selectNodeContents(n.body).collapse(!1), t);
    }, select: function(e) {
      e = $(e, !0);
      var t, n = this, o = n.sel, r = n.range.cloneRange().shrink(), s = r.startContainer, c = r.startOffset, a = (r.endContainer, r.endOffset, Ae(s)), i = n.win, d = !1;
      if (e && s.nodeType == 1 && r.collapsed) {
        if (ye) {
          var u = v("<span>&nbsp;</span>", a);
          r.insertNode(u[0]), t = a.body.createTextRange();
          try {
            t.moveToElementText(u[0]);
          } catch {
          }
          return t.collapse(!1), t.select(), u.remove(), i.focus(), n;
        }
        if (Be) {
          var l = s.childNodes;
          (v(s).isInline() || c > 0 && v(l[c - 1]).isInline() || l[c] && v(l[c]).isInline()) && (r.insertNode(a.createTextNode("\u200B")), d = !0);
        }
      }
      if (ye)
        try {
          t = r.get(!0), t.select();
        } catch (p) {
          console.info("error", p);
        }
      else if (d && r.collapse(!1), t = r.get(!0), o.removeAllRanges(), o.addRange(t), a !== document) {
        var f = v(t.endContainer).pos();
        i.scrollTo(f.x, f.y);
      }
      return i.focus(), n;
    }, wrap: function(e) {
      var t, n = this, o = n.doc, r = n.range;
      if (t = v(e, o), r.collapsed)
        return r.shrink(), r.insertNode(t[0]).selectNodeContents(t[0]), n;
      if (t.isBlock()) {
        for (var s = t.clone(!0), c = s; c.first(); )
          c = c.first();
        return c.append(r.extractContents()), r.insertNode(s[0]).selectNode(s[0]), n;
      }
      r.enlarge();
      var a = r.createBookmark(), i = r.commonAncestor(), d = !1;
      return v(i).scan(function(u) {
        if (!d && u == a.start)
          return void (d = !0);
        if (d) {
          if (u == a.end)
            return !1;
          var l = v(u);
          if (ai(l))
            return;
          if (l.type == 3 && ee(u.nodeValue).length > 0) {
            for (var f; (f = l.parent()) && f.isStyle() && f.children().length == 1; )
              l = f;
            oi(l, t);
          }
        }
      }), r.moveToBookmark(a), n;
    }, split: function(e, t) {
      for (var n, o = this.range, r = o.doc, s = o.cloneRange().collapse(e), c = s.startContainer, a = s.startOffset, i = c.nodeType == 3 ? c.parentNode : c, d = !1; i && i.parentNode; ) {
        if (n = v(i), t) {
          if (!n.isStyle() || !Bt(n, t))
            break;
        } else if (Ct[n.name])
          break;
        d = !0, i = i.parentNode;
      }
      if (d) {
        var u = r.createElement("span");
        o.cloneRange().collapse(!e).insertNode(u), e ? s.setStartBefore(i.firstChild).setEnd(c, a) : s.setStart(c, a).setEndAfter(i.lastChild);
        var l = s.extractContents(), f = l.firstChild, p = l.lastChild;
        e ? (s.insertNode(l), o.setStartAfter(p).setEndBefore(u)) : (i.appendChild(l), o.setStartBefore(u).setEndBefore(f));
        var m = u.parentNode;
        if (m == o.endContainer) {
          var g = v(u).prev(), y = v(u).next();
          g && y && g.type == 3 && y.type == 3 ? o.setEnd(g[0], g[0].nodeValue.length) : e || o.setEnd(o.endContainer, o.endOffset - 1);
        }
        m.removeChild(u);
      }
      return this;
    }, remove: function(e) {
      var t = this, n = t.doc, o = t.range;
      if (o.enlarge(), o.startOffset === 0) {
        for (var r, s = v(o.startContainer); (r = s.parent()) && r.isStyle() && r.children().length == 1; )
          s = r;
        o.setStart(s[0], 0), s = v(o.startContainer), s.isBlock() && Ft(s, e);
        var c = s.parent();
        c && c.isBlock() && Ft(c, e);
      }
      var a, i;
      if (o.collapsed) {
        if (t.split(!0, e), a = o.startContainer, i = o.startOffset, i > 0) {
          var d = v(a.childNodes[i - 1]);
          d && ze(d) && (d.remove(), o.setStart(a, i - 1));
        }
        var u = v(a.childNodes[i]);
        return u && ze(u) && u.remove(), ze(a) && (o.startBefore(a), a.remove()), o.collapse(!0), t;
      }
      t.split(!0, e), t.split(!1, e);
      var l = n.createElement("span"), f = n.createElement("span");
      o.cloneRange().collapse(!1).insertNode(f), o.cloneRange().collapse(!0).insertNode(l);
      var p = [], m = !1;
      v(o.commonAncestor()).scan(function(N) {
        return m || N != l ? N == f ? !1 : void (m && p.push(N)) : void (m = !0);
      }), v(l).remove(), v(f).remove(), a = o.startContainer, i = o.startOffset;
      var g = o.endContainer, y = o.endOffset;
      if (i > 0) {
        var b = v(a.childNodes[i - 1]);
        b && ze(b) && (b.remove(), o.setStart(a, i - 1), a == g && o.setEnd(g, y - 1));
        var C = v(a.childNodes[i]);
        C && ze(C) && (C.remove(), a == g && o.setEnd(g, y - 1));
      }
      var D = v(g.childNodes[o.endOffset]);
      D && ze(D) && D.remove();
      var A = o.createBookmark(!0);
      return P(p, function(N, B) {
        Ft(v(B), e);
      }), o.moveToBookmark(A), t;
    }, commonNode: function(e) {
      function t(i) {
        for (var d = i, u = i; u; ) {
          if (Bt(v(u), e))
            return v(u);
          u = u.parentNode;
        }
        for (; d && (d = d.lastChild); )
          if (Bt(v(d), e))
            return v(d);
        return null;
      }
      var n = this.range, o = n.endContainer, r = n.endOffset, s = o.nodeType == 3 || r === 0 ? o : o.childNodes[r - 1], c = t(s);
      if (c)
        return c;
      if (!s)
        return null;
      if (s.nodeType == 1 || o.nodeType == 3 && r === 0) {
        var a = v(s).prev();
        if (a)
          return t(a);
      }
      return null;
    }, commonAncestor: function(e) {
      function t(l) {
        for (; l; ) {
          if (l.nodeType == 1 && l.tagName.toLowerCase() === e)
            return l;
          l = l.parentNode;
        }
        return null;
      }
      var n = this.range, o = n.startContainer, r = n.startOffset, s = n.endContainer, c = n.endOffset, a = o.nodeType == 3 || r === 0 ? o : o.childNodes[r - 1], i = s.nodeType == 3 || c === 0 ? s : s.childNodes[c - 1], d = t(a), u = t(i);
      return d && u && d === u ? v(d) : null;
    }, state: function(e) {
      var t = this, n = t.doc, o = !1;
      try {
        o = n.queryCommandState(e);
      } catch {
      }
      return o;
    }, val: function(e) {
      function t(c) {
        return c.toLowerCase();
      }
      var n = this, o = n.doc;
      n.range, e = t(e);
      var r, s = "";
      return e === "fontfamily" || e === "fontname" ? (s = fn(o, "fontname"), s = s.replace(/['"]/g, ""), t(s)) : e === "formatblock" ? (s = fn(o, e), s === "" && (r = n.commonNode({ "h1,h2,h3,h4,h5,h6,p,div,pre,address": "*" }), r && (s = r.name)), s === "Normal" && (s = "p"), t(s)) : e === "fontsize" ? (r = n.commonNode({ "*": ".font-size" }), r && (s = r.css("font-size")), t(s)) : e === "forecolor" ? (r = n.commonNode({ "*": ".color" }), r && (s = r.css("color")), s = pt(s), s === "" && (s = "default"), t(s)) : e === "hilitecolor" ? (r = n.commonNode({ "*": ".background-color" }), r && (s = r.css("background-color")), s = pt(s), s === "" && (s = "default"), t(s)) : s;
    }, toggle: function(e, t) {
      var n = this;
      return n.commonNode(t) ? n.remove(t) : n.wrap(e), n.select();
    }, bold: function() {
      return this.toggle("<strong></strong>", { span: ".font-weight=bold", strong: "*", b: "*" });
    }, italic: function() {
      return this.toggle("<em></em>", { span: ".font-style=italic", em: "*", i: "*" });
    }, underline: function() {
      return this.toggle("<u></u>", { span: ".text-decoration=underline", u: "*" });
    }, strikethrough: function() {
      return this.toggle("<s></s>", { span: ".text-decoration=line-through", s: "*" });
    }, forecolor: function(e) {
      return this.wrap('<span style="color:' + e + ';"></span>').select();
    }, hilitecolor: function(e) {
      return this.wrap('<span style="background-color:' + e + ';"></span>').select();
    }, fontsize: function(e) {
      return this.wrap('<span style="font-size:' + e + ';"></span>').select();
    }, fontname: function(e) {
      return this.fontfamily(e);
    }, fontfamily: function(e) {
      return this.wrap('<span style="font-family:' + e + ';"></span>').select();
    }, removeformat: function() {
      var e = { "*": ".font-weight,.font-style,.text-decoration,.color,.background-color,.font-size,.font-family,.text-indent" }, t = Ln;
      return P(t, function(n, o) {
        e[n] = "*";
      }), this.remove(e), this.select();
    }, inserthtml: function(e, t) {
      function n(c, a) {
        a = '<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />' + a;
        var i = c.get();
        i.item ? i.item(0).outerHTML = a : i.pasteHTML(a);
        var d = c.doc.getElementById("__kindeditor_temp_tag__");
        d.parentNode.removeChild(d);
        var u = dn(i);
        c.setEnd(u.endContainer, u.endOffset), c.collapse(!1), r.select(!1);
      }
      function o(c, a) {
        var i = c.doc, d = i.createDocumentFragment();
        v("@" + a, i).each(function() {
          d.appendChild(this);
        }), c.deleteContents(), c.insertNode(d), c.collapse(!1), r.select(!1);
      }
      var r = this, s = r.range;
      if (e === "")
        return r;
      if (ye && t) {
        try {
          n(s, e);
        } catch {
          o(s, e);
        }
        return r;
      }
      return o(s, e), r;
    }, hr: function() {
      return this.inserthtml("<hr />");
    }, print: function() {
      return this.win.print(), this;
    }, insertimage: function(e, t, n, o, r, s, c, a) {
      t = $(t, ""), c = $(c, "");
      var i = '<img data-ke-class="' + c + '" src="' + se(e) + '" data-ke-src="' + se(e) + '" ';
      return n && (i += 'width="' + se(n) + '" '), o && (i += 'height="' + se(o) + '" '), t && (i += 'title="' + se(t) + '" '), s && (i += 'align="' + se(s) + '" '), i += 'alt="' + se(t) + '" ', i += "/>", a && (i = "<" + a + ">" + i + "</" + a + ">"), this.inserthtml(i);
    }, createlink: function(e, t) {
      function n(m, g, y) {
        v(m).attr("href", g).attr("data-ke-src", g), y ? v(m).attr("target", y) : v(m).removeAttr("target");
      }
      var o = this, r = o.doc, s = o.range;
      o.select();
      var c = o.commonNode({ a: "*" });
      c && !s.isControl() && (s.selectNode(c.get()), o.select());
      var a = '<a href="' + se(e) + '" data-ke-src="' + se(e) + '" ';
      if (t && (a += ' target="' + se(t) + '"'), s.collapsed)
        return a += ">" + se(e) + "</a>", o.inserthtml(a);
      if (s.isControl()) {
        var i = v(s.startContainer.childNodes[s.startOffset]);
        return a += "></a>", i.after(v(a, r)), i.next().append(i), s.selectNode(i[0]), o.select();
      }
      var d = s.startContainer, u = s.startOffset, l = s.endContainer, f = s.endOffset;
      if (d.nodeType == 1 && d === l && u + 1 === f) {
        var p = d.childNodes[u];
        if (p.nodeName.toLowerCase() == "a")
          return n(p, e, t), o;
      }
      return _e(r, "createlink", "__kindeditor_temp_url__"), v('a[href="__kindeditor_temp_url__"]', r).each(function() {
        n(this, e, t);
      }), o;
    }, unlink: function() {
      var e = this, t = e.doc, n = e.range;
      if (e.select(), n.collapsed) {
        var o = e.commonNode({ a: "*" });
        if (o && (n.selectNode(o.get()), e.select()), _e(t, "unlink", null), Be && v(n.startContainer).name === "img") {
          var r = v(n.startContainer).parent();
          r.name === "a" && r.remove(!0);
        }
      } else
        _e(t, "unlink", null);
      return e;
    } }), P("formatblock,selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript".split(","), function(e, t) {
      Ze.prototype[t] = function(n) {
        var o = this;
        return o.select(), _e(o.doc, t, n), ye && pe(t, "justifyleft,justifycenter,justifyright,justifyfull".split(",")) >= 0 && o.selection(), (!ye || pe(t, "formatblock,selectall,insertorderedlist,insertunorderedlist".split(",")) >= 0) && o.selection(), o;
      };
    }), P("cut,copy,paste".split(","), function(e, t) {
      Ze.prototype[t] = function() {
        var n = this;
        if (!n.doc.queryCommandSupported(t))
          throw "not supported";
        return n.select(), _e(n.doc, t, null), n;
      };
    }), v.CmdClass = Ze, v.cmd = gn, he(Te, { init: function(e) {
      var t = this;
      if (t.name = e.name || "", t.doc = e.doc || document, t.win = Le(t.doc), t.x = J(e.x), t.y = J(e.y), t.z = e.z, t.width = J(e.width), t.height = J(e.height), t.div = v('<div style="display:block;"></div>'), t.options = e, t._alignEl = e.alignEl, t.width && t.div.css("width", t.width), t.height && t.div.css("height", t.height), t.z && t.div.css({ position: "absolute", left: t.x, top: t.y, "z-index": t.z }), !t.z || t.x !== void 0 && t.y !== void 0 || t.autoPos(t.width, t.height), e.cls && t.div.addClass(e.cls), e.shadowMode && t.div.addClass("ke-shadow"), e.css && t.div.css(e.css), e.src ? v(e.src).replaceWith(t.div) : v(t.doc.body).append(t.div), e.html && t.div.html(e.html), e.autoScroll)
        if (Z && 7 > ce || Ee) {
          var n = je();
          v(t.win).bind("scroll", function(o) {
            var r = je(), s = r.x - n.x, c = r.y - n.y;
            t.pos(X(t.x) + s, X(t.y) + c, !1);
          });
        } else
          t.div.css("position", "fixed");
    }, pos: function(e, t, n) {
      var o = this;
      return n = $(n, !0), e !== null && (e = 0 > e ? 0 : J(e), o.div.css("left", e), n && (o.x = e)), t !== null && (t = 0 > t ? 0 : J(t), o.div.css("top", t), n && (o.y = t)), o;
    }, autoPos: function(e, t) {
      var n, o, r = this, s = X(e) || 0, c = X(t) || 0, a = je();
      if (r._alignEl) {
        var i = v(r._alignEl), d = i.pos(), u = De(i[0].clientWidth / 2 - s / 2), l = De(i[0].clientHeight / 2 - c / 2);
        n = 0 > u ? d.x : d.x + u, o = 0 > l ? d.y : d.y + l;
      } else {
        var f = ge(r.doc);
        n = De(a.x + (f.clientWidth - s) / 2), o = De(a.y + (f.clientHeight - c) / 2);
      }
      return Z && 7 > ce || Ee || (n -= a.x, o -= a.y), r.pos(n, o);
    }, remove: function() {
      var e = this;
      return (Z && 7 > ce || Ee) && v(e.win).unbind("scroll"), e.div.remove(), P(e, function(t) {
        e[t] = null;
      }), this;
    }, show: function() {
      return this.div.show(), this;
    }, hide: function() {
      return this.div.hide(), this;
    }, draggable: function(e) {
      var t = this;
      return e = e || {}, e.moveEl = t.div, e.moveFn = function(n, o, r, s, c, a) {
        (n += c) < 0 && (n = 0), (o += a) < 0 && (o = 0), t.pos(n, o);
      }, Ot(e), t;
    } }), v.WidgetClass = Te, v.widget = Pt;
    var Tt, Gt = "";
    (Tt = document.getElementsByTagName("html")) && (Gt = Tt[0].dir), he(Je, Te, { init: function(e) {
      function t() {
        var u = jt(n.iframe);
        u.open(), a && (u.domain = document.domain), u.write(si(o, r, s, c)), u.close(), n.win = n.iframe[0].contentWindow, n.doc = u;
        var l = gn(u);
        n.afterChange(function(f) {
          l.selection();
        }), Be && v(u).click(function(f) {
          (v(f.target).name === "img" || v(f.target).name === "audio" || v(f.target).name === "video") && (l.selection(!0), l.range.selectNode(f.target), l.select());
        }), Z && (n._mousedownHandler = function() {
          var f = l.range.cloneRange();
          f.shrink(), f.isControl() && n.blur();
        }, v(document).mousedown(n._mousedownHandler), v(u).keydown(function(f) {
          if (f.which == 8) {
            l.selection();
            var p = l.range;
            p.isControl() && (p.collapse(!0), v(p.startContainer.childNodes[p.startOffset]).remove(), f.preventDefault());
          }
        })), n.cmd = l, n.html(Xe(n.srcElement)), Z ? (u.body.disabled = !0, u.body.contentEditable = !0, u.body.removeAttribute("disabled")) : u.designMode = "on", e.afterCreate && e.afterCreate.call(n);
      }
      var n = this;
      Je.parent.init.call(n, e), n.srcElement = v(e.srcElement), n.div.addClass("ke-edit"), n.designMode = $(e.designMode, !0), n.beforeGetHtml = e.beforeGetHtml, n.beforeSetHtml = e.beforeSetHtml, n.afterSetHtml = e.afterSetHtml;
      var o = $(e.themesPath, ""), r = e.bodyClass, s = e.cssPath, c = e.cssData, a = location.protocol != "res:" && location.host.replace(/:\d+/, "") !== document.domain, i = "document.open();" + (a ? 'document.domain="' + document.domain + '";' : "") + "document.close();", d = Z ? ' src="javascript:void(function(){' + encodeURIComponent(i) + '}())"' : "";
      n.iframe = v('<iframe class="ke-edit-iframe" hidefocus="true" frameborder="0"' + d + "></iframe>").css("width", "100%"), n.textarea = v('<textarea class="ke-edit-textarea" hidefocus="true"></textarea>').css("width", "100%"), n.tabIndex = isNaN(parseInt(e.tabIndex, 10)) ? n.srcElement.attr("tabindex") : parseInt(e.tabIndex, 10), n.iframe.attr("tabindex", n.tabIndex), n.textarea.attr("tabindex", n.tabIndex), n.width && n.setWidth(n.width), n.height && n.setHeight(n.height), n.designMode ? n.textarea.hide() : n.iframe.hide(), a && n.iframe.bind("load", function(u) {
        n.iframe.unbind("load"), Z ? t() : setTimeout(t, 0);
      }), n.div.append(n.iframe), n.div.append(n.textarea), n.srcElement.hide(), !a && t();
    }, setWidth: function(e) {
      var t = this;
      return e = J(e), t.width = e, t.div.css("width", e), t;
    }, setHeight: function(e) {
      var t = this;
      return e = J(e), t.height = e, t.div.css("height", e), t.iframe.css("height", e), (Z && 8 > ce || Ee) && (e = J(X(e) - 2)), t.textarea.css("height", e), t;
    }, remove: function() {
      var e = this, t = e.doc;
      v(t.body).unbind(), v(t).unbind(), v(e.win).unbind(), e._mousedownHandler && v(document).unbind("mousedown", e._mousedownHandler), Xe(e.srcElement, e.html()), e.srcElement.show(), e.iframe.unbind(), e.textarea.unbind(), Je.parent.remove.call(e);
    }, html: function(e, t) {
      var n = this, o = n.doc;
      if (n.designMode) {
        var r = o.body;
        return e === void 0 ? (e = t ? "<!doctype html><html>" + r.parentNode.innerHTML + "</html>" : r.innerHTML, n.beforeGetHtml && (e = n.beforeGetHtml(e)), Re && e == "<br />" && (e = ""), e) : (n.beforeSetHtml && (e = n.beforeSetHtml(e)), Z && ce >= 9 && (e = e.replace(/(<.*?checked=")checked(".*>)/gi, "$1$2")), v(r).html(e), n.afterSetHtml && n.afterSetHtml(), n);
      }
      return e === void 0 ? n.textarea.val() : (n.textarea.val(e), n);
    }, design: function(e) {
      var t, n = this;
      if (e === void 0 ? !n.designMode : e) {
        if (!n.designMode) {
          t = n.html(), n.designMode = !0, n.textarea.hide(), n.html(t);
          var o = n.iframe, r = X(n.height);
          o.height(r - 2), o.show(), setTimeout(function() {
            o.height(r);
          }, 0);
        }
      } else
        n.designMode && (t = n.html(), n.designMode = !1, n.html(t), n.iframe.hide(), n.textarea.show());
      return n.focus();
    }, focus: function() {
      var e = this;
      return e.designMode ? e.win.focus() : e.textarea[0].focus(), e;
    }, blur: function() {
      var e = this;
      if (Z) {
        var t = v('<input type="text" style="float:left;width:0;height:0;padding:0;margin:0;border:0;" value="" />', e.div);
        e.div.append(t), t[0].focus(), t.remove();
      } else
        e.designMode ? e.win.blur() : e.textarea[0].blur();
      return e;
    }, afterChange: function(e) {
      function t(s) {
        setTimeout(function() {
          e(s);
        }, 1);
      }
      var n = this, o = n.doc, r = o.body;
      if (e)
        return v(o).keyup(function(s) {
          s.ctrlKey || s.altKey || !Kt[s.which] || e(s);
        }), v(o).mouseup(e).contextmenu(e), v(n.win).blur(e), v(r).bind("paste", t), v(r).bind("cut", t), n;
    } }), v.EditClass = Je, v.edit = vn, v.iframeDoc = jt, he(yt, Te, { init: function(e) {
      function t(r) {
        var s = v(r);
        return s.hasClass("ke-outline") ? s : s.hasClass("ke-toolbar-icon") ? s.parent() : void 0;
      }
      function n(r, s) {
        var c = t(r.target);
        if (c) {
          if (c.hasClass("ke-disabled") || c.hasClass("ke-selected"))
            return;
          c[s]("ke-on");
        }
      }
      var o = this;
      yt.parent.init.call(o, e), o.disableMode = $(e.disableMode, !1), o.noDisableItemMap = oe($(e.noDisableItems, [])), o._itemMap = {}, o.div.addClass("ke-toolbar").bind("contextmenu,mousedown,mousemove", function(r) {
        r.preventDefault();
      }).attr("unselectable", "on"), o.div.mouseover(function(r) {
        n(r, "addClass");
      }).mouseout(function(r) {
        n(r, "removeClass");
      }).click(function(r) {
        var s = t(r.target);
        if (s) {
          if (s.hasClass("ke-disabled"))
            return;
          o.options.click.call(this, r, s.attr("data-name"));
        }
      });
    }, get: function(e) {
      return this._itemMap[e] ? this._itemMap[e] : this._itemMap[e] = v("span.ke-icon-" + e, this.div).parent();
    }, select: function(e) {
      return yn.call(this, e, function(t) {
        t.addClass("ke-selected");
      }), self;
    }, unselect: function(e) {
      return yn.call(this, e, function(t) {
        t.removeClass("ke-selected").removeClass("ke-on");
      }), self;
    }, enable: function(e) {
      var t = this, n = e.get ? e : t.get(e);
      return n && (n.removeClass("ke-disabled"), n.opacity(1)), t;
    }, disable: function(e) {
      var t = this, n = e.get ? e : t.get(e);
      return n && (n.removeClass("ke-selected").addClass("ke-disabled"), n.opacity(0.5)), t;
    }, disableAll: function(e, t) {
      var n = this, o = n.noDisableItemMap;
      return t && (o = oe(t)), (e === void 0 ? !n.disableMode : e) ? (v("span.ke-outline", n.div).each(function() {
        var r = v(this), s = r[0].getAttribute("data-name", 2);
        o[s] || n.disable(r);
      }), n.disableMode = !0) : (v("span.ke-outline", n.div).each(function() {
        var r = v(this), s = r[0].getAttribute("data-name", 2);
        o[s] || n.enable(r);
      }), n.disableMode = !1), n;
    } }), v.ToolbarClass = yt, v.toolbar = kn, he(et, Te, { init: function(e) {
      var t = this;
      e.z = e.z || 811213, et.parent.init.call(t, e), t.centerLineMode = $(e.centerLineMode, !0), t.div.addClass("ke-menu").bind("click,mousedown", function(n) {
        n.stopPropagation();
      }).attr("unselectable", "on");
    }, addItem: function(e) {
      var t = this;
      if (e.title === "-")
        return void t.div.append(v('<div class="ke-menu-separator"></div>'));
      var n = v('<div class="ke-menu-item" unselectable="on"></div>'), o = v('<div class="ke-inline-block ke-menu-item-left"></div>'), r = v('<div class="ke-inline-block ke-menu-item-right"></div>'), s = J(e.height), c = $(e.iconClass, "");
      t.div.append(n), s && (n.css("height", s), r.css("line-height", s));
      var a;
      return t.centerLineMode && (a = v('<div class="ke-inline-block ke-menu-item-center"></div>'), s && a.css("height", s)), n.mouseover(function(i) {
        v(this).addClass("ke-menu-item-on"), a && a.addClass("ke-menu-item-center-on");
      }).mouseout(function(i) {
        v(this).removeClass("ke-menu-item-on"), a && a.removeClass("ke-menu-item-center-on");
      }).click(function(i) {
        e.click.call(v(this)), i.stopPropagation();
      }).append(o), a && n.append(a), n.append(r), e.checked && (c = "ke-icon-checked icon-ke-font"), c !== "" && o.html('<span class="ke-inline-block ke-toolbar-icon icon-ke-font ke-toolbar-icon-url ' + c + '"></span>'), r.html(e.title), t;
    }, remove: function() {
      var e = this;
      return e.options.beforeRemove && e.options.beforeRemove.call(e), v(".ke-menu-item", e.div[0]).unbind(), et.parent.remove.call(e), e;
    } }), v.MenuClass = et, v.menu = zt, he(tt, Te, { init: function(e) {
      var t = this;
      e.z = e.z || 811213, tt.parent.init.call(t, e);
      var n = e.colors || [["#1abc9c", "#2ecc71", "#3498db", "#9b59b6", "#4e5f70", "#f1c40f"], ["#16a085", "#27ae60", "#2980b9", "#8e44ad", "#2c3e50", "#f39c12"], ["#E53333", "#E56600", "#FF9900", "#64451D", "#DFC5A4", "#FFE500"], ["#009900", "#006600", "#99BB00", "#B8D100", "#60D978", "#00D5FF"], ["#337FE5", "#003399", "#4C33E5", "#9933E5", "#CC33E5", "#EE33EE"], ["#FFFFFF", "#CCCCCC", "#999999", "#666666", "#333333", "#000000"]];
      t.selectedColor = (e.selectedColor || "").toLowerCase(), t._cells = [], t.div.addClass("ke-colorpicker").bind("click,mousedown", function(i) {
        i.stopPropagation();
      }).attr("unselectable", "on");
      var o = t.doc.createElement("table");
      t.div.append(o), o.className = "ke-colorpicker-table", o.cellPadding = 0, o.cellSpacing = 0, o.border = 0;
      var r = o.insertRow(0), s = r.insertCell(0);
      s.colSpan = n[0].length, t._addAttr(s, "", "ke-colorpicker-cell-top");
      for (var c = 0; c < n.length; c++) {
        r = o.insertRow(c + 1);
        for (var a = 0; a < n[c].length; a++)
          s = r.insertCell(a), t._addAttr(s, n[c][a], "ke-colorpicker-cell");
      }
    }, _addAttr: function(e, t, n) {
      var o = this;
      e = v(e).addClass(n), o.selectedColor === t.toLowerCase() && e.addClass("ke-colorpicker-cell-selected"), e.attr("title", t || o.options.noColor), e.mouseover(function(r) {
        v(this).addClass("ke-colorpicker-cell-on");
      }), e.mouseout(function(r) {
        v(this).removeClass("ke-colorpicker-cell-on");
      }), e.click(function(r) {
        r.stop(), o.options.click.call(v(this), t);
      }), t ? e.append(v('<div class="ke-colorpicker-cell-color" unselectable="on"></div>').css("background-color", t)) : e.html(o.options.noColor), v(e).attr("unselectable", "on"), o._cells.push(e);
    }, remove: function() {
      var e = this;
      return P(e._cells, function() {
        this.unbind();
      }), tt.parent.remove.call(e), e;
    } }), v.ColorPickerClass = tt, v.colorpicker = bn, he(Ht, { init: function(e) {
      var t = this, n = v(e.button), o = e.fieldName || "file", r = e.url || "", s = n.val(), c = e.extraParams || {}, a = n[0].className || "", i = e.target || "kindeditor_upload_iframe_" + new Date().getTime();
      e.afterError = e.afterError || function(y) {
        alert(y);
      };
      var d = [];
      for (var u in c)
        d.push('<input type="hidden" name="' + u + '" value="' + c[u] + '" />');
      var l = ['<div class="ke-inline-block ' + a + '">', e.target ? "" : '<iframe name="' + i + '" style="display:none;"></iframe>', e.form ? '<div class="ke-upload-area">' : '<form class="ke-upload-area ke-form" method="post" enctype="multipart/form-data" target="' + i + '" action="' + r + '">', '<span class="ke-button-common">', d.join(""), '<input type="button" class="ke-button-common ke-button" value="' + s + '" />', "</span>", '<input type="file" class="ke-upload-file" name="' + o + '" tabindex="-1" />', e.form ? "</div>" : "</form>", "</div>"].join(""), f = v(l, n.doc);
      n.hide(), n.before(f), t.div = f, t.button = n, t.fileBox = v(".ke-upload-file", f), t.form = e.form ? v(e.form) : v("form", f);
      var p = v.undef(e.fileSizeLimit, "1MB"), m = v.undef(e.fileTypeLimit, "*.jpg;*.gif;*.png");
      t.uploader = WebUploader.create({ server: e.uploadUrl, resize: !1, fileVal: "file", accept: { title: "upload", extensions: m.replace(/\*\./g, "").replace(/;/g, ","), mimeTypes: "image/*" }, headers: e.uploadHeader, formData: e.uploadData, fileNumLimit: 1, fileSingleSizeLimit: 1 * p.replace(/MB/g, "") * 1024 * 1024 }), t.uploader.on("uploadStart", function(y) {
      }), t.uploader.on("uploadSuccess", function(y, b) {
        t.options.afterUpload.call(t, b.data);
      }), t.uploader.on("error", function(y) {
        var b = "\u6587\u4EF6\u4E0A\u4F20\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5\uFF01";
        y === "Q_TYPE_DENIED" ? b = "[" + arguments[1].name + "]\u6587\u4EF6\u7C7B\u578B\u4E0D\u6B63\u786E\uFF01" : y === "F_EXCEED_SIZE" ? b = "\u6587\u4EF6\u5927\u5C0F\u8D85\u51FA\u9650\u5236\uFF08\u6700\u5927" + 1 * e.fileSizeLimit.replace(/MB/g, "") + "M\uFF09\uFF01" : y === "F_DUPLICATE" && (b = "[" + arguments[1].name + "]\u6587\u4EF6\u5DF2\u5B58\u5728\u4E8E\u5F85\u4E0A\u4F20\u5217\u8868\u4E2D\uFF01"), console.error("\u6587\u4EF6\u4E0A\u4F20\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5\uFF01", arguments), t.options.afterUpload.call(t, { error: 1, message: b }), t.uploader.reset(), t.form && t.form[0] && t.form[0].reset && t.form[0].reset();
      }), t.fileBox.bind("change", function() {
        t.uploader.reset(), this.files && t.uploader.addFiles(this.files);
      });
      var g = e.width || v(".ke-button-common", f).width();
      v(".ke-upload-area", f).width(g), t.options = e;
    }, submit: function() {
      var e = this, t = e.uploader.getFiles();
      return t.length <= 0 ? (alert("\u8BF7\u9009\u62E9\u6587\u4EF6"), void e.uploader.reset()) : (setTimeout(function() {
        e.uploader.upload();
      }, 100), e);
    }, remove: function() {
      var e = this;
      return e.fileBox && e.fileBox.unbind(), e.div.remove(), e.button.show(), e;
    } }), v.UploadButtonClass = Ht, v.uploadbutton = ci, he(nt, Te, { init: function(e) {
      var t = this, n = $(e.shadowMode, !0);
      e.z = e.z || 811213, e.shadowMode = !1, e.autoScroll = $(e.autoScroll, !0), nt.parent.init.call(t, e);
      var o = e.title, r = v(e.body, t.doc), s = e.previewBtn, c = e.yesBtn, a = e.noBtn, i = e.closeBtn, d = $(e.showMask, !0);
      t.div.addClass("ke-dialog").bind("click,mousedown", function(b) {
        b.stopPropagation();
      });
      var u = v('<div class="ke-dialog-content"></div>').appendTo(t.div);
      Z && 7 > ce ? t.iframeMask = v('<iframe src="about:blank" class="ke-dialog-shadow"></iframe>').appendTo(t.div) : n && v('<div class="ke-dialog-shadow"></div>').appendTo(t.div);
      var l = v('<div class="ke-dialog-header"></div>');
      u.append(l), l.html(o), t.closeIcon = v('<span class="ke-dialog-icon-close" title="' + i.name + '"></span>').click(i.click), l.append(t.closeIcon), t.draggable({ clickEl: l, beforeDrag: e.beforeDrag });
      var f = v('<div class="ke-dialog-body"></div>');
      u.append(f), f.append(r);
      var p = v('<div class="ke-dialog-footer"></div>');
      if ((s || c || a) && u.append(p), P([{ btn: s, name: "preview" }, { btn: c, name: "yes" }, { btn: a, name: "no" }], function() {
        if (this.btn) {
          var b = ui(this.btn);
          b.addClass("ke-dialog-" + this.name), p.append(b);
        }
      }), t.height && f.height(X(t.height) - l.height() - p.height() - 2), t.div.width(t.div.width()), t.div.height(t.div.height()), t.mask = null, d) {
        var m = ge(t.doc), g = Math.max(m.scrollWidth, m.clientWidth), y = Math.max(m.scrollHeight, m.clientHeight);
        t.mask = Pt({ x: 0, y: 0, z: t.z - 1, cls: "ke-dialog-mask", width: g, height: y });
      }
      t.autoPos(t.div.width(), t.div.height()), t.footerDiv = p, t.bodyDiv = f, t.headerDiv = l, t.isLoading = !1;
    }, setMaskIndex: function(e) {
      var t = this;
      t.mask.div.css("z-index", e);
    }, showLoading: function(e) {
      e = $(e, "");
      var t = this, n = t.bodyDiv;
      return t.loading = v('<div class="ke-dialog-loading"><div class="ke-inline-block ke-dialog-loading-content" style="margin-top:' + Math.round(n.height() / 3) + 'px;">' + e + "</div></div>").width(n.width()).height(n.height()).css("top", t.headerDiv.height() + "px"), n.css("visibility", "hidden").after(t.loading), t.isLoading = !0, t;
    }, hideLoading: function() {
      return this.loading && this.loading.remove(), this.bodyDiv.css("visibility", "visible"), this.isLoading = !1, this;
    }, remove: function() {
      var e = this;
      return e.options.beforeRemove && e.options.beforeRemove.call(e), e.mask && e.mask.remove(), e.iframeMask && e.iframeMask.remove(), e.closeIcon.unbind(), v("input", e.div).unbind(), v("button", e.div).unbind(), e.footerDiv.unbind(), e.bodyDiv.unbind(), e.headerDiv.unbind(), v("iframe", e.div).each(function() {
        v(this).remove();
      }), nt.parent.remove.call(e), e;
    } }), v.DialogClass = nt, v.dialog = wn, v.tabs = di, v.loadScript = qt, v.loadStyle = Wt, v.ajax = fi;
    var xe = {}, Ce = {};
    it.prototype = { lang: function(e) {
      return Tn(e, this.langType);
    }, loadPlugin: function(e, t) {
      var n = this, o = this._pluginStatus;
      return o || (o = this._pluginStatus = {}), xe[e] ? re(xe[e]) ? (o[e] || (xe[e].call(n, KindEditor), o[e] = "inited"), t && t.call(n), n) : (setTimeout(function() {
        n.loadPlugin(e, t);
      }, 100), n) : (xe[e] = "loading", qt(n.pluginsPath + e + "/" + e + ".js?ver=" + encodeURIComponent(v.DEBUG ? xt : wt), function() {
        setTimeout(function() {
          xe[e] && n.loadPlugin(e, t);
        }, 0);
      }), n);
    }, handler: function(e, t) {
      var n = this;
      return n._handlers[e] || (n._handlers[e] = []), re(t) ? (n._handlers[e].push(t), n) : (P(n._handlers[e], function() {
        t = this.call(n, t);
      }), t);
    }, clickToolbar: function(e, t) {
      var n = this, o = "clickToolbar" + e;
      return t === void 0 ? n._handlers[o] ? n.handler(o) : (n.loadPlugin(e, function() {
        n.handler(o);
      }), n) : n.handler(o, t);
    }, updateState: function() {
      var e = this;
      return P("justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,subscript,superscript,bold,italic,underline,strikethrough".split(","), function(t, n) {
        e.cmd.state(n) ? e.toolbar.select(n) : e.toolbar.unselect(n);
      }), e;
    }, addContextmenu: function(e) {
      return this._contextmenus.push(e), this;
    }, afterCreate: function(e) {
      return this.handler("afterCreate", e);
    }, beforeRemove: function(e) {
      return this.handler("beforeRemove", e);
    }, beforeGetHtml: function(e) {
      return this.handler("beforeGetHtml", e);
    }, beforeSetHtml: function(e) {
      return this.handler("beforeSetHtml", e);
    }, afterSetHtml: function(e) {
      return this.handler("afterSetHtml", e);
    }, create: function() {
      function e() {
        return i.height() === 0 ? void setTimeout(e, 100) : void t.resize(o, r, !1);
      }
      var t = this, n = t.fullscreenMode;
      if (t.isCreated || t.srcElement.data("kindeditor"))
        return t;
      t.srcElement.data("kindeditor", "true"), n ? ge().style.overflow = "hidden" : ge().style.overflow = "";
      var o = n ? ge().clientWidth + "px" : t.width, r = n ? ge().clientHeight + "px" : t.height;
      (Z && 8 > ce || Ee) && (r = J(X(r) + 2));
      var s = t.container = v(t.layout);
      n ? v(document.body).append(s) : t.srcElement.before(s);
      var c = v(".toolbar", s), a = v(".edit", s), i = t.statusbar = v(".statusbar", s);
      s.removeClass("container").addClass("ke-container ke-container-" + t.themeType).css("width", o), n ? (s.css({ position: "absolute", left: 0, top: 0, "z-index": 811211 }), Re || (t._scrollPos = je()), window.scrollTo(0, 0), v(document.body).css({ height: "1px", overflow: "hidden" }), v(document.body.parentNode).css("overflow", "hidden"), t._fullscreenExecuted = !0) : (t._fullscreenExecuted && (v(document.body).css({ height: "", overflow: "" }), v(document.body.parentNode).css("overflow", "")), t._scrollPos && window.scrollTo(t._scrollPos.x, t._scrollPos.y));
      var d = [];
      v.each(t.items, function(p, m) {
        m == "|" ? d.push('<span class="ke-inline-block ke-separator"></span>') : m == "/" ? d.push('<div class="ke-hr"></div>') : (d.push('<span class="ke-outline" data-name="' + m + '" title="' + t.lang(m) + '" unselectable="on">'), d.push('<span class="ke-toolbar-icon icon-ke-font ke-toolbar-icon-url ke-icon-' + m + '" unselectable="on"></span></span>'));
      });
      var u = t.toolbar = kn({ src: c, html: d.join(""), noDisableItems: t.noDisableItems, click: function(p, m) {
        if (p.stop(), t.menu) {
          var g = t.menu.name;
          if (t.hideMenu(), g === m)
            return;
        }
        t.clickToolbar(m);
      } }), l = X(r) - u.div.height(), f = t.edit = vn({ height: l > 0 && X(r) > t.minHeight ? l : t.minHeight, src: a, srcElement: t.srcElement, designMode: t.designMode, themesPath: t.themesPath, bodyClass: t.bodyClass, cssPath: t.cssPath, cssData: t.cssData, beforeGetHtml: function(p) {
        return p = t.beforeGetHtml(p), p = Se(bt(p)), Ie(p, t.filterMode ? t.htmlTags : null, t.urlType, t.wellFormatMode, t.indentChar);
      }, beforeSetHtml: function(p) {
        return p = Ie(p, t.filterMode ? t.htmlTags : null, "", !1), t.beforeSetHtml(p);
      }, afterSetHtml: function() {
        t.edit = f = this, t.afterSetHtml();
      }, afterCreate: function() {
        if (t.edit = f = this, t.cmd = f.cmd, t._docMousedownFn = function(m) {
          t.menu && t.hideMenu();
        }, v(f.doc, document).mousedown(t._docMousedownFn), pi.call(t), hi.call(t), mi.call(t), gi.call(t), f.afterChange(function(m) {
          f.designMode && (t.updateState(), t.addBookmark(), t.options.afterChange && t.options.afterChange.call(t));
        }), f.textarea.keyup(function(m) {
          m.ctrlKey || m.altKey || !Bn[m.which] || t.options.afterChange && t.options.afterChange.call(t);
        }), t.readonlyMode && t.readonly(), t.isCreated = !0, t.initContent === "" && (t.initContent = t.html()), t._undoStack.length > 0) {
          var p = t._undoStack.pop();
          p.start && (t.html(p.html), f.cmd.range.moveToBookmark(p), t.select());
        }
        t.afterCreate(), t.options.afterCreate && t.options.afterCreate.call(t);
      } });
      return i.removeClass("statusbar").addClass("ke-statusbar").append('<span class="ke-inline-block ke-statusbar-center-icon"><i></i><i></i><i></i></span>').append('<span class="ke-inline-block ke-statusbar-right-icon"></span>'), t._fullscreenResizeHandler && (v(window).unbind("resize", t._fullscreenResizeHandler), t._fullscreenResizeHandler = null), e(), n ? (t._fullscreenResizeHandler = function(p) {
        t.isCreated && t.resize(ge().clientWidth, ge().clientHeight, !1);
      }, v(window).bind("resize", t._fullscreenResizeHandler), u.select("fullscreen"), i.first().css("visibility", "hidden"), i.last().css("visibility", "hidden")) : (Re && v(window).bind("scroll", function(p) {
        t._scrollPos = je();
      }), t.resizeType > 0 ? Ot({ moveEl: s, clickEl: i, moveFn: function(p, m, g, y, b, C) {
        y += C, t.resize(null, y);
      } }) : i.first().css("visibility", "hidden"), t.resizeType === 2 ? Ot({ moveEl: s, clickEl: i.last(), moveFn: function(p, m, g, y, b, C) {
        g += b, y += C, t.resize(g, y);
      } }) : i.last().css("visibility", "hidden")), t;
    }, remove: function() {
      var e = this;
      return e.isCreated && (e.beforeRemove(), e.srcElement.data("kindeditor", ""), e.menu && e.hideMenu(), P(e.dialogs, function() {
        e.hideDialog();
      }), v(document).unbind("mousedown", e._docMousedownFn), e.toolbar.remove(), e.edit.remove(), e.statusbar.last().unbind(), e.statusbar.unbind(), e.container.remove(), e.container = e.toolbar = e.edit = e.menu = null, e.dialogs = [], e.isCreated = !1), e;
    }, resize: function(e, t, n) {
      var o = this;
      if (n = $(n, !0), e && (/%/.test(e) || (e = X(e), e = e < o.minWidth ? o.minWidth : e), o.container.css("width", J(e)), n && (o.width = J(e))), t) {
        t = X(t);
        var r = X(t) - o.toolbar.div.height() - o.statusbar.height();
        r = r < o.minHeight ? o.minHeight : r, o.edit.setHeight(r), n && (o.height = J(t));
      }
      return o;
    }, select: function() {
      return this.isCreated && this.cmd.select(), this;
    }, html: function(e) {
      var t = this;
      return e === void 0 ? t.isCreated ? t.edit.html() : Xe(t.srcElement) : (t.isCreated ? t.edit.html(e) : Xe(t.srcElement, e), t.isCreated && t.cmd.selection(), t);
    }, fullHtml: function() {
      return this.isCreated ? this.edit.html(void 0, !0) : "";
    }, text: function(e) {
      var t = this;
      return e === void 0 ? ee(t.html().replace(/<(?!img|embed).*?>/gi, "").replace(/&nbsp;/gi, " ")) : t.html(se(e));
    }, isEmpty: function() {
      return ee(this.text().replace(/\r\n|\n|\r/, "")) === "";
    }, isDirty: function() {
      return ee(this.initContent.replace(/\r\n|\n|\r|t/g, "")) !== ee(this.html().replace(/\r\n|\n|\r|t/g, ""));
    }, selectedHtml: function() {
      var e = this.isCreated ? this.cmd.range.html() : "";
      return e = Se(bt(e));
    }, count: function(e) {
      var t = this;
      return e = (e || "html").toLowerCase(), e === "html" ? t.html().length : e === "text" ? t.text().replace(/<(?:img|embed).*?>/gi, "K").replace(/\r\n|\n|\r/g, "").length : 0;
    }, exec: function(e) {
      e = e.toLowerCase();
      var t = this, n = t.cmd, o = pe(e, "selectall,copy,paste,print".split(",")) < 0;
      return o && t.addBookmark(!1), n[e].apply(n, St(arguments, 1)), o && (t.updateState(), t.addBookmark(!1), t.options.afterChange && t.options.afterChange.call(t)), t;
    }, insertHtml: function(e, t) {
      return this.isCreated ? (e = this.beforeSetHtml(e), this.exec("inserthtml", e, t), this) : this;
    }, appendHtml: function(e) {
      if (this.html(this.html() + e), this.isCreated) {
        var t = this.cmd;
        t.range.selectNodeContents(t.doc.body).collapse(!1), t.select();
      }
      return this;
    }, sync: function() {
      return Xe(this.srcElement, this.html()), this;
    }, focus: function() {
      return this.isCreated ? this.edit.focus() : this.srcElement[0].focus(), this;
    }, blur: function() {
      return this.isCreated ? this.edit.blur() : this.srcElement[0].blur(), this;
    }, addBookmark: function(e) {
      e = $(e, !0);
      var t, n = this, o = n.edit, r = o.doc.body, s = bt(r.innerHTML);
      if (e && n._undoStack.length > 0) {
        var c = n._undoStack[n._undoStack.length - 1];
        if (Math.abs(s.length - Se(c.html).length) < n.minChangeSize)
          return n;
      }
      if (o.designMode && !n._firstAddBookmark) {
        var a = n.cmd.range;
        t = a.createBookmark(!0), t.html = bt(r.innerHTML), a.moveToBookmark(t);
      } else
        t = { html: s };
      return n._firstAddBookmark = !1, Sn(n._undoStack, t), n;
    }, undo: function() {
      return En.call(this, this._undoStack, this._redoStack);
    }, redo: function() {
      return En.call(this, this._redoStack, this._undoStack);
    }, fullscreen: function(e) {
      return this.fullscreenMode = e === void 0 ? !this.fullscreenMode : e, this.addBookmark(!1), this.remove().create();
    }, readonly: function(e) {
      e = $(e, !0);
      var t = this, n = t.edit, o = n.doc;
      t.designMode ? t.toolbar.disableAll(e, []) : P(t.noDisableItems, function() {
        t.toolbar[e ? "disable" : "enable"](this);
      }), Z ? o.body.contentEditable = !e : o.designMode = e ? "off" : "on", n.textarea[0].disabled = e;
    }, createMenu: function(e) {
      var t = this, n = e.name, o = t.toolbar.get(n), r = o.pos();
      return e.x = r.x, e.y = r.y + o.height(), e.z = t.options.zIndex, e.shadowMode = $(e.shadowMode, t.shadowMode), e.selectedColor !== void 0 ? (e.cls = "ke-colorpicker-" + t.themeType, e.noColor = t.lang("noColor"), t.menu = bn(e)) : (e.cls = "ke-menu-" + t.themeType, e.centerLineMode = !1, t.menu = zt(e)), t.menu;
    }, hideMenu: function() {
      return this.menu.remove(), this.menu = null, this;
    }, hideContextmenu: function() {
      return this.contextmenu.remove(), this.contextmenu = null, this;
    }, createDialog: function(e) {
      var t = this;
      if (e.name, e.z = t.options.zIndex, e.shadowMode = $(e.shadowMode, t.shadowMode), e.closeBtn = $(e.closeBtn, { name: t.lang("close"), click: function(s) {
        t.hideDialog(), Z && t.cmd && t.cmd.select();
      } }), e.noBtn = $(e.noBtn, { name: t.lang(e.yesBtn ? "no" : "close"), click: function(s) {
        t.hideDialog(), Z && t.cmd && t.cmd.select();
      } }), t.dialogAlignType != "page" && (e.alignEl = t.container), e.cls = "ke-dialog-" + t.themeType, t.dialogs.length > 0) {
        var n = t.dialogs[0], o = t.dialogs[t.dialogs.length - 1];
        n.setMaskIndex(o.z + 2), e.z = o.z + 3, e.showMask = !1;
      }
      var r = wn(e);
      return t.dialogs.push(r), r;
    }, hideDialog: function() {
      var e = this;
      if (e.dialogs.length > 0 && e.dialogs.pop().remove(), e.dialogs.length > 0) {
        var t = e.dialogs[0], n = e.dialogs[e.dialogs.length - 1];
        t.setMaskIndex(n.z - 1);
      }
      return e;
    }, errorDialog: function(e) {
      var t = this, n = t.createDialog({ width: 750, title: t.lang("uploadError"), body: '<div style="padding:10px 20px;"><iframe frameborder="0" style="width:708px;height:400px;"></iframe></div>' }), o = v("iframe", n.div), r = v.iframeDoc(o);
      return r.open(), r.write(e), r.close(), v(r.body).css("background-color", "#FFF"), o[0].contentWindow.focus(), t;
    } };
    var st = [];
    return v.remove = function(e) {
      rt(e, function(t) {
        this.remove(), st.splice(t, 1);
      });
    }, v.sync = function(e) {
      rt(e, function() {
        this.sync();
      });
    }, v.html = function(e, t) {
      rt(e, function() {
        this.html(t);
      });
    }, v.insertHtml = function(e, t) {
      rt(e, function() {
        this.insertHtml(t);
      });
    }, v.appendHtml = function(e, t) {
      rt(e, function() {
        this.appendHtml(t);
      });
    }, Z && 7 > ce && _e(document, "BackgroundImageCache", !0), v.EditorClass = it, v.editor = vi, v.create = Dn, v.instances = st, v.plugin = Cn, v.lang = Tn, Cn("core", function(e) {
      var t = this, n = { undo: "Z", redo: "Y", bold: "B", italic: "I", underline: "U", print: "P", selectall: "A" };
      if (t.afterSetHtml(function() {
        t.options.afterChange && t.options.afterChange.call(t);
      }), t.afterCreate(function() {
        if (t.syncType == "form") {
          for (var r = e(t.srcElement), s = !1; r = r.parent(); )
            if (r.name == "form") {
              s = !0;
              break;
            }
          if (s) {
            r.bind("submit", function(a) {
              t.sync(), e(window).bind("unload", function() {
                t.edit.textarea.remove();
              });
            });
            var c = e('[type="reset"]', r);
            c.click(function() {
              t.html(t.initContent), t.cmd.selection();
            }), t.beforeRemove(function() {
              r.unbind(), c.unbind();
            });
          }
        }
      }), t.clickToolbar("source", function() {
        t.edit.designMode ? (t.toolbar.disableAll(!0), t.edit.design(!1), t.toolbar.select("source")) : (t.toolbar.disableAll(!1), t.edit.design(!0), t.toolbar.unselect("source"), Re ? setTimeout(function() {
          t.cmd.selection();
        }, 0) : t.cmd.selection()), t.designMode = t.edit.designMode;
      }), t.afterCreate(function() {
        t.designMode || t.toolbar.disableAll(!0).select("source");
      }), t.clickToolbar("fullscreen", function() {
        t.fullscreen();
      }), t.fullscreenShortcut) {
        var o = !1;
        t.afterCreate(function() {
          if (e(t.edit.doc, t.edit.textarea).keyup(function(r) {
            r.which == 27 && setTimeout(function() {
              t.fullscreen();
            }, 0);
          }), o) {
            if (Z && !t.designMode)
              return;
            t.focus();
          }
          o || (o = !0);
        });
      }
      P("undo,redo".split(","), function(r, s) {
        n[s] && t.afterCreate(function() {
          Dt(this.edit.doc, n[s], function() {
            t.clickToolbar(s);
          });
        }), t.clickToolbar(s, function() {
          t[s]();
        });
      }), t.clickToolbar("formatblock", function() {
        var r = t.lang("formatblock.formatBlock"), s = { h1: 28, h2: 24, h3: 18, H4: 14, p: 12 }, c = t.cmd.val("formatblock"), a = t.createMenu({ name: "formatblock", width: t.langType == "en" ? 200 : 150 });
        P(r, function(i, d) {
          var u = "font-size:" + s[i] + "px;";
          i.charAt(0) === "h" && (u += "font-weight:bold;"), a.addItem({ title: '<span style="' + u + '" unselectable="on">' + d + "</span>", height: s[i] + 12, checked: c === i || c === d, click: function() {
            t.select().exec("formatblock", "<" + i + ">").hideMenu();
          } });
        });
      }), t.clickToolbar("fontname", function() {
        var r = t.cmd.val("fontname"), s = t.createMenu({ name: "fontname", width: 150 });
        P(t.lang("fontname.fontName"), function(c, a) {
          s.addItem({ title: '<span style="font-family: ' + c + ';" unselectable="on">' + a + "</span>", height: 30, checked: r === c.toLowerCase() || r === a.toLowerCase(), click: function() {
            t.exec("fontname", c).hideMenu();
          } });
        });
      }), t.clickToolbar("fontsize", function() {
        var r = t.cmd.val("fontsize"), s = t.createMenu({ name: "fontsize", width: 150 });
        P(t.fontSizeTable, function(c, a) {
          s.addItem({ title: '<span style="font-size:' + a + ';" unselectable="on">' + a + "</span>", height: X(a) + 12, checked: r === a, click: function() {
            t.exec("fontsize", a).hideMenu();
          } });
        });
      }), P("forecolor,hilitecolor".split(","), function(r, s) {
        t.clickToolbar(s, function() {
          t.createMenu({ name: s, selectedColor: t.cmd.val(s) || "default", colors: t.colorTable, click: function(c) {
            t.exec(s, c).hideMenu();
          } });
        });
      }), P("cut,copy,paste".split(","), function(r, s) {
        t.clickToolbar(s, function() {
          t.focus();
          try {
            t.exec(s, null);
          } catch {
            alert(t.lang(s + "Error"));
          }
        });
      }), t.clickToolbar("about", function() {
        var r = '<div style="margin:20px;"><div>KindEditor ' + wt + '</div><div>Copyright &copy; <a href="http://www.kindsoft.net/" target="_blank">kindsoft.net</a> All rights reserved.</div></div>';
        t.createDialog({ name: "about", width: 350, title: t.lang("about"), body: r });
      }), t.plugin.getSelectedLink = function() {
        return t.cmd.commonAncestor("a");
      }, t.plugin.getSelectedImage = function() {
        return kt(t.edit.cmd.range, function(r) {
          return !/^ke-\w+$/i.test(r[0].className);
        });
      }, t.plugin.getSelectedFlash = function() {
        return kt(t.edit.cmd.range, function(r) {
          return r[0].className == "ke-flash";
        });
      }, t.plugin.getSelectedMedia = function() {
        return kt(t.edit.cmd.range, function(r) {
          return r[0].className == "ke-media" || r[0].className == "ke-rm";
        });
      }, t.plugin.getSelectedAnchor = function() {
        return kt(t.edit.cmd.range, function(r) {
          return r[0].className == "ke-anchor";
        });
      }, P("link,image,flash,media,anchor".split(","), function(r, s) {
        var c = s.charAt(0).toUpperCase() + s.substr(1);
        P("edit,delete".split(","), function(a, i) {
          t.addContextmenu({ title: t.lang(i + c), click: function() {
            t.loadPlugin(s, function() {
              t.plugin[s][i](), t.hideMenu();
            });
          }, cond: t.plugin["getSelected" + c], width: 150, iconClass: i == "edit" ? "ke-icon-" + s : void 0 });
        }), t.addContextmenu({ title: "-" });
      }), t.plugin.getSelectedTable = function() {
        return t.cmd.commonAncestor("table");
      }, t.plugin.getSelectedRow = function() {
        return t.cmd.commonAncestor("tr");
      }, t.plugin.getSelectedCell = function() {
        return t.cmd.commonAncestor("td");
      }, P("prop,cellprop,colinsertleft,colinsertright,rowinsertabove,rowinsertbelow,rowmerge,colmerge,rowsplit,colsplit,coldelete,rowdelete,insert,delete".split(","), function(r, s) {
        var c = pe(s, ["prop", "delete"]) < 0 ? t.plugin.getSelectedCell : t.plugin.getSelectedTable;
        t.addContextmenu({ title: t.lang("table" + s), click: function() {
          t.loadPlugin("table", function() {
            t.plugin.table[s](), t.hideMenu();
          });
        }, cond: c, width: 170, iconClass: "ke-icon-table" + s });
      }), t.addContextmenu({ title: "-" }), P("selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript,hr,print,bold,italic,underline,strikethrough,removeformat,unlink".split(","), function(r, s) {
        n[s] && t.afterCreate(function() {
          Dt(this.edit.doc, n[s], function() {
            t.cmd.selection(), t.clickToolbar(s);
          });
        }), t.clickToolbar(s, function() {
          t.focus().exec(s, null);
        });
      }), t.afterCreate(function() {
        function r() {
          s.range.moveToBookmark(c), s.select(), Be && (e("div." + d, a).each(function() {
            e(this).after("<br />").remove(!0);
          }), e("span.Apple-style-span", a).remove(!0), e("span.Apple-tab-span", a).remove(!0), e("span[style]", a).each(function() {
            e(this).css("white-space") == "nowrap" && e(this).remove(!0);
          }), e("meta", a).remove());
          var l = a[0].innerHTML;
          a.remove(), l !== "" && (Be && (l = l.replace(/(<br>)\1/gi, "$1")), t.pasteType === 2 && (l = l.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi, ""), /schemas-microsoft-com|worddocument|mso-\w+/i.test(l) ? l = tn(l, t.filterMode ? t.htmlTags : e.options.htmlTags) : (l = Ie(l, t.filterMode ? t.htmlTags : null), l = t.beforeSetHtml(l))), t.pasteType === 1 && (l = l.replace(/&nbsp;/gi, " "), l = l.replace(/\n\s*\n/g, `
`), l = l.replace(/<br[^>]*>/gi, `
`), l = l.replace(/<\/p><p[^>]*>/gi, `
`), l = l.replace(/<[^>]+>/g, ""), l = l.replace(/ {2}/g, " &nbsp;"), t.newlineTag == "p" ? /\n/.test(l) && (l = l.replace(/^/, "<p>").replace(/$/, "<br /></p>").replace(/\n/g, "<br /></p><p>")) : l = l.replace(/\n/g, "<br />$&")), t.insertHtml(l, !0));
        }
        var s, c, a, i = t.edit.doc, d = "__kindeditor_paste__", u = !1;
        e(i.body).bind("paste", function(l) {
          if (t.pasteType === 0)
            return void l.stop();
          if (!u) {
            if (u = !0, e("div." + d, i).remove(), s = t.cmd.selection(), c = s.range.createBookmark(), a = e('<div class="' + d + '"></div>', i).css({ position: "absolute", width: "1px", height: "1px", overflow: "hidden", left: "-1981px", top: e(c.start).pos().y + "px", "white-space": "nowrap" }), e(i.body).append(a), Z) {
              var f = s.range.get(!0);
              f.moveToElementText(a[0]), f.select(), f.execCommand("paste"), l.preventDefault();
            } else
              s.range.selectNodeContents(a[0]), s.select(), a[0].tabIndex = -1, a[0].focus();
            setTimeout(function() {
              r(), u = !1;
            }, 0);
          }
        });
      }), t.beforeGetHtml(function(r) {
        return Z && 8 >= ce && (r = r.replace(/<div\s+[^>]*data-ke-input-tag="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi, function(s, c) {
          return unescape(c);
        }), r = r.replace(/(<input)((?:\s+[^>]*)?>)/gi, function(s, c, a) {
          return /\s+type="[^"]+"/i.test(s) ? s : c + ' type="text"' + a;
        })), r.replace(/(<(?:noscript|noscript\s[^>]*)>)([\s\S]*?)(<\/noscript>)/gi, function(s, c, a, i) {
          return c + Ve(a).replace(/\s+/g, " ") + i;
        }).replace(/<img[^>]*class="?ke-(flash|rm|media)"?[^>]*>/gi, function(s) {
          var c = ke(s), a = Pe(c.style || ""), i = rn(c["data-ke-tag"]), d = $(a.width, ""), u = $(a.height, "");
          return /px/i.test(d) && (d = X(d)), /px/i.test(u) && (u = X(u)), i.width = $(c.width, d), i.height = $(c.height, u), Mt(i);
        }).replace(/<img[^>]*class="?ke-anchor"?[^>]*>/gi, function(s) {
          var c = ke(s);
          return '<a name="' + unescape(c["data-ke-name"]) + '"></a>';
        }).replace(/<div\s+[^>]*data-ke-script-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi, function(s, c, a) {
          return "<script" + unescape(c) + ">" + unescape(a) + "<\/script>";
        }).replace(/<div\s+[^>]*data-ke-noscript-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi, function(s, c, a) {
          return "<noscript" + unescape(c) + ">" + unescape(a) + "</noscript>";
        }).replace(/(<[^>]*)data-ke-src="([^"]*)"([^>]*>)/gi, function(s, c, a, i) {
          return s = s.replace(/(\s+(?:href|src)=")[^"]*(")/i, function(d, u, l) {
            return u + Ve(a) + l;
          }), s = s.replace(/\s+data-ke-src="[^"]*"/i, "");
        }).replace(/(<[^>]+\s)data-ke-(on\w+="[^"]*"[^>]*>)/gi, function(s, c, a) {
          return c + a;
        });
      }), t.beforeSetHtml(function(r) {
        return Z && 8 >= ce && (r = r.replace(/<input[^>]*>|<(select|button)[^>]*>[\s\S]*?<\/\1>/gi, function(s) {
          var c = ke(s), a = Pe(c.style || "");
          return a.display == "none" ? '<div class="ke-display-none" data-ke-input-tag="' + escape(s) + '"></div>' : s;
        })), r.replace(/<embed[^>]*type="([^"]+)"[^>]*>(?:<\/embed>)?/gi, function(s) {
          var c = ke(s);
          return c.src = $(c.src, ""), c.width = $(c.width, 0), c.height = $(c.height, 0), on(t.themesPath + "common/blank.gif", c);
        }).replace(/<a[^>]*name="([^"]+)"[^>]*>(?:<\/a>)?/gi, function(s) {
          var c = ke(s);
          return c.href !== void 0 ? s : '<img class="ke-anchor" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjY3NDAwOTEzOTg0IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9Ijg3NDQiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik03NTYuMTM1IDUxMmE4IDggMCAwIDEtNi4zNjctMTIuODQzbDkxLjg2NC0xMjAuNzg1YTggOCAwIDAgMSAxMi43MzYgMGw5MS44NjQgMTIwLjc4NUE4IDggMCAwIDEgOTM5Ljg2NSA1MTJIODg4YzAgMjA3LjY2LTE2OC4zNCAzNzYtMzc2IDM3Ni0yMDUuNTgyIDAtMzcyLjYzLTE2NC45OS0zNzUuOTUtMzY5Ljc4MkwxMzYgNTEySDgyLjEzNWE4IDggMCAwIDEtNi4zNjctMTIuODQzbDkxLjg2NC0xMjAuNzg1YTggOCAwIDAgMSAxMi43MzYgMGw5MS44NjQgMTIwLjc4NUE4IDggMCAwIDEgMjY1Ljg2NSA1MTJIMjEyYzAgMTUzLjUwMSAxMTUuMjg3IDI4MC4wNzYgMjYzLjk5OCAyOTcuODYybDAuMDAxLTM5MC4zOTlDNDEzLjg5MSA0MDMuNDc3IDM2OCAzNDcuMDk4IDM2OCAyODBjMC03OS41MjkgNjQuNDcxLTE0NCAxNDQtMTQ0czE0NCA2NC40NzEgMTQ0IDE0NGMwIDY3LjA5OC00NS44OSAxMjMuNDc3LTEwNy45OTggMTM5LjQ2M2wwLjAwMSAzOTAuMzk5QzY5NS4xMSA3OTIuMjY3IDgwOS41MDcgNjY4LjIyIDgxMS45NiA1MTYuOTZMODEyIDUxMmgtNTUuODY1ek01MTIgMjEyYy0zNy41NTUgMC02OCAzMC40NDUtNjggNjhzMzAuNDQ1IDY4IDY4IDY4IDY4LTMwLjQ0NSA2OC02OC0zMC40NDUtNjgtNjgtNjh6IiBwLWlkPSI4NzQ1IiBmaWxsPSIjZDgxZTA2Ij48L3BhdGg+PC9zdmc+" data-ke-name="' + escape(c.name) + '" style="vertical-align:text-bottom" />';
        }).replace(/<script([^>]*)>([\s\S]*?)<\/script>/gi, function(s, c, a) {
          return '<div class="ke-script" data-ke-script-attr="' + escape(c) + '">' + escape(a) + "</div>";
        }).replace(/<noscript([^>]*)>([\s\S]*?)<\/noscript>/gi, function(s, c, a) {
          return '<div class="ke-noscript" data-ke-noscript-attr="' + escape(c) + '">' + escape(a) + "</div>";
        }).replace(/(<[^>]*)(href|src)="([^"]*)"([^>]*>)/gi, function(s, c, a, i, d) {
          return s.match(/\sdata-ke-src="[^"]*"/i) ? s : s = c + a + '="' + i + '" data-ke-src="' + se(i) + '"' + d;
        }).replace(/(<[^>]+\s)(on\w+="[^"]*"[^>]*>)/gi, function(s, c, a) {
          return c + "data-ke-" + a;
        }).replace(/<table[^>]*\s+border="0"[^>]*>/gi, function(s) {
          return s.indexOf("ke-zeroborder") >= 0 ? s : Qn(s, "ke-zeroborder");
        });
      });
    }), function(e) {
      return e.KindEditor ? e.KindEditor : void 0;
    }(window), KindEditor.lang({ source: "Source", preview: "Preview", undo: "Undo(Ctrl+Z)", redo: "Redo(Ctrl+Y)", cut: "Cut(Ctrl+X)", copy: "Copy(Ctrl+C)", paste: "Paste(Ctrl+V)", plainpaste: "Paste as plain text", wordpaste: "Paste from Word", selectall: "Select all", justifyleft: "Align left", justifycenter: "Align center", justifyright: "Align right", justifyfull: "Align full", insertorderedlist: "Ordered list", insertunorderedlist: "Unordered list", indent: "Increase indent", outdent: "Decrease indent", subscript: "Subscript", superscript: "Superscript", formatblock: "Paragraph format", fontname: "Font family", fontsize: "Font size", forecolor: "Text color", hilitecolor: "Highlight color", bold: "Bold(Ctrl+B)", italic: "Italic(Ctrl+I)", underline: "Underline(Ctrl+U)", strikethrough: "Strikethrough", removeformat: "Remove format", image: "Image", multiimage: "Multi image", flash: "Flash", media: "Embeded media", table: "Table", tablecell: "Cell", hr: "Insert horizontal line", emoticons: "Insert emoticon", link: "Link", unlink: "Unlink", fullscreen: "Toggle fullscreen mode", about: "About", print: "Print", filemanager: "File Manager", code: "Insert code", map: "Google Maps", baidumap: "Baidu Maps", lineheight: "Line height", clearhtml: "Clear HTML code", pagebreak: "Insert Page Break", quickformat: "Quick Format", insertfile: "Insert file", template: "Insert Template", anchor: "Anchor", yes: "OK", no: "Cancel", close: "Close", editImage: "Image properties", deleteImage: "Delete image", editFlash: "Flash properties", deleteFlash: "Delete flash", editMedia: "Media properties", deleteMedia: "Delete media", editLink: "Link properties", deleteLink: "Unlink", editAnchor: "Anchor properties", deleteAnchor: "Delete Anchor", tableprop: "Table properties", tablecellprop: "Cell properties", tableinsert: "Insert table", tabledelete: "Delete table", tablecolinsertleft: "Insert column left", tablecolinsertright: "Insert column right", tablerowinsertabove: "Insert row above", tablerowinsertbelow: "Insert row below", tablerowmerge: "Merge down", tablecolmerge: "Merge right", tablerowsplit: "Split row", tablecolsplit: "Split column", tablecoldelete: "Delete column", tablerowdelete: "Delete row", noColor: "Default", pleaseSelectFile: "Please select file.", invalidImg: `Please type valid URL.
Allowed file extension: jpg,gif,bmp,png`, invalidMedia: `Please type valid URL.
Allowed file extension: swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb`, invalidWidth: "The width must be number.", invalidHeight: "The height must be number.", invalidBorder: "The border must be number.", invalidUrl: "Please type valid URL.", invalidRows: "Invalid rows.", invalidCols: "Invalid columns.", invalidPadding: "The padding must be number.", invalidSpacing: "The spacing must be number.", invalidJson: "Invalid JSON string.", uploadSuccess: "Upload success.", cutError: "Currently not supported by your browser, use keyboard shortcut(Ctrl+X) instead.", copyError: "Currently not supported by your browser, use keyboard shortcut(Ctrl+C) instead.", pasteError: "Currently not supported by your browser, use keyboard shortcut(Ctrl+V) instead.", ajaxLoading: "Loading ...", uploadLoading: "Uploading ...", uploadError: "Upload Error", "plainpaste.comment": "Use keyboard shortcut(Ctrl+V) to paste the text into the window.", "wordpaste.comment": "Use keyboard shortcut(Ctrl+V) to paste the text into the window.", "code.pleaseInput": "Please input code.", "link.url": "URL", "link.linkType": "Target", "link.newWindow": "New window", "link.selfWindow": "Same window", "flash.url": "URL", "flash.width": "Width", "flash.height": "Height", "flash.upload": "Upload", "flash.viewServer": "Browse", "media.url": "URL", "media.width": "Width", "media.height": "Height", "media.autostart": "Auto start", "media.upload": "Upload", "media.viewServer": "Browse", "image.remoteImage": "Insert URL", "image.localImage": "Upload", "image.remoteUrl": "URL", "image.localUrl": "File", "image.size": "Size", "image.width": "Width", "image.height": "Height", "image.resetSize": "Reset dimensions", "image.align": "Align", "image.defaultAlign": "Default", "image.leftAlign": "Left", "image.rightAlign": "Right", "image.imgTitle": "Title", "image.upload": "Browse", "image.viewServer": "Browse", "multiimage.uploadDesc": "Allows users to upload <%=uploadLimit%> images, single image size not exceeding <%=sizeLimit%>", "multiimage.startUpload": "Start upload", "multiimage.clearAll": "Clear all", "multiimage.insertAll": "Insert all", "multiimage.queueLimitExceeded": "Queue limit exceeded.", "multiimage.fileExceedsSizeLimit": "File exceeds size limit.", "multiimage.zeroByteFile": "Zero byte file.", "multiimage.invalidFiletype": "Invalid file type.", "multiimage.unknownError": "Unknown upload error.", "multiimage.pending": "Pending ...", "multiimage.uploadError": "Upload error", "filemanager.emptyFolder": "Blank", "filemanager.moveup": "Parent folder", "filemanager.viewType": "Display: ", "filemanager.viewImage": "Thumbnails", "filemanager.listImage": "List", "filemanager.orderType": "Sorting: ", "filemanager.fileName": "By name", "filemanager.fileSize": "By size", "filemanager.fileType": "By type", "insertfile.url": "URL", "insertfile.title": "Title", "insertfile.upload": "Upload", "insertfile.viewServer": "Browse", "table.cells": "Cells", "table.rows": "Rows", "table.cols": "Columns", "table.size": "Dimensions", "table.width": "Width", "table.height": "Height", "table.percent": "%", "table.px": "px", "table.space": "Space", "table.padding": "Padding", "table.spacing": "Spacing", "table.align": "Align", "table.textAlign": "Horizontal", "table.verticalAlign": "Vertical", "table.alignDefault": "Default", "table.alignLeft": "Left", "table.alignCenter": "Center", "table.alignRight": "Right", "table.alignTop": "Top", "table.alignMiddle": "Middle", "table.alignBottom": "Bottom", "table.alignBaseline": "Baseline", "table.border": "Border", "table.borderWidth": "Width", "table.borderColor": "Color", "table.backgroundColor": "Background", "map.address": "Address: ", "map.search": "Search", "baidumap.address": "Address: ", "baidumap.search": "Search", "baidumap.insertDynamicMap": "Dynamic Map", "anchor.name": "Anchor name", "formatblock.formatBlock": { h1: "Heading 1", h2: "Heading 2", h3: "Heading 3", h4: "Heading 4", p: "Normal" }, "fontname.fontName": { Arial: "Arial", "Arial Black": "Arial Black", "Comic Sans MS": "Comic Sans MS", "Courier New": "Courier New", Garamond: "Garamond", Georgia: "Georgia", Tahoma: "Tahoma", "Times New Roman": "Times New Roman", "Trebuchet MS": "Trebuchet MS", Verdana: "Verdana" }, "lineheight.lineHeight": [{ 1: "Line height 1" }, { 1.5: "Line height 1.5" }, { 2: "Line height 2" }, { 2.5: "Line height 2.5" }, { 3: "Line height 3" }], "template.selectTemplate": "Template", "template.replaceContent": "Replace current content", "template.fileList": { "1.html": "Image and Text", "2.html": "Table", "3.html": "List" } }, "en"), KindEditor.each(KindEditor.options.items, function(e, t) {
      t == "baidumap" && (KindEditor.options.items[e] = "map");
    }), KindEditor.options.langType = "en", KindEditor.plugin("anchor", function(e) {
      var t = this, n = "anchor", o = t.lang(n + ".");
      t.plugin.anchor = { edit: function() {
        var r = ['<div style="padding:20px;">', '<div class="ke-dialog-row">', '<label for="keName">' + o.name + "</label>", '<input class="ke-input-text" type="text" id="keName" name="name" value="" style="width:260px;" />', "</div>", "</div>"].join(""), s = t.createDialog({ name: n, width: 360, title: t.lang(n), body: r, yesBtn: { name: t.lang("yes"), click: function(d) {
          t.insertHtml('<a name="' + a.val() + '">').hideDialog().focus();
        } } }), c = s.div, a = e('input[name="name"]', c), i = t.plugin.getSelectedAnchor();
        i && a.val(unescape(i.attr("data-ke-name"))), a[0].focus(), a[0].select();
      }, delete: function() {
        t.plugin.getSelectedAnchor().remove();
      } }, t.clickToolbar(n, t.plugin.anchor.edit);
    }), KindEditor.plugin("autoheight", function(e) {
      function t() {
        var c = r.edit, a = c.doc.body;
        c.iframe[0].scroll = "no", a.style.overflowY = "hidden";
      }
      function n() {
        if (!r.fullscreenMode) {
          var c = r.edit, a = c.doc.body;
          c.iframe.height(s);
          var i = r.toolbar, d = e(i.div).height(), u = Math.max(e.IE ? a.scrollHeight : a.offsetHeight, s, e(a).height()) + d + 30;
          r.resize(null, u), a.scrollTo({ top: 0 });
        }
      }
      function o() {
        s = e.removeUnit(r.height), r.edit.afterChange(n), r.fullscreenMode || t(), n();
      }
      var r = this;
      if (r.autoHeightMode) {
        var s;
        r.isCreated ? o() : r.afterCreate(o);
      }
    }), KindEditor.plugin("baidumap", function(e) {
      var t = this, n = "baidumap", o = t.lang(n + "."), r = e.undef(t.baiduMapAk, "9yfaQtWDimlbXuo4TMLmIk7yDjl36eCy"), s = e.undef(t.mapWidth, 558), c = e.undef(t.mapHeight, 360);
      t.clickToolbar(n, function() {
        function a() {
          i = y[0].contentWindow, d = e.iframeDoc(y), d.open(), d.write(g), d.close();
        }
        var i, d, u = ['<div style="padding:10px 20px;">', '<div class="ke-dialog-row">', o.address + ' <input id="kindeditor_plugin_map_address" name="address" class="ke-input-text" value="" style="width:450px;" /> ', '<span class="ke-button-common ke-button-outer">', '<input type="button" name="searchBtn" class="ke-button-common ke-button" value="' + o.search + '" />', "</span>", "</div>", '<div class="ke-map" style="width:' + s + "px;height:" + c + 'px;"></div>', "</div>"].join(""), l = t.createDialog({ name: n, width: s + 42, title: t.lang(n), body: u, yesBtn: { name: t.lang("yes"), click: function(b) {
          var C = i.map, D = C.getCenter(), A = D.lng + "," + D.lat, N = C.getZoom(), B = ["http://api.map.baidu.com/staticimage/v2?ak=" + r, "&center=" + encodeURIComponent(A), "&zoom=" + encodeURIComponent(N), "&width=" + 2 * s, "&height=" + 2 * c, "&markers=" + encodeURIComponent(A), "&markerStyles=" + encodeURIComponent("l,A")].join("");
          t.exec("insertimage", B, "title", s + "", c + "", 0), t.hideDialog().focus();
        } }, beforeRemove: function() {
          m.remove(), d && d.write(""), y.remove();
        } }), f = l.div, p = e('[name="address"]', f), m = e('[name="searchBtn"]', f), g = ["<!doctype html><html><head>", '<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />', "<style>", "	html { height: 100% }", "	body { height: 100%; margin: 0; padding: 0; background-color: #FFF }", "	#map_canvas { height: 100% }", "</style>", '<script charset="utf-8" src="https://api.map.baidu.com/api?v=1.0&type=webgl&ak=' + r + '"><\/script>', "<script>", "var map, geocoder;", "function initialize() {", '	map = new BMapGL.Map("map_canvas");', "	var point = new BMapGL.Point(121.473704, 31.230393);", "	map.centerAndZoom(point, 11);", "	map.addControl(new BMapGL.NavigationControl());", "	map.enableScrollWheelZoom();", "	var gc = new BMapGL.Geocoder();", "	gc.getLocation(point, function(rs){", "		var addComp = rs.addressComponents;", '		var address = [addComp.city].join("");', '		parent.document.getElementById("kindeditor_plugin_map_address").value = address;', "	});", "}", "function search(address) {", "	if (!map) return;", "	var local = new BMapGL.LocalSearch(map, {", "		renderOptions: {", "			map: map,", "			autoViewport: true,", "			selectFirstResult: false", "		}", "	});", "	local.search(address);", "}", "<\/script>", "</head>", '<body onload="initialize();">', '<div id="map_canvas" style="width:100%; height:100%"></div>', "</body></html>"].join(`
`), y = e('<iframe class="ke-textarea" frameborder="0" style="width:558px;height:360px;"></iframe>');
        y.bind("load", function() {
          y.unbind("load"), e.IE ? a() : setTimeout(a, 0);
        }), e(".ke-map", f).replaceWith(y), m.click(function() {
          i.search(p.val());
        });
      });
    }), KindEditor.plugin("clearhtml", function(e) {
      var t = this, n = "clearhtml";
      t.clickToolbar(n, function() {
        t.focus();
        var o = t.html();
        o = o.replace(/(<script[^>]*>)([\s\S]*?)(<\/script>)/gi, ""), o = o.replace(/(<style[^>]*>)([\s\S]*?)(<\/style>)/gi, ""), o = e.formatHtml(o, { a: ["href", "target"], embed: ["src", "width", "height", "type", "loop", "autostart", "quality", ".width", ".height", "align", "allowscriptaccess"], img: ["src", "width", "height", "border", "alt", "title", ".width", ".height"], table: ["border"], "td,th": ["rowspan", "colspan"], "div,hr,br,tbody,tr,p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6": [] }), t.html(o), t.cmd.selection(!0), t.addBookmark();
      });
    }), KindEditor.plugin("code", function(e) {
      var t = this, n = "code";
      t.clickToolbar(n, function() {
        var o = t.lang(n + "."), r = ['<div style="padding:10px 20px;">', '<div class="ke-dialog-row">', '<select class="ke-code-type">', '<option value="js">JavaScript</option>', '<option value="html">HTML</option>', '<option value="css">CSS</option>', '<option value="php">PHP</option>', '<option value="pl">Perl</option>', '<option value="py">Python</option>', '<option value="rb">Ruby</option>', '<option value="java">Java</option>', '<option value="vb">ASP/VB</option>', '<option value="cpp">C/C++</option>', '<option value="cs">C#</option>', '<option value="xml">XML</option>', '<option value="bsh">Shell</option>', '<option value="">Other</option>', "</select>", "</div>", '<textarea class="ke-textarea" style="width:518px;height:260px;"></textarea>', "</div>"].join(""), s = t.createDialog({ name: n, width: 560, title: t.lang(n), body: r, yesBtn: { name: t.lang("yes"), click: function(a) {
          var i = e(".ke-code-type", s.div).val(), d = c.val().replace(/^\s+/g, "").replace(/\s+$/g, `
`).replace(/(\s*<!--)/g, `
$1`).replace(/>(\s*)(?=<!--\s*\/)/g, "> "), u = i === "" ? "" : " lang-" + i, l = '<pre class="' + u + `">
` + e.escape(d) + `
</pre> `;
          return e.trim(d) === "" ? (alert(o.pleaseInput), void c[0].focus()) : void t.insertHtml(l).hideDialog().focus();
        } } }), c = e("textarea", s.div);
        c[0].focus();
      });
    }), KindEditor.plugin("filemanager", function(e) {
      function t(i, d, u) {
        return i + " (" + Math.ceil(d / 1024) + "KB, " + u + ")";
      }
      function n(i, d) {
        d.is_dir ? i.attr("title", d.filename) : i.attr("title", t(d.filename, d.filesize, d.datetime));
      }
      var o = this, r = "filemanager", s = e.undef(o.fileManagerJson, o.basePath + "php/file_manager_json.php"), c = o.pluginsPath + r + "/images/", a = o.lang(r + ".");
      o.plugin.filemanagerDialog = function(i) {
        function d(w, x, _) {
          var M = "path=" + w + "&order=" + x + "&dir=" + y;
          A.showLoading(o.lang("ajaxLoading")), e.ajax(e.addParam(s, M + "&" + new Date().getTime()), function(F) {
            A.hideLoading(), _(F);
          });
        }
        function u(w, x, _, M) {
          var F = e.formatUrl(x.current_url + _.filename, "absolute"), I = encodeURIComponent(x.current_dir_path + _.filename + "/");
          _.is_dir ? w.click(function(O) {
            d(I, E.val(), M);
          }) : _.is_photo ? w.click(function(O) {
            C.call(this, F, _.filename);
          }) : w.click(function(O) {
            C.call(this, F, _.filename);
          }), S.push(w);
        }
        function l(w, x) {
          function _() {
            R.val() == "VIEW" ? d(w.current_dir_path, E.val(), p) : d(w.current_dir_path, E.val(), f);
          }
          e.each(S, function() {
            this.unbind();
          }), j.unbind(), R.unbind(), E.unbind(), w.current_dir_path && j.click(function(M) {
            d(w.moveup_dir_path, E.val(), x);
          }), R.change(_), E.change(_), B.html("");
        }
        function f(w) {
          l(w, f);
          var x = document.createElement("table");
          x.className = "ke-table", x.cellPadding = 0, x.cellSpacing = 0, x.border = 0, B.append(x);
          for (var _ = w.file_list, M = 0, F = _.length; F > M; M++) {
            var I = _[M], O = e(x.insertRow(M));
            O.mouseover(function(V) {
              e(this).addClass("ke-on");
            }).mouseout(function(V) {
              e(this).removeClass("ke-on");
            });
            var U = c + (I.is_dir ? "folder-16.gif" : "file-16.gif"), W = e('<img src="' + U + '" width="16" height="16" alt="' + I.filename + '" align="absmiddle" />'), z = e(O[0].insertCell(0)).addClass("ke-cell ke-name").append(W).append(document.createTextNode(" " + I.filename));
            !I.is_dir || I.has_file ? (O.css("cursor", "pointer"), z.attr("title", I.filename), u(z, w, I, f)) : z.attr("title", a.emptyFolder), e(O[0].insertCell(1)).addClass("ke-cell ke-size").html(I.is_dir ? "-" : Math.ceil(I.filesize / 1024) + "KB"), e(O[0].insertCell(2)).addClass("ke-cell ke-datetime").html(I.datetime);
          }
        }
        function p(w) {
          l(w, p);
          for (var x = w.file_list, _ = 0, M = x.length; M > _; _++) {
            var F = x[_], I = e('<div class="ke-inline-block ke-item"></div>');
            B.append(I);
            var O = e('<div class="ke-inline-block ke-photo"></div>').mouseover(function(V) {
              e(this).addClass("ke-on");
            }).mouseout(function(V) {
              e(this).removeClass("ke-on");
            });
            I.append(O);
            var U = w.current_url + F.filename, W = F.is_dir ? c + "folder-64.gif" : F.is_photo ? U : c + "file-64.gif", z = e('<img src="' + W + '" width="80" height="80" alt="' + F.filename + '" />');
            !F.is_dir || F.has_file ? (O.css("cursor", "pointer"), n(O, F), u(O, w, F, p)) : O.attr("title", a.emptyFolder), O.append(z), I.append('<div class="ke-name" title="' + F.filename + '">' + F.filename + "</div>");
          }
        }
        var m = e.undef(i.width, 650), g = e.undef(i.height, 510), y = e.undef(i.dirName, ""), b = e.undef(i.viewType, "VIEW").toUpperCase(), C = i.clickFn, D = ['<div style="padding:10px 20px;">', '<div class="ke-plugin-filemanager-header">', '<div class="ke-left">', '<img class="ke-inline-block" name="moveupImg" src="' + c + 'go-up.gif" width="16" height="16" border="0" alt="" /> ', '<a class="ke-inline-block" name="moveupLink" href="javascript:;">' + a.moveup + "</a>", "</div>", '<div class="ke-right">', a.viewType + ' <select class="ke-inline-block" name="viewType">', '<option value="VIEW">' + a.viewImage + "</option>", '<option value="LIST">' + a.listImage + "</option>", "</select> ", a.orderType + ' <select class="ke-inline-block" name="orderType">', '<option value="NAME">' + a.fileName + "</option>", '<option value="SIZE">' + a.fileSize + "</option>", '<option value="TYPE">' + a.fileType + "</option>", "</select>", "</div>", '<div class="ke-clearfix"></div>', "</div>", '<div class="ke-plugin-filemanager-body"></div>', "</div>"].join(""), A = o.createDialog({ name: r, width: m, height: g, title: o.lang(r), body: D }), N = A.div, B = e(".ke-plugin-filemanager-body", N), j = (e('[name="moveupImg"]', N), e('[name="moveupLink"]', N)), R = (e('[name="viewServer"]', N), e('[name="viewType"]', N)), E = e('[name="orderType"]', N), S = [];
        return R.val(b), d("", E.val(), b == "VIEW" ? p : f), A;
      };
    }), KindEditor.plugin("image", function(e) {
      var t = this, n = "image", o = e.undef(t.allowImageUpload, !0), r = e.undef(t.allowImageRemote, !0), s = e.undef(t.allowFileManager, !1), c = e.undef(t.uploadHeader, {}), a = e.undef(t.uploadFileSizeLimit, "2MB"), i = e.undef(t.uploadFileTypeLimit, "*.jpg;*.gif;*.png;*.jpeg,*.bmp"), d = e.undef(t.extraFileUploadParams, {}), u = e.undef(t.filePostName, "imgFile"), l = e.undef(t.uploadJson, t.basePath + "_404.html"), f = e.undef(t.formatUploadUrl, !0), p = e.undef(t.imageTabIndex, 1), m = (t.pluginsPath + "", e.undef(t.fillDescAfterUploadImage, !1)), g = t.lang(n + ".");
      t.plugin.imageDialog = function(y) {
        function b(Y, Q) {
          O.val(Y), U.val(Q), K = Y, ae = Q;
        }
        var C = (y.imageUrl, e.undef(y.imageWidth, ""), e.undef(y.imageHeight, ""), e.undef(y.imageTitle, ""), e.undef(y.imageAlign, ""), e.undef(y.showRemote, !0)), D = e.undef(y.showLocal, !0), A = e.undef(y.tabIndex, 0), N = y.clickFn, B = ("" + new Date().getTime(), []);
        for (var j in d)
          B.push('<input type="hidden" name="' + j + '" value="' + d[j] + '" />');
        console.info("extraParams", d);
        var R, E = ['<div style="padding:20px;">', '<div class="tabs"></div>', '<div class="tab1" style="display:none;">', '<div class="ke-dialog-row">', '<label for="remoteUrl" style="width:60px;">' + g.remoteUrl + "</label>", '<input type="text" id="remoteUrl" class="ke-input-text" name="url" value="" style="width:' + (s ? 250 : 360) + 'px;" />', '<span class="ke-button-common ke-button-outer"  style="margin-left:' + (s ? 12 : 0) + 'px">', '<input type="button" class="ke-button-common ke-button" name="viewServer" value="' + g.viewServer + '" />', "</span>", "</div>", '<div class="ke-dialog-row">', '<label for="remoteWidth" style="width:60px;">' + g.size + "</label>", g.width + '\uFF1A<input type="text" id="remoteWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" style="width:130px;margin-right:10px" />', g.height + '\uFF1A<input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" style="width:130px;margin-right:10px" />', '<span class="ke-inline-block ke-toolbar-icon icon-ke-font ke-icon-refresh-bold"></span>', "</div>", '<div class="ke-dialog-row">', '<label style="width:60px;">' + g.align + "</label>", '<input type="radio" name="align" class="ke-inline-block" value="" checked="checked" /><span class="ke-inline-block ke-toolbar-icon icon-ke-font ke-icon-float-default"></span><text style="margin-right:30px;">&nbsp;\u9ED8\u8BA4</text>', ' <input type="radio" name="align" class="ke-inline-block" value="left" /><span class="ke-inline-block ke-toolbar-icon icon-ke-font ke-icon-float-left"></span><text style="margin-right:30px;">&nbsp;\u5DE6\u5BF9\u9F50</text>', ' <input type="radio" name="align" class="ke-inline-block" value="right" /><span class="ke-inline-block ke-toolbar-icon icon-ke-font ke-icon-float-right"></span><text style="margin-right:30px;" >&nbsp;\u53F3\u5BF9\u9F50</text>', "</div>", '<div class="ke-dialog-row">', '<label for="remoteTitle" style="width:60px;">' + g.imgTitle + "</label>", '<input type="text" id="remoteTitle" class="ke-input-text" name="title" value="" style="width:360px;" />', "</div>", "</div>", '<div class="tab2" style="display:none;">', '<div class="ke-dialog-row">', '<label style="width:60px;">' + g.localUrl + "</label>", '<input type="text" name="localUrl" class="ke-input-text" tabindex="-1" style="width:270px;" readonly="true" /> &nbsp;', '<input type="button" class="ke-upload-button" value="' + g.upload + '" />', "</div>", "</div>", "</div>"].join(""), S = 480, w = C ? 340 : 220, x = t.createDialog({
          name: n,
          width: S,
          height: w,
          title: t.lang(n),
          body: E,
          yesBtn: { name: t.lang("yes"), click: function(Y) {
            if (!x.isLoading) {
              if (D && C && R && R.selectedIndex === 1 || !C)
                return te.fileBox.val() == "" ? void alert(t.lang("pleaseSelectFile")) : (x.showLoading(t.lang("uploadLoading")), te.submit(), void F.val(""));
              var Q = e.trim(M.val()), ne = O.val(), Fe = U.val(), Me = z.val(), ct = "";
              return V.each(function() {
                return this.checked ? (ct = this.value, !1) : void 0;
              }), Q == "http://" || e.invalidUrl(Q) ? (alert(t.lang("invalidUrl")), void M[0].focus()) : /^\d*$/.test(ne) ? /^\d*$/.test(Fe) ? void N.call(t, Q, Me, ne, Fe, 0, ct) : (alert(t.lang("invalidHeight")), void U[0].focus()) : (alert(t.lang("invalidWidth")), void O[0].focus());
            }
          } },
          beforeRemove: function() {
            I.unbind(), O.unbind(), U.unbind(), W.unbind();
          }
        }), _ = x.div, M = e('[name="url"]', _), F = e('[name="localUrl"]', _), I = e('[name="viewServer"]', _), O = e('.tab1 [name="width"]', _), U = e('.tab1 [name="height"]', _), W = e(".ke-refresh-btn", _), z = e('.tab1 [name="title"]', _), V = e('.tab1 [name="align"]', _);
        C && D ? (R = e.tabs({ src: e(".tabs", _), afterSelect: function(Y) {
        } }), R.add({ title: g.remoteImage, panel: e(".tab1", _) }), R.add({ title: g.localImage, panel: e(".tab2", _) }), R.select(A)) : C ? e(".tab1", _).show() : D && e(".tab2", _).show();
        var te = e.uploadbutton({ button: e(".ke-upload-button", _)[0], width: "auto", fieldName: u, fileSizeLimit: a, fileTypeLimit: i, uploadHeader: c, uploadData: d, uploadUrl: e.addParam(l, "dir=image"), afterUpload: function(Y) {
          if (x.hideLoading(), Y.error === 0) {
            var Q = Y.url;
            f && (Q = e.formatUrl(Q, "absolute")), t.afterUpload && t.afterUpload.call(t, Q, Y, n), m ? (e(".ke-dialog-row #remoteUrl", _).val(Q), e(".ke-tabs-li", _)[0].click(), e(".ke-refresh-btn", _).click()) : N.call(t, Q, Y.title, Y.width, Y.height, Y.border, Y.align);
          } else
            alert(Y.message), setTimeout(function() {
              F.val("");
            }, 100);
        }, afterError: function(Y) {
          x.hideLoading(), t.errorDialog(Y);
        } });
        te.fileBox.change(function(Y) {
          F.val(te.fileBox.val());
        }), s ? I.click(function(Y) {
          t.loadPlugin("filemanager", function() {
            t.plugin.filemanagerDialog({ viewType: "VIEW", dirName: "image", clickFn: function(Q, ne) {
              t.dialogs.length > 1 && (e('[name="url"]', _).val(Q), t.afterSelectFile && t.afterSelectFile.call(t, Q), t.hideDialog());
            } });
          });
        }) : I.hide();
        var K = 0, ae = 0;
        return W.click(function(Y) {
          var Q = e('<img src="' + M.val() + '" />', document).css({ position: "absolute", visibility: "hidden", top: 0, left: "-1000px" });
          Q.bind("load", function() {
            b(Q.width(), Q.height()), Q.remove();
          }), e(document.body).append(Q);
        }), O.change(function(Y) {
          K > 0 && U.val(Math.round(ae / K * parseInt(this.value, 10)));
        }), U.change(function(Y) {
          ae > 0 && O.val(Math.round(K / ae * parseInt(this.value, 10)));
        }), M.val(y.imageUrl), b(y.imageWidth, y.imageHeight), z.val(y.imageTitle), V.each(function() {
          return this.value === y.imageAlign ? (this.checked = !0, !1) : void 0;
        }), C && A === 0 && (M[0].focus(), M[0].select()), x;
      }, t.plugin.image = { edit: function() {
        var y = t.plugin.getSelectedImage();
        t.plugin.imageDialog({ imageUrl: y ? y.attr("data-ke-src") : "http://", imageWidth: y ? y.width() : "", imageHeight: y ? y.height() : "", imageTitle: y ? y.attr("title") : "", imageAlign: y ? y.attr("align") : "", showRemote: r, showLocal: o, tabIndex: y ? 0 : p, clickFn: function(b, C, D, A, N, B) {
          y ? (y.attr("src", b), y.attr("data-ke-src", b), y.attr("width", D), y.attr("height", A), y.attr("title", C), y.attr("align", B), y.attr("alt", C)) : (t.exec("insertimage", b, C, D, A, N, B, "ke-image"), setTimeout(function() {
            t.edit.afterChange.call(t.edit);
          }, 300)), setTimeout(function() {
            t.hideDialog().focus();
          }, 0);
        } });
      }, delete: function() {
        var y = t.plugin.getSelectedImage();
        y.parent().name == "a" && (y = y.parent()), y.remove(), t.addBookmark();
      } }, t.clickToolbar(n, t.plugin.image.edit);
    }), KindEditor.plugin("insertfile", function(e) {
      var t = this, n = "insertfile", o = e.undef(t.allowFileUpload, !0), r = e.undef(t.allowFileManager, !1), s = e.undef(t.uploadHeader, {}), c = e.undef(t.uploadFileSizeLimit, "20MB"), a = e.undef(t.uploadFileTypeLimit, "*.mp3;*.wav;*.mp4;*.wmv;*.rmvb;*.avi,*.jpg;*.gif;*.png;*.jpeg,*.bmp"), i = e.undef(t.extraFileUploadParams, {}), d = e.undef(t.filePostName, "imgFile"), u = e.undef(t.uploadJson, t.basePath + "_404.html"), l = e.undef(t.formatUploadUrl, !0), f = t.lang(n + ".");
      t.plugin.fileDialog = function(p) {
        var m = e.undef(p.fileUrl, "http://"), g = e.undef(p.fileTitle, ""), y = p.clickFn, b = ['<div style="padding:20px;">', '<div class="ke-dialog-row">', '<label for="keUrl" style="width:60px;">' + f.url + "</label>", '<input type="text" id="keUrl" name="url" class="ke-input-text" style="width:' + (r ? 160 : 260) + 'px;" />', '<input type="button" class="ke-upload-button" value="' + f.upload + '" />', '<span class="ke-button-common ke-button-outer" style="margin-left:' + (r ? 5 : 0) + 'px" >', '<input type="button" class="ke-button-common ke-button" name="viewServer" value="' + f.viewServer + '" />', "</span>", "</div>", '<div class="ke-dialog-row">', '<label for="keTitle" style="width:60px;">' + f.title + "</label>", '<input type="text" id="keTitle" class="ke-input-text" name="title" value="" style="width:160px;" /></div>', "</div>", "</form>", "</div>"].join(""), C = t.createDialog({ name: n, width: 450, height: 220, title: t.lang(n), body: b, yesBtn: { name: t.lang("yes"), click: function(R) {
          var E = e.trim(A.val()), S = B.val();
          return E == "http://" || e.invalidUrl(E) ? (alert(t.lang("invalidUrl")), void A[0].focus()) : (e.trim(S) === "" && (S = E), void y.call(t, E, S));
        } } }), D = C.div, A = e('[name="url"]', D), N = e('[name="viewServer"]', D), B = e('[name="title"]', D);
        if (o) {
          var j = e.uploadbutton({ button: e(".ke-upload-button", D)[0], width: "auto", fieldName: d, fileSizeLimit: c, fileTypeLimit: a, uploadHeader: s, uploadData: i, uploadUrl: e.addParam(u, "dir=file"), afterUpload: function(R) {
            if (C.hideLoading(), R.error === 0) {
              var E = R.url;
              l && (E = e.formatUrl(E, "absolute")), A.val(E), t.afterUpload && t.afterUpload.call(t, E, R, n);
            } else
              alert(R.message);
          }, afterError: function(R) {
            C.hideLoading(), t.errorDialog(R);
          } });
          j.fileBox.change(function(R) {
            var E = e("input[type='file']", j.form[0]).val();
            E && (C.showLoading(t.lang("uploadLoading")), j.submit());
          });
        } else
          e(".ke-upload-button", D).hide();
        r ? N.click(function(R) {
          t.loadPlugin("filemanager", function() {
            t.plugin.filemanagerDialog({ viewType: "LIST", dirName: "file", clickFn: function(E, S) {
              t.dialogs.length > 1 && (e('[name="url"]', D).val(E), t.afterSelectFile && t.afterSelectFile.call(t, E), t.hideDialog());
            } });
          });
        }) : N.hide(), A.val(m), B.val(g), A[0].focus(), A[0].select();
      }, t.clickToolbar(n, function() {
        t.plugin.fileDialog({ clickFn: function(p, m) {
          var g = '<a class="ke-insertfile" href="' + p + '" data-ke-src="' + p + '" target="_blank">' + m + "</a>";
          t.insertHtml(g).hideDialog().focus();
        } });
      });
    }), KindEditor.plugin("lineheight", function(e) {
      var t = this, n = "lineheight", o = t.lang(n + ".");
      t.clickToolbar(n, function() {
        var r = "", s = t.cmd.commonNode({ "*": ".line-height" });
        s && (r = s.css("line-height"));
        var c = t.createMenu({ name: n, width: 150 });
        e.each(o.lineHeight, function(a, i) {
          e.each(i, function(d, u) {
            c.addItem({ title: u, checked: r === d, click: function() {
              t.cmd.toggle('<span style="line-height:' + d + ';"></span>', { span: ".line-height=" + d }), t.updateState(), t.addBookmark(), t.hideMenu();
            } });
          });
        });
      });
    }), KindEditor.plugin("link", function(e) {
      var t = this, n = "link";
      t.plugin.link = { edit: function() {
        var o = t.lang(n + "."), r = '<div style="padding:20px;"><div class="ke-dialog-row"><label for="keUrl" style="width:60px;">' + o.url + '</label><input class="ke-input-text" type="text" id="keUrl" name="url" value="" style="width:260px;" /></div><div class="ke-dialog-row""><label for="keType" style="width:60px;">' + o.linkType + '</label><select id="keType" name="type"></select></div></div>', s = t.createDialog({ name: n, width: 450, title: t.lang(n), body: r, yesBtn: { name: t.lang("yes"), click: function(u) {
          var l = e.trim(a.val());
          return l == "http://" || e.invalidUrl(l) ? (alert(t.lang("invalidUrl")), void a[0].focus()) : void t.exec("createlink", l, i.val()).hideDialog().focus();
        } } }), c = s.div, a = e('input[name="url"]', c), i = e('select[name="type"]', c);
        a.val("http://"), i[0].options[0] = new Option(o.newWindow, "_blank"), i[0].options[1] = new Option(o.selfWindow, ""), t.cmd.selection();
        var d = t.plugin.getSelectedLink();
        d && (t.cmd.range.selectNode(d[0]), t.cmd.select(), a.val(d.attr("data-ke-src")), i.val(d.attr("target"))), a[0].focus(), a[0].select();
      }, delete: function() {
        t.exec("unlink", null);
      } }, t.clickToolbar(n, t.plugin.link.edit);
    }), KindEditor.plugin("media", function(e) {
      var t = this, n = "media", o = t.lang(n + "."), r = e.undef(t.allowMediaUpload, !0), s = e.undef(t.allowFileManager, !1), c = e.undef(t.uploadHeader, {}), a = e.undef(t.uploadFileSizeLimit, "20MB"), i = e.undef(t.uploadFileTypeLimit, "*.mp3;*.wav;*.mp4;*.wmv;*.rmvb;*.avi"), d = e.undef(t.extraFileUploadParams, {}), u = e.undef(t.filePostName, "imgFile"), l = e.undef(t.uploadJson, t.basePath + "_404.html"), f = e.undef(t.formatUploadUrl, !0), p = function(m) {
        for (var g = e(m.commonAncestor()); g && (g.type != 1 || g.isStyle()); )
          g = g.parent();
        return g;
      };
      t.plugin.media = { edit: function() {
        var m = ['<div style="padding:20px;">', '<div class="ke-dialog-row">', '<label for="keUrl" style="width:60px;">' + o.url + "</label>", '<input class="ke-input-text" type="text" id="keUrl" name="url" value="" style="width:' + (s ? 160 : 260) + 'px;" />', '<input type="button" class="ke-upload-button" value="' + o.upload + '" />', '<span class="ke-button-common ke-button-outer"  style="margin-left:' + (s ? 5 : 0) + 'px" >', '<input type="button" class="ke-button-common ke-button " name="viewServer" value="' + o.viewServer + '" />', "</span>", "</div>", '<div class="ke-dialog-row">', '<label for="keWidth" style="width:60px;">' + o.width + "</label>", '<input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="320" maxlength="4" />', '<label for="keHeight" style="width:60px;text-align:left;margin-left:30px">' + o.height + "</label>", '<input type="text" id="keHeight" class="ke-input-text ke-input-number" name="height" value="auto" maxlength="4" />', "</div>", '<div class="ke-dialog-row">', '<label for="kePreload" style="width:60px;">preload</label>', '<div style="width:80px;display:inline-block;"><input type="checkbox" id="kePreload" name="preload" value="" /></div>', '<label for="keAutostart" style="width:60px;text-align:left;margin-left:30px">autoplay</label>', '<div style="width:80px;display:inline-block;"><input type="checkbox" id="keAutostart" name="autoplay" value="" /></div>', "</div>", '<div class="ke-dialog-row">', '<label for="keControls" style="width:60px;">controls</label>', '<div style="width:80px;display:inline-block;"><input type="checkbox" id="keControls" name="controls" checked value="" /></div>', '<label for="keLoop" style="width:60px;text-align:left;margin-left:30px">loop</label>', '<div style="width:80px;display:inline-block;"><input type="checkbox" id="keLoop" name="loop" checked value="" /></div>', "</div>", "</div>"].join(""), g = t.createDialog({ name: n, width: 450, height: 300, title: t.lang(n), body: m, yesBtn: { name: t.lang("yes"), click: function(S) {
          var w = e.trim(b.val()), x = D.val(), _ = A.val(), M = B[0].checked, F = N[0].checked, I = j[0].checked, O = R[0].checked;
          if (w == "http://" || e.invalidUrl(w))
            return alert(t.lang("invalidUrl")), void b[0].focus();
          if (x != "auto" && !/^\d*$/.test(x))
            return alert(t.lang("invalidWidth")), void D[0].focus();
          if (_ != "auto" && !/^\d*$/.test(_))
            return alert(t.lang("invalidHeight")), void A[0].focus();
          var U = "video";
          /\.(mp3|wav|ogg|acc)(\?|$)/i.test(w) && (U = "audio");
          var W = ["<p><" + U, 'data-ke-class="ke-audio"', 'class="ke-media"', 'style="display:inline;"', 'src="' + w + '"', 'width="' + x + '"', 'height="' + _ + '"', M ? "preload" : "", F ? "autoplay" : "", I ? "controls" : "", O ? "loop" : "", "></" + U + "><span>\u200B\u3000</span></p>"].join(" "), z = p(t.cmd.range);
          z && z.name != "p" ? t.insertHtml(W).hideDialog().focus() : (e(z).after(W), t.hideDialog().focus());
        } } }), y = g.div, b = e('[name="url"]', y), C = e('[name="viewServer"]', y), D = e('[name="width"]', y), A = e('[name="height"]', y), N = e('[name="autoplay"]', y), B = e('[name="preload"]', y), j = e('[name="controls"]', y), R = e('[name="loop"]', y);
        if (b.val("http://"), r) {
          var E = e.uploadbutton({ button: e(".ke-upload-button", y)[0], width: "auto", fieldName: u, fileSizeLimit: a, fileTypeLimit: i, uploadHeader: c, uploadData: d, uploadUrl: e.addParam(l, "dir=media"), afterUpload: function(S) {
            if (g.hideLoading(), S.error === 0) {
              var w = S.url;
              f && (w = e.formatUrl(w, "absolute")), b.val(w), t.afterUpload && t.afterUpload.call(t, w, S, n);
            } else
              alert(S.message), setTimeout(function() {
                b.val("http://");
              }, 100);
          }, afterError: function(S) {
            g.hideLoading(), t.errorDialog(S);
          } });
          E.fileBox.change(function(S) {
            var w = e("input[type='file']", E.form[0]).val();
            w && (g.showLoading(t.lang("uploadLoading")), E.submit());
          });
        } else
          e(".ke-upload-button", y).hide();
        s ? C.click(function(S) {
          t.loadPlugin("filemanager", function() {
            t.plugin.filemanagerDialog({ viewType: "LIST", dirName: "media", clickFn: function(w, x) {
              t.dialogs.length > 1 && (e('[name="url"]', y).val(w), t.afterSelectFile && t.afterSelectFile.call(t, w), t.hideDialog());
            } });
          });
        }) : C.hide();
      }, delete: function() {
        t.plugin.getSelectedMedia().remove(), t.addBookmark();
      } }, t.clickToolbar(n, t.plugin.media.edit);
    }), function(e) {
      function t(n) {
        this.init(n);
      }
      e.extend(t, { init: function(n) {
        function o(i, d) {
          e(".ke-status", i).addClass("upload-error"), e(".ke-status > div", i).hide(), e(".ke-message", i).addClass("ke-error").show().html(e.escape(d));
        }
        var r = this;
        n.afterError = n.afterError || function(i) {
          alert(i);
        }, r.options = n, r.progressbars = {};
        var s = "ke_multi_upload_btn" + 1 * new Date() + "_" + Math.floor(9e4 * Math.random() + 9999), c = "ke_multi_upload_dragbody" + 1 * new Date() + "_" + Math.floor(9e4 * Math.random() + 9999), a = "ke_multi_upload_error" + 1 * new Date() + "_" + Math.floor(9e4 * Math.random() + 9999);
        r.div = e(n.container).html(['<div class="ke-swfupload">', '<div class="ke-swfupload-top" >', '<div class="ke-inline-block ke-swfupload-button" id="' + s + '" style="width: 86px;">', "</div>", '<div class="ke-inline-block ke-swfupload-desc">' + n.uploadDesc + "</div>", '<span class="ke-button-common ke-button-outer ke-swfupload-startupload">', '<input type="button" class="ke-button-common ke-button ke-startup-upload-button" value="' + n.startButtonValue + '" />', "</span>", "</div>", '<div class="ke-swfupload-body" id="' + c + '"></div>', '<div class="upload-error-result" id="' + a + '"></div>', "</div>"].join("")), r.bodyDiv = e(".ke-swfupload-body", r.div), r.uploader = WebUploader.create({ server: r.options.uploadUrl, pick: "#" + s, resize: !1, fileVal: "file", accept: { title: "Images", extensions: n.fileTypes.replace(/\*\./g, "").replace(/;/g, ","), mimeTypes: "image/*" }, uploadBeforeSend: function(i, d, u) {
          n.uploadHeaders, n.uploadData;
        }, fileNumLimit: n.fileUploadLimit, fileSingleSizeLimit: 1 * n.fileSizeLimit.replace(/MB/g, "") * 1024 * 1024 }), r.options.uploadCompress !== void 0 && (r.uploader.options.compress = r.options.uploadCompress), r.uploader.on("fileQueued", function(i) {
          r.uploader.makeThumb(i, function(d, u) {
            d && (u = r.options.fileIconUrl), i.url = u, r.appendFile(i);
          }, 80, 80);
        }), r.uploader.on("uploadStart", function(i) {
          var d = this, u = e('div[data-id="' + i.id + '"]', d.bodyDiv);
          e(".ke-status > div", u).hide(), e(".ke-progressbar", u).show();
        }), r.uploader.on("uploadProgress", function(i, d) {
          var u = r.progressbars[i.id], l = Math.floor(100 * d);
          u.bar.css("width", l + "%");
          var f = l >= 100 ? "\u4E0A\u4F20\u6210\u529F" : l + "%";
          u.percent.html(f).show();
        }), r.uploader.on("uploadSuccess", function(i, d) {
          var u = e('div[data-id="' + i.id + '"]', r.bodyDiv).eq(0), l = d.data;
          if (l.error !== 0)
            return void o(u, l.message || r.options.errorMessage);
          var f = l.url;
          console.info("self.options.formatUploadUrl", r.options.formatUploadUrl), f = r.options.formatUploadUrl ? i.url = e.formatUrl(l.url, "absolute") : i.url = l.url, e(".ke-img", u).attr("src", i.url).attr("data-status", "1").data("data", { url: f, title: i.name + "", width: (i._info || { width: "auto" }).width + "", height: "", border: "", align: "" });
        }), r.uploader.on("uploadError", function(i, d) {
          if (i) {
            var u = e('div[data-id="' + i.id + '"]', r.bodyDiv).eq(0);
            console.info("reason", d), o(u, "ERROR:" + d);
          }
        }), r.uploader.on("error", function(i) {
          var d = "\u90E8\u5206\u6216\u5168\u90E8\u6587\u4EF6\u4E0A\u4F20\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5\uFF01";
          i === "Q_TYPE_DENIED" ? d = "[" + arguments[1].name + "]\u6587\u4EF6\u7C7B\u578B\u4E0D\u6B63\u786E\uFF0C\u4E0A\u4F20\u5931\u8D25\uFF01" : i === "Q_EXCEED_NUM_LIMIT" ? d = "\u540C\u65F6\u6700\u591A\u53EF\u4E0A\u4F20" + n.fileUploadLimit + "\u5F20\u56FE\u7247\uFF0C\u8D85\u51FA\u90E8\u5206\u5DF2\u7ECF\u5FFD\u7565\uFF01" : i === "F_EXCEED_SIZE" ? d = "[" + arguments[2].name + "]\u6587\u4EF6\u5927\u5C0F\u8D85\u51FA\u9650\u5236\uFF08\u6700\u5927" + 1 * n.fileSizeLimit.replace(/MB/g, "") + "M\uFF09\uFF0C\u4E0A\u4F20\u5931\u8D25\uFF01" : i === "F_DUPLICATE" && (d = "[" + arguments[1].name + "]\u6587\u4EF6\u5DF2\u5B58\u5728\u4E8E\u5F85\u4E0A\u4F20\u5217\u8868\u4E2D\uFF01"), console.error("\u90E8\u5206\u6216\u5168\u90E8\u6587\u4EF6\u4E0A\u4F20\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5\uFF01", arguments), alert(d);
        }), e(".ke-swfupload-startupload input", r.div).click(function() {
          r.uploader.upload();
        });
      }, removeFile: function(n) {
        var o = this;
        o.uploader.cancelFile(n);
        var r = e('div[data-id="' + n + '"]', o.bodyDiv);
        e(".ke-photo", r).unbind(), e(".ke-delete", r).unbind(), r.remove();
      }, removeFiles: function() {
        var n = this;
        e(".ke-item", n.bodyDiv).each(function() {
          n.removeFile(e(this).attr("data-id"));
        });
      }, appendFile: function(n) {
        var o = this, r = e('<div class="ke-inline-block ke-item" draggable="false" data-id="' + n.id + '"></div>');
        o.bodyDiv.append(r);
        var s = e('<div class="ke-inline-block ke-photo"></div>').mouseover(function(i) {
          e(this).addClass("ke-on");
        }).mouseout(function(i) {
          e(this).removeClass("ke-on");
        });
        r.append(s);
        var c = e('<img class="ke-multi-image ke-img" src="' + n.url + '" class="ke-img" draggable="false" data-status="0" alt="' + n.name + '" />');
        s.append(c), e('<span class="ke-delete"></span>').appendTo(s).click(function() {
          o.removeFile(n.id);
        });
        var a = e('<div class="ke-status"></div>').appendTo(s);
        e(['<div class="ke-progressbar">', '<div class="ke-progressbar-bar"><div class="ke-progressbar-bar-inner"></div></div>', '<div class="ke-progressbar-percent">0%</div></div>'].join("")).hide().appendTo(a), e('<div class="ke-message">' + o.options.pendingMessage + "</div>").appendTo(a), r.append('<div class="ke-name">' + n.name + "</div>"), o.progressbars[n.id] = { bar: e(".ke-progressbar-bar-inner", s), percent: e(".ke-progressbar-percent", s) };
      }, remove: function() {
        var n = this;
        n.removeFiles(), n.destroy(), n.div.html("");
      }, getUrlList: function() {
        var n = [];
        return e(".ke-img", self.bodyDiv).each(function() {
          var o = e(this), r = o.attr("data-status");
          r == "1" && n.push(o.data("data"));
        }), n;
      }, destroy: function() {
        var n = this;
        n.uploader.destroy();
      } }), e.swfupload = function(n, o) {
        return new t(n);
      };
    }(KindEditor), KindEditor.plugin("multiimage", function(e) {
      var t = this, n = "multiimage", o = (e.undef(t.formatUploadUrl, !0), e.undef(t.uploadJson, t.basePath + "php/upload_json.php")), r = e.undef(t.uploadHeader, t.basePath + "php/upload_json.php"), s = e.undef(t.uploadData, t.basePath + "php/upload_json.php"), c = t.pluginsPath + "multiimage/images/", a = e.undef(t.imageSizeLimit, "1MB"), i = (e.undef(t.imageFileTypes, "*.jpg;*.gif;*.png"), e.undef(t.imageUploadLimit, 20)), d = e.undef(t.filePostName, "imgFile"), u = t.lang(n + ".");
      t.plugin.multiImageDialog = function(l) {
        var f = l.clickFn, p = e.tmpl(u.uploadDesc, { uploadLimit: i, sizeLimit: a }), m = ['<div style="padding:10px 20px;">', '<div class="swfupload">', "</div>", "</div>"].join(""), g = t.createDialog({ name: n, width: 650, height: 500, title: t.lang(n), body: m, previewBtn: { name: u.insertAll, click: function(C) {
          console.info(123), f.call(t, b.getUrlList());
        } }, yesBtn: { name: u.clearAll, click: function(C) {
          b.removeFiles();
        } }, beforeRemove: function() {
          b.destroy();
        } }), y = g.div, b = e.swfupload({ container: e(".swfupload", y), buttonImageUrl: c + (t.langType == "zh-CN" ? "select-files-zh-CN.png" : "select-files-en.png"), buttonWidth: t.langType == "zh-CN" ? 72 : 88, buttonHeight: 23, fileIconUrl: c + "image.png", uploadDesc: p, startButtonValue: u.startUpload, uploadUrl: e.addParam(o, "dir=image"), uploadData: s, uploadHeader: r, uploadCompress: t.uploadCompress, formatUploadUrl: t.formatUploadUrl, flashUrl: c + "swfupload.swf", filePostName: d, fileTypes: "*.jpg;*.jpeg;*.gif;*.png;*.bmp", fileTypesDesc: "Image Files", fileUploadLimit: i, fileSizeLimit: a, postParams: e.undef(t.extraFileUploadParams, {}), queueLimitExceeded: u.queueLimitExceeded, fileExceedsSizeLimit: u.fileExceedsSizeLimit, zeroByteFile: u.zeroByteFile, invalidFiletype: u.invalidFiletype, unknownError: u.unknownError, pendingMessage: u.pending, errorMessage: u.uploadError, afterError: function(C) {
          t.errorDialog(C);
        } });
        return e(b.bodyDiv).bind("drop", function(C) {
          C.preventDefault(), C.event.preventDefault();
          var D = [];
          [].forEach.call(C.event.dataTransfer.files, function(A) {
            D.push(A);
          }, !1), D.length > 0 && b.uploader.addFiles(D), e(b.bodyDiv).removeClass("drag-hover");
        }), e(b.bodyDiv).bind("dragenter", function(C) {
          e(b.bodyDiv).addClass("drag-hover");
        }), e(b.bodyDiv).bind("dragover", function(C) {
          C.preventDefault();
        }), e(b.bodyDiv).bind("dragleave", function() {
          e(b.bodyDiv).removeClass("drag-hover");
        }), e(b.bodyDiv).bind("mouseleave", function() {
          e(b.bodyDiv).removeClass("drag-hover");
        }), e(b.bodyDiv).bind("mouseout", function() {
          e(b.bodyDiv).removeClass("drag-hover");
        }), g;
      }, t.clickToolbar(n, function() {
        t.plugin.multiImageDialog({ clickFn: function(l) {
          l.length !== 0 && (e.each(l, function(f, p) {
            t.afterUpload && t.afterUpload.call(t, p.url, p, "multiimage"), t.exec("insertimage", p.url, p.title, p.width, p.height, p.border, p.align, "ke-image", "p");
          }), setTimeout(function() {
            t.hideDialog().focus();
          }, 0));
        } });
      });
    }), KindEditor.plugin("pagebreak", function(e) {
      var t = this, n = "pagebreak", o = e.undef(t.pagebreakHtml, '<hr style="page-break-after: always;" class="ke-pagebreak" />');
      t.clickToolbar(n, function() {
        var r = t.cmd, s = r.range;
        t.focus();
        var c = t.newlineTag == "br" || e.WEBKIT ? "" : '<span id="__kindeditor_tail_tag__"></span>';
        if (t.insertHtml(o + c), c !== "") {
          var a = e("#__kindeditor_tail_tag__", t.edit.doc);
          s.selectNodeContents(a[0]), a.removeAttr("id"), r.select();
        }
      });
    }), KindEditor.plugin("plainpaste", function(e) {
      var t = this, n = "plainpaste";
      t.clickToolbar(n, function() {
        var o = t.lang(n + "."), r = '<div style="padding:10px 20px;"><div style="margin-bottom:10px;">' + o.comment + '</div><textarea class="ke-textarea" style="width:518px;height:260px;"></textarea></div>', s = t.createDialog({ name: n, width: 560, title: t.lang(n), body: r, yesBtn: { name: t.lang("yes"), click: function(a) {
          var i = c.val();
          i = e.escape(i), i = i.replace(/ {2}/g, " &nbsp;"), i = t.newlineTag == "p" ? i.replace(/^/, "<p>").replace(/$/, "</p>").replace(/\n/g, "</p><p>") : i.replace(/\n/g, "<br />$&"), t.insertHtml(i).hideDialog().focus();
        } } }), c = e("textarea", s.div);
        c[0].focus();
      });
    }), KindEditor.plugin("preview", function(e) {
      var t = this, n = "preview";
      t.clickToolbar(n, function() {
        var o = (t.lang(n + "."), '<div style="padding:10px 20px;"><iframe class="ke-textarea" frameborder="0" style="width:708px;height:400px;"></iframe></div>'), r = t.createDialog({ name: n, width: 750, title: t.lang(n), body: o }), s = e("iframe", r.div), c = e.iframeDoc(s);
        c.open(), c.write(t.fullHtml()), c.close(), e(c.body).css("background-color", "#FFF"), s[0].contentWindow.focus();
      });
    }), KindEditor.plugin("quote", function(e) {
      function t(r) {
        for (var s = e(r.commonAncestor()); s && (s.type != 1 || s.isStyle()); )
          s = s.parent();
        return s;
      }
      var n = this, o = "quote";
      n.clickToolbar(o, function() {
        n.focus();
        var r = "\u200B", s = n.cmd.range, c = t(n.cmd.range);
        if (s) {
          var a = s.extractContents(), i = e(a).outer();
          r = i || e(a).html();
        }
        r = r || "\u200B";
        var d = '<blockquote style="padding: 0 1.5em;border-left: 5px solid #ddd;font-style: italic;margin-block-start: 0;margin-inline-start: 0;min-height: 2rem"><p>' + r + "</p></blockquote>";
        if (c && ["p", "h1", "h2", "h3", "h4", "h5", "h6"].indexOf(c.name) > -1) {
          e(c).after(d);
          var u = e(c).next();
          n.cmd.range.selectNodeContents(u).collapse(), n.cmd.select(), u.focus();
        } else {
          n.insertHtml(d);
          for (var l = c; l && l.children && l.children().length; )
            l = l.children();
          l && l[0] && n.cmd.range.selectNodeContents(l[0]).collapse(), n.cmd.select();
        }
        n.cmd.selection(!0);
      });
    }), KindEditor.plugin("quickformat", function(e) {
      function t(s) {
        for (var c = s.first(); c && c.first(); )
          c = c.first();
        return c;
      }
      var n = this, o = "quickformat", r = e.toMap("blockquote,center,div,h1,h2,h3,h4,h5,h6,p");
      n.clickToolbar(o, function() {
        n.focus();
        for (var s, c = n.edit.doc, a = n.cmd.range, i = e(c.body).first(), d = [], u = [], l = a.createBookmark(!0); i; ) {
          s = i.next();
          var f = t(i);
          f && f.name == "img" || (r[i.name] ? (i.html(i.html().replace(/^(\s|&nbsp;|)+/gi, "")), i.css("text-indent", "2em")) : u.push(i), (!s || r[s.name] || r[i.name] && !r[s.name]) && (u.length > 0 && d.push(u), u = [])), i = s;
        }
        e.each(d, function(p, m) {
          var g = e('<p style="text-indent:2em;"></p>', c);
          m[0].before(g), e.each(m, function(y, b) {
            g.append(b);
          });
        }), a.moveToBookmark(l), n.addBookmark();
      });
    }), KindEditor.plugin("table", function(e) {
      function t(d, u) {
        u = u.toUpperCase(), d.css("background-color", u), d.css("color", u === "#000000" ? "#FFFFFF" : "#000000"), d.html(u);
      }
      function n(d, u) {
        function l() {
          e.each(i, function() {
            this.remove();
          }), i = [], e(document).unbind("click,mousedown", l), d.unbind("click,mousedown", l);
        }
        u.bind("click,mousedown", function(f) {
          f.stopPropagation();
        }), u.click(function(f) {
          l();
          var p = e(this), m = p.pos(), g = e.colorpicker({ x: m.x, y: m.y + p.height(), z: 811214, selectedColor: e(this).html(), colors: r.colorTable, noColor: r.lang("noColor"), shadowMode: r.shadowMode, click: function(y) {
            t(p, y), l();
          } });
          i.push(g), e(document).bind("click,mousedown", l), d.bind("click,mousedown", l);
        });
      }
      function o(d, u, l) {
        for (var f = 0, p = 0, m = u.cells.length; m > p && u.cells[p] != l; p++)
          f += u.cells[p].rowSpan - 1;
        return l.cellIndex - f;
      }
      var r = this, s = "table", c = r.lang(s + "."), a = "ke-zeroborder", i = [];
      r.plugin.table = { prop: function(d) {
        var u = ['<div style="padding:20px;">', '<div class="ke-dialog-row">', '<label for="keRows" style="width:90px;">' + c.cells + "</label>", c.rows + ' <input type="text" id="keRows" class="ke-input-text ke-input-number" name="rows" value="" maxlength="4" /> &nbsp; ', c.cols + ' <input type="text" class="ke-input-text ke-input-number" name="cols" value="" maxlength="4" />', "</div>", '<div class="ke-dialog-row">', '<label for="keWidth" style="width:90px;">' + c.size + "</label>", c.width + ' <input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" /> &nbsp; ', '<select name="widthType">', '<option value="%">' + c.percent + "</option>", '<option value="px">' + c.px + "</option>", "</select> &nbsp; ", c.height + ' <input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" /> &nbsp; ', '<select name="heightType">', '<option value="%">' + c.percent + "</option>", '<option value="px">' + c.px + "</option>", "</select>", "</div>", '<div class="ke-dialog-row">', '<label for="kePadding" style="width:90px;">' + c.space + "</label>", c.padding + ' <input type="text" id="kePadding" class="ke-input-text ke-input-number" name="padding" value="" maxlength="4" /> &nbsp; ', c.spacing + ' <input type="text" class="ke-input-text ke-input-number" name="spacing" value="" maxlength="4" />', "</div>", '<div class="ke-dialog-row">', '<label for="keAlign" style="width:90px;">' + c.align + "</label>", '<select id="keAlign" name="align">', '<option value="">' + c.alignDefault + "</option>", '<option value="left">' + c.alignLeft + "</option>", '<option value="center">' + c.alignCenter + "</option>", '<option value="right">' + c.alignRight + "</option>", "</select>", "</div>", '<div class="ke-dialog-row">', '<label for="keBorder" style="width:90px;">' + c.border + "</label>", c.borderWidth + ' <input type="text" id="keBorder" class="ke-input-text ke-input-number" name="border" value="" maxlength="4" /> &nbsp; ', c.borderColor + ' <span class="ke-inline-block ke-input-color"></span>', "</div>", '<div class="ke-dialog-row">', '<label for="keBgColor" style="width:90px;">' + c.backgroundColor + "</label>", '<span class="ke-inline-block ke-input-color"></span>', "</div>", "</div>"].join(""), l = r.cmd.range.createBookmark(), f = r.createDialog({ name: s, width: 500, title: r.lang(s), body: u, beforeRemove: function() {
          R.unbind();
        }, yesBtn: { name: r.lang("yes"), click: function(_) {
          var M = m.val(), F = g.val(), I = y.val(), O = b.val(), U = C.val(), W = D.val(), z = A.val(), V = N.val(), te = B.val(), K = j.val(), ae = e(R[0]).html() || "", Y = e(R[1]).html() || "";
          if (M == 0 || !/^\d+$/.test(M))
            return alert(r.lang("invalidRows")), void m[0].focus();
          if (F == 0 || !/^\d+$/.test(F))
            return alert(r.lang("invalidRows")), void g[0].focus();
          if (!/^\d*$/.test(I))
            return alert(r.lang("invalidWidth")), void y[0].focus();
          if (!/^\d*$/.test(O))
            return alert(r.lang("invalidHeight")), void b[0].focus();
          if (!/^\d*$/.test(z))
            return alert(r.lang("invalidPadding")), void A[0].focus();
          if (!/^\d*$/.test(V))
            return alert(r.lang("invalidSpacing")), void N[0].focus();
          if (!/^\d*$/.test(K))
            return alert(r.lang("invalidBorder")), void j[0].focus();
          if (E)
            return I !== "" ? E.width(I + U) : E.css("width", ""), E[0].width !== void 0 && E.removeAttr("width"), O !== "" ? E.height(O + W) : E.css("height", ""), E[0].height !== void 0 && E.removeAttr("height"), E.css("background-color", Y), E[0].bgColor !== void 0 && E.removeAttr("bgColor"), z !== "" ? E[0].cellPadding = z : E.removeAttr("cellPadding"), V !== "" ? E[0].cellSpacing = V : E.removeAttr("cellSpacing"), te !== "" ? E[0].align = te : E.removeAttr("align"), K !== "" ? E.attr("border", K) : E.removeAttr("border"), K === "" || K === "0" ? E.addClass(a) : E.removeClass(a), ae !== "" ? E.attr("borderColor", ae) : E.removeAttr("borderColor"), r.hideDialog().focus(), r.cmd.range.moveToBookmark(l), r.cmd.select(), void r.addBookmark();
          var Q = "";
          I !== "" && (Q += "width:" + I + U + ";"), O !== "" && (Q += "height:" + O + W + ";"), Y !== "" && (Q += "background-color:" + Y + ";");
          var ne = "<table";
          Q !== "" && (ne += ' style="' + Q + '"'), z !== "" && (ne += ' cellpadding="' + z + '"'), V !== "" && (ne += ' cellspacing="' + V + '"'), te !== "" && (ne += ' align="' + te + '"'), K !== "" && (ne += ' border="' + K + '"'), (K === "" || K === "0") && (ne += ' class="' + a + '"'), ae !== "" && (ne += ' bordercolor="' + ae + '"'), ne += ">";
          for (var Fe = 0; M > Fe; Fe++) {
            ne += "<tr>";
            for (var Me = 0; F > Me; Me++)
              ne += "<td>" + (e.IE ? "&nbsp;" : "<br />") + "</td>";
            ne += "</tr>";
          }
          ne += "</table>", e.IE || (ne += "<br />"), r.insertHtml(ne), r.select().hideDialog().focus(), r.addBookmark();
        } } }), p = f.div, m = e('[name="rows"]', p).val(3), g = e('[name="cols"]', p).val(2), y = e('[name="width"]', p).val(100), b = e('[name="height"]', p), C = e('[name="widthType"]', p), D = e('[name="heightType"]', p), A = e('[name="padding"]', p).val(2), N = e('[name="spacing"]', p).val(0), B = e('[name="align"]', p), j = e('[name="border"]', p).val(1), R = e(".ke-input-color", p);
        n(p, R.eq(0)), n(p, R.eq(1)), t(R.eq(0), "#000000"), t(R.eq(1), ""), m[0].focus(), m[0].select();
        var E;
        if (!d && (E = r.plugin.getSelectedTable())) {
          m.val(E[0].rows.length), g.val(E[0].rows.length > 0 ? E[0].rows[0].cells.length : 0), m.attr("disabled", !0), g.attr("disabled", !0);
          var S, w = E[0].style.width || E[0].width, x = E[0].style.height || E[0].height;
          w !== void 0 && (S = /^(\d+)((?:px|%)*)$/.exec(w)) ? (y.val(S[1]), C.val(S[2])) : y.val(""), x !== void 0 && (S = /^(\d+)((?:px|%)*)$/.exec(x)) && (b.val(S[1]), D.val(S[2])), A.val(E[0].cellPadding || ""), N.val(E[0].cellSpacing || ""), B.val(E[0].align || ""), j.val(E[0].border === void 0 ? "" : E[0].border), t(R.eq(0), e.toHex(E.attr("borderColor") || "")), t(R.eq(1), e.toHex(E[0].style.backgroundColor || E[0].bgColor || "")), y[0].focus(), y[0].select();
        }
      }, cellprop: function() {
        var d = ['<div style="padding:20px;">', '<div class="ke-dialog-row">', '<label for="keWidth" style="width:90px;">' + c.size + "</label>", c.width + ' <input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" /> &nbsp; ', '<select name="widthType">', '<option value="%">' + c.percent + "</option>", '<option value="px">' + c.px + "</option>", "</select> &nbsp; ", c.height + ' <input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" /> &nbsp; ', '<select name="heightType">', '<option value="%">' + c.percent + "</option>", '<option value="px">' + c.px + "</option>", "</select>", "</div>", '<div class="ke-dialog-row">', '<label for="keAlign" style="width:90px;">' + c.align + "</label>", c.textAlign + ' <select id="keAlign" name="textAlign">', '<option value="">' + c.alignDefault + "</option>", '<option value="left">' + c.alignLeft + "</option>", '<option value="center">' + c.alignCenter + "</option>", '<option value="right">' + c.alignRight + "</option>", "</select> ", c.verticalAlign + ' <select name="verticalAlign">', '<option value="">' + c.alignDefault + "</option>", '<option value="top">' + c.alignTop + "</option>", '<option value="middle">' + c.alignMiddle + "</option>", '<option value="bottom">' + c.alignBottom + "</option>", '<option value="baseline">' + c.alignBaseline + "</option>", "</select>", "</div>", '<div class="ke-dialog-row">', '<label for="keBorder" style="width:90px;">' + c.border + "</label>", c.borderWidth + ' <input type="text" id="keBorder" class="ke-input-text ke-input-number" name="border" value="" maxlength="4" /> &nbsp; ', c.borderColor + ' <span class="ke-inline-block ke-input-color"></span>', "</div>", '<div class="ke-dialog-row">', '<label for="keBgColor" style="width:90px;">' + c.backgroundColor + "</label>", '<span class="ke-inline-block ke-input-color"></span>', "</div>", "</div>"].join(""), u = r.cmd.range.createBookmark(), l = r.createDialog({ name: s, width: 500, title: r.lang("tablecell"), body: d, beforeRemove: function() {
          B.unbind();
        }, yesBtn: { name: r.lang("yes"), click: function(x) {
          var _ = p.val(), M = m.val(), F = g.val(), I = y.val(), O = (b.val(), C.val(), D.val()), U = A.val(), W = N.val(), z = e(B[0]).html() || "", V = e(B[1]).html() || "";
          return /^\d*$/.test(_) ? /^\d*$/.test(M) ? /^\d*$/.test(W) ? (R.css({ width: _ !== "" ? _ + F : "", height: M !== "" ? M + I : "", "background-color": V, "text-align": O, "vertical-align": U, "border-width": W, "border-style": W !== "" ? "solid" : "", "border-color": z }), r.hideDialog().focus(), r.cmd.range.moveToBookmark(u), r.cmd.select(), void r.addBookmark()) : (alert(r.lang("invalidBorder")), void N[0].focus()) : (alert(r.lang("invalidHeight")), void m[0].focus()) : (alert(r.lang("invalidWidth")), void p[0].focus());
        } } }), f = l.div, p = e('[name="width"]', f).val(100), m = e('[name="height"]', f), g = e('[name="widthType"]', f), y = e('[name="heightType"]', f), b = e('[name="padding"]', f).val(2), C = e('[name="spacing"]', f).val(0), D = e('[name="textAlign"]', f), A = e('[name="verticalAlign"]', f), N = e('[name="border"]', f).val(1), B = e(".ke-input-color", f);
        n(f, B.eq(0)), n(f, B.eq(1)), t(B.eq(0), "#000000"), t(B.eq(1), ""), p[0].focus(), p[0].select();
        var j, R = r.plugin.getSelectedCell(), E = R[0].style.width || R[0].width || "", S = R[0].style.height || R[0].height || "";
        (j = /^(\d+)((?:px|%)*)$/.exec(E)) ? (p.val(j[1]), g.val(j[2])) : p.val(""), (j = /^(\d+)((?:px|%)*)$/.exec(S)) && (m.val(j[1]), y.val(j[2])), D.val(R[0].style.textAlign || ""), A.val(R[0].style.verticalAlign || "");
        var w = R[0].style.borderWidth || "";
        w && (w = parseInt(w)), N.val(w), t(B.eq(0), e.toHex(R[0].style.borderColor || "")), t(B.eq(1), e.toHex(R[0].style.backgroundColor || "")), p[0].focus(), p[0].select();
      }, insert: function() {
        this.prop(!0);
      }, delete: function() {
        var d = r.plugin.getSelectedTable();
        r.cmd.range.setStartBefore(d[0]).collapse(!0), r.cmd.select(), d.remove(), r.addBookmark();
      }, colinsert: function(d) {
        var u = r.plugin.getSelectedTable()[0], l = r.plugin.getSelectedRow()[0], f = r.plugin.getSelectedCell()[0], p = f.cellIndex + d;
        p += u.rows[0].cells.length - l.cells.length;
        for (var m = 0, g = u.rows.length; g > m; m++) {
          var y = u.rows[m], b = y.insertCell(p);
          b.innerHTML = e.IE ? "" : "<br />", p = o(u, y, b);
        }
        r.cmd.range.selectNodeContents(f).collapse(!0), r.cmd.select(), r.addBookmark();
      }, colinsertleft: function() {
        this.colinsert(0);
      }, colinsertright: function() {
        this.colinsert(1);
      }, rowinsert: function(d) {
        var u = r.plugin.getSelectedTable()[0], l = r.plugin.getSelectedRow()[0], f = r.plugin.getSelectedCell()[0], p = l.rowIndex;
        d === 1 && (p = l.rowIndex + (f.rowSpan - 1) + d);
        for (var m = u.insertRow(p), g = 0, y = l.cells.length; y > g; g++) {
          l.cells[g].rowSpan > 1 && (y -= l.cells[g].rowSpan - 1);
          var b = m.insertCell(g);
          d === 1 && l.cells[g].colSpan > 1 && (b.colSpan = l.cells[g].colSpan), b.innerHTML = e.IE ? "" : "<br />";
        }
        for (var C = p; C >= 0; C--) {
          var D = u.rows[C].cells;
          if (D.length > g) {
            for (var A = f.cellIndex; A >= 0; A--)
              D[A].rowSpan > 1 && (D[A].rowSpan += 1);
            break;
          }
        }
        r.cmd.range.selectNodeContents(f).collapse(!0), r.cmd.select(), r.addBookmark();
      }, rowinsertabove: function() {
        this.rowinsert(0);
      }, rowinsertbelow: function() {
        this.rowinsert(1);
      }, rowmerge: function() {
        var d = r.plugin.getSelectedTable()[0], u = r.plugin.getSelectedRow()[0], l = r.plugin.getSelectedCell()[0], f = u.rowIndex, p = f + l.rowSpan, m = d.rows[p];
        if (!(d.rows.length <= p)) {
          var g = l.cellIndex;
          if (!(m.cells.length <= g)) {
            var y = m.cells[g];
            l.colSpan === y.colSpan && (l.rowSpan += y.rowSpan, m.deleteCell(g), r.cmd.range.selectNodeContents(l).collapse(!0), r.cmd.select(), r.addBookmark());
          }
        }
      }, colmerge: function() {
        var d = (r.plugin.getSelectedTable()[0], r.plugin.getSelectedRow()[0]), u = r.plugin.getSelectedCell()[0], l = (d.rowIndex, u.cellIndex), f = l + 1;
        if (!(d.cells.length <= f)) {
          var p = d.cells[f];
          u.rowSpan === p.rowSpan && (u.colSpan += p.colSpan, d.deleteCell(f), r.cmd.range.selectNodeContents(u).collapse(!0), r.cmd.select(), r.addBookmark());
        }
      }, rowsplit: function() {
        var d = r.plugin.getSelectedTable()[0], u = r.plugin.getSelectedRow()[0], l = r.plugin.getSelectedCell()[0], f = u.rowIndex;
        if (l.rowSpan !== 1) {
          for (var p = o(d, u, l), m = 1, g = l.rowSpan; g > m; m++) {
            var y = d.rows[f + m], b = y.insertCell(p);
            l.colSpan > 1 && (b.colSpan = l.colSpan), b.innerHTML = e.IE ? "" : "<br />", p = o(d, y, b);
          }
          e(l).removeAttr("rowSpan"), r.cmd.range.selectNodeContents(l).collapse(!0), r.cmd.select(), r.addBookmark();
        }
      }, colsplit: function() {
        var d = (r.plugin.getSelectedTable()[0], r.plugin.getSelectedRow()[0]), u = r.plugin.getSelectedCell()[0], l = u.cellIndex;
        if (u.colSpan !== 1) {
          for (var f = 1, p = u.colSpan; p > f; f++) {
            var m = d.insertCell(l + f);
            u.rowSpan > 1 && (m.rowSpan = u.rowSpan), m.innerHTML = e.IE ? "" : "<br />";
          }
          e(u).removeAttr("colSpan"), r.cmd.range.selectNodeContents(u).collapse(!0), r.cmd.select(), r.addBookmark();
        }
      }, coldelete: function() {
        for (var d = r.plugin.getSelectedTable()[0], u = r.plugin.getSelectedRow()[0], l = r.plugin.getSelectedCell()[0], f = l.cellIndex, p = 0, m = d.rows.length; m > p; p++) {
          var g = d.rows[p], y = g.cells[f];
          y.colSpan > 1 ? (y.colSpan -= 1, y.colSpan === 1 && e(y).removeAttr("colSpan")) : g.deleteCell(f), y.rowSpan > 1 && (p += y.rowSpan - 1);
        }
        u.cells.length === 0 ? (r.cmd.range.setStartBefore(d).collapse(!0), r.cmd.select(), e(d).remove()) : r.cmd.selection(!0), r.addBookmark();
      }, rowdelete: function() {
        for (var d = r.plugin.getSelectedTable()[0], u = r.plugin.getSelectedRow()[0], l = r.plugin.getSelectedCell()[0], f = u.rowIndex, p = l.rowSpan - 1; p >= 0; p--)
          d.deleteRow(f + p);
        d.rows.length === 0 ? (r.cmd.range.setStartBefore(d).collapse(!0), r.cmd.select(), e(d).remove()) : r.cmd.selection(!0), r.addBookmark();
      } }, r.clickToolbar(s, r.plugin.table.prop);
    }), KindEditor.plugin("template", function(e) {
      var t = this, n = "template", o = (t.lang(n + "."), t.pluginsPath + n + "", e.undef(t.templates, e.Templates));
      t.clickToolbar(n, function() {
        var r = t.lang(n + "."), s = ['<div style="padding:10px 20px;">', '<div class="ke-header">', '<div class="ke-left">', r.selectTemplate + " <select>"];
        e.each(o, function(u, l) {
          s.push("<option value='" + l.content + "'>" + l.name + "</option>");
        }), Tt = [s.join(""), "</select></div>", '<div class="ke-right">', '<input type="checkbox" id="keReplaceFlag" name="replaceFlag" value="1" /> <label for="keReplaceFlag">' + r.replaceContent + "</label>", "</div>", '<div class="ke-clearfix"></div>', "</div>", '<div class="ke-temp-preview" style="width:518px;height:260px;background-color:#FFF;padding: 12px;overflow:auto;border-color: #848484 #E0E0E0 #E0E0E0 #848484;border-style: solid;border-width: 1px;"></div>', "</div>"].join("");
        var c = t.createDialog({ name: n, width: 560, title: t.lang(n), body: Tt, yesBtn: { name: t.lang("yes"), click: function(u) {
          t[i[0].checked ? "html" : "insertHtml"](a.val()).hideDialog().focus();
        } } }), a = e("select", c.div), i = e('[name="replaceFlag"]', c.div), d = e(".ke-temp-preview", c.div);
        i[0].checked = !1, d.html(a.val()), a.change(function() {
          console.info(d), d.html(this.value);
        });
      });
    }), KindEditor.plugin("wordpaste", function(e) {
      var t = this, n = "wordpaste";
      t.clickToolbar(n, function() {
        var o = t.lang(n + "."), r = '<div style="padding:10px 20px;"><div style="margin-bottom:10px;">' + o.comment + '</div><iframe class="ke-textarea" frameborder="0" style="width:518px;height:260px;"></iframe></div>', s = t.createDialog({ name: n, width: 560, title: t.lang(n), body: r, yesBtn: { name: t.lang("yes"), click: function(d) {
          var u = i.body.innerHTML;
          u = e.clearMsWord(u, t.filterMode ? t.htmlTags : e.options.htmlTags), t.insertHtml(u).hideDialog().focus();
        } } }), c = s.div, a = e("iframe", c), i = e.iframeDoc(a);
        e.IE || (i.designMode = "on"), i.open(), i.write("<!doctype html><html><head><title>WordPaste</title></head>"), i.write('<body style="background-color:#FFF;font-size:12px;margin:2px;">'), e.IE || i.write("<br />"), i.write("</body></html>"), i.close(), e.IE && (i.body.contentEditable = "true"), a[0].contentWindow.focus();
      });
    }), KindEditor.plugin("fixtoolbar", function(e) {
      function t() {
        var s = e(".ke-toolbar"), c = e(s).parent();
        e(".ke-toolbar").width(), e(window).bind("resize", function() {
          s.css("width", e(c).width() - 2 + "px");
        }), s.css("width", e(c).width() + "px"), e(r).bind("scroll", function() {
          var a = c.pos().y, i = r.pos().y;
          i >= a ? (s.css("position", "fixed"), s.css("top", i + "px"), s.css("border-top", "1px solid #ccc")) : (s.css("position", "static"), s.css("top", "auto"), s.css("border-top", "none"));
        });
      }
      var n = this, o = e("body");
      if (n.fixToolBar) {
        n.fixToolBarWatchRef && (o = e(n.fixToolBarWatchRef));
        var r = e(o);
        return r.length < 1 ? void console.error("fixToolBarWatchRef can not be null") : void (n.isCreated ? t() : n.afterCreate(t));
      }
    }), KindEditor.lang({ source: "HTML\u4EE3\u7801", preview: "\u9884\u89C8", undo: "\u540E\u9000(Ctrl+Z)", redo: "\u524D\u8FDB(Ctrl+Y)", cut: "\u526A\u5207(Ctrl+X)", copy: "\u590D\u5236(Ctrl+C)", paste: "\u7C98\u8D34(Ctrl+V)", plainpaste: "\u7C98\u8D34\u4E3A\u65E0\u683C\u5F0F\u6587\u672C", wordpaste: "\u4ECEWord\u7C98\u8D34", selectall: "\u5168\u9009(Ctrl+A)", justifyleft: "\u5DE6\u5BF9\u9F50", justifycenter: "\u5C45\u4E2D", justifyright: "\u53F3\u5BF9\u9F50", justifyfull: "\u4E24\u7AEF\u5BF9\u9F50", insertorderedlist: "\u7F16\u53F7", insertunorderedlist: "\u9879\u76EE\u7B26\u53F7", indent: "\u589E\u52A0\u7F29\u8FDB", outdent: "\u51CF\u5C11\u7F29\u8FDB", subscript: "\u4E0B\u6807", superscript: "\u4E0A\u6807", formatblock: "\u6BB5\u843D", fontname: "\u5B57\u4F53", fontsize: "\u6587\u5B57\u5927\u5C0F", forecolor: "\u6587\u5B57\u989C\u8272", hilitecolor: "\u6587\u5B57\u80CC\u666F", bold: "\u7C97\u4F53(Ctrl+B)", italic: "\u659C\u4F53(Ctrl+I)", underline: "\u4E0B\u5212\u7EBF(Ctrl+U)", strikethrough: "\u5220\u9664\u7EBF", removeformat: "\u5220\u9664\u683C\u5F0F", image: "\u56FE\u7247", multiimage: "\u6279\u91CF\u56FE\u7247\u4E0A\u4F20", flash: "Flash", media: "\u89C6\u97F3\u9891", table: "\u8868\u683C", tablecell: "\u5355\u5143\u683C", hr: "\u63D2\u5165\u6A2A\u7EBF", emoticons: "\u63D2\u5165\u8868\u60C5", link: "\u8D85\u7EA7\u94FE\u63A5", unlink: "\u53D6\u6D88\u8D85\u7EA7\u94FE\u63A5", fullscreen: "\u5168\u5C4F\u663E\u793A", about: "\u5173\u4E8E", print: "\u6253\u5370(Ctrl+P)", filemanager: "\u6587\u4EF6\u7A7A\u95F4", code: "\u63D2\u5165\u7A0B\u5E8F\u4EE3\u7801", map: "Google\u5730\u56FE", baidumap: "\u767E\u5EA6\u5730\u56FE", lineheight: "\u884C\u8DDD", clearhtml: "\u6E05\u7406HTML\u4EE3\u7801", pagebreak: "\u63D2\u5165\u5206\u9875\u7B26", quickformat: "\u4E00\u952E\u6392\u7248", insertfile: "\u63D2\u5165\u6587\u4EF6", template: "\u63D2\u5165\u6A21\u677F", anchor: "\u951A\u70B9", yes: "\u786E\u5B9A", no: "\u53D6\u6D88", close: "\u5173\u95ED", editImage: "\u56FE\u7247\u5C5E\u6027", deleteImage: "\u5220\u9664\u56FE\u7247", editFlash: "Flash\u5C5E\u6027", deleteFlash: "\u5220\u9664Flash", editMedia: "\u89C6\u97F3\u9891\u5C5E\u6027", deleteMedia: "\u5220\u9664\u89C6\u97F3\u9891", editLink: "\u8D85\u7EA7\u94FE\u63A5\u5C5E\u6027", deleteLink: "\u53D6\u6D88\u8D85\u7EA7\u94FE\u63A5", editAnchor: "\u951A\u70B9\u5C5E\u6027", deleteAnchor: "\u5220\u9664\u951A\u70B9", tableprop: "\u8868\u683C\u5C5E\u6027", tablecellprop: "\u5355\u5143\u683C\u5C5E\u6027", tableinsert: "\u63D2\u5165\u8868\u683C", tabledelete: "\u5220\u9664\u8868\u683C", tablecolinsertleft: "\u5DE6\u4FA7\u63D2\u5165\u5217", tablecolinsertright: "\u53F3\u4FA7\u63D2\u5165\u5217", tablerowinsertabove: "\u4E0A\u65B9\u63D2\u5165\u884C", tablerowinsertbelow: "\u4E0B\u65B9\u63D2\u5165\u884C", tablerowmerge: "\u5411\u4E0B\u5408\u5E76\u5355\u5143\u683C", tablecolmerge: "\u5411\u53F3\u5408\u5E76\u5355\u5143\u683C", tablerowsplit: "\u62C6\u5206\u884C", tablecolsplit: "\u62C6\u5206\u5217", tablecoldelete: "\u5220\u9664\u5217", tablerowdelete: "\u5220\u9664\u884C", noColor: "\u65E0\u989C\u8272", pleaseSelectFile: "\u8BF7\u9009\u62E9\u6587\u4EF6\u3002", invalidImg: `\u8BF7\u8F93\u5165\u6709\u6548\u7684URL\u5730\u5740\u3002
\u53EA\u5141\u8BB8jpg,gif,bmp,png\u683C\u5F0F\u3002`, invalidMedia: `\u8BF7\u8F93\u5165\u6709\u6548\u7684URL\u5730\u5740\u3002
\u53EA\u5141\u8BB8swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb\u683C\u5F0F\u3002`, invalidWidth: "\u5BBD\u5EA6\u5FC5\u987B\u4E3A\u6570\u5B57\u3002", invalidHeight: "\u9AD8\u5EA6\u5FC5\u987B\u4E3A\u6570\u5B57\u3002", invalidBorder: "\u8FB9\u6846\u5FC5\u987B\u4E3A\u6570\u5B57\u3002", invalidUrl: "\u8BF7\u8F93\u5165\u6709\u6548\u7684URL\u5730\u5740\u3002", invalidRows: "\u884C\u6570\u4E3A\u5FC5\u9009\u9879\uFF0C\u53EA\u5141\u8BB8\u8F93\u5165\u5927\u4E8E0\u7684\u6570\u5B57\u3002", invalidCols: "\u5217\u6570\u4E3A\u5FC5\u9009\u9879\uFF0C\u53EA\u5141\u8BB8\u8F93\u5165\u5927\u4E8E0\u7684\u6570\u5B57\u3002", invalidPadding: "\u8FB9\u8DDD\u5FC5\u987B\u4E3A\u6570\u5B57\u3002", invalidSpacing: "\u95F4\u8DDD\u5FC5\u987B\u4E3A\u6570\u5B57\u3002", invalidJson: "\u670D\u52A1\u5668\u53D1\u751F\u6545\u969C\u3002", uploadSuccess: "\u4E0A\u4F20\u6210\u529F\u3002", cutError: "\u60A8\u7684\u6D4F\u89C8\u5668\u5B89\u5168\u8BBE\u7F6E\u4E0D\u5141\u8BB8\u4F7F\u7528\u526A\u5207\u64CD\u4F5C\uFF0C\u8BF7\u4F7F\u7528\u5FEB\u6377\u952E(Ctrl+X)\u6765\u5B8C\u6210\u3002", copyError: "\u60A8\u7684\u6D4F\u89C8\u5668\u5B89\u5168\u8BBE\u7F6E\u4E0D\u5141\u8BB8\u4F7F\u7528\u590D\u5236\u64CD\u4F5C\uFF0C\u8BF7\u4F7F\u7528\u5FEB\u6377\u952E(Ctrl+C)\u6765\u5B8C\u6210\u3002", pasteError: "\u60A8\u7684\u6D4F\u89C8\u5668\u5B89\u5168\u8BBE\u7F6E\u4E0D\u5141\u8BB8\u4F7F\u7528\u7C98\u8D34\u64CD\u4F5C\uFF0C\u8BF7\u4F7F\u7528\u5FEB\u6377\u952E(Ctrl+V)\u6765\u5B8C\u6210\u3002", ajaxLoading: "\u52A0\u8F7D\u4E2D\uFF0C\u8BF7\u7A0D\u5019 ...", uploadLoading: "\u4E0A\u4F20\u4E2D\uFF0C\u8BF7\u7A0D\u5019 ...", uploadError: "\u4E0A\u4F20\u9519\u8BEF", "plainpaste.comment": "\u8BF7\u4F7F\u7528\u5FEB\u6377\u952E(Ctrl+V)\u628A\u5185\u5BB9\u7C98\u8D34\u5230\u4E0B\u9762\u7684\u65B9\u6846\u91CC\u3002", "wordpaste.comment": "\u8BF7\u4F7F\u7528\u5FEB\u6377\u952E(Ctrl+V)\u628A\u5185\u5BB9\u7C98\u8D34\u5230\u4E0B\u9762\u7684\u65B9\u6846\u91CC\u3002", "code.pleaseInput": "\u8BF7\u8F93\u5165\u7A0B\u5E8F\u4EE3\u7801\u3002", "link.url": "URL", "link.linkType": "\u6253\u5F00\u7C7B\u578B", "link.newWindow": "\u65B0\u7A97\u53E3", "link.selfWindow": "\u5F53\u524D\u7A97\u53E3", "flash.url": "URL", "flash.width": "\u5BBD\u5EA6", "flash.height": "\u9AD8\u5EA6", "flash.upload": "\u4E0A\u4F20", "flash.viewServer": "\u6587\u4EF6\u7A7A\u95F4", "media.url": "URL", "media.width": "\u5BBD\u5EA6", "media.height": "\u9AD8\u5EA6", "media.autostart": "\u81EA\u52A8\u64AD\u653E", "media.upload": "\u4E0A\u4F20", "media.viewServer": "\u6587\u4EF6\u7A7A\u95F4", "image.remoteImage": "\u7F51\u7EDC\u56FE\u7247", "image.localImage": "\u672C\u5730\u4E0A\u4F20", "image.remoteUrl": "\u56FE\u7247\u5730\u5740", "image.localUrl": "\u4E0A\u4F20\u6587\u4EF6", "image.size": "\u56FE\u7247\u5927\u5C0F", "image.width": "\u5BBD", "image.height": "\u9AD8", "image.resetSize": "\u91CD\u7F6E\u5927\u5C0F", "image.align": "\u5BF9\u9F50\u65B9\u5F0F", "image.defaultAlign": "\u9ED8\u8BA4\u65B9\u5F0F", "image.leftAlign": "\u5DE6\u5BF9\u9F50", "image.rightAlign": "\u53F3\u5BF9\u9F50", "image.imgTitle": "\u56FE\u7247\u8BF4\u660E", "image.upload": "\u6D4F\u89C8...", "image.viewServer": "\u56FE\u7247\u7A7A\u95F4", "multiimage.uploadDesc": "\u5141\u8BB8\u7528\u6237\u540C\u65F6\u4E0A\u4F20<%=uploadLimit%>\u5F20\u56FE\u7247\uFF0C\u5355\u5F20\u56FE\u7247\u5BB9\u91CF\u4E0D\u8D85\u8FC7<%=sizeLimit%>", "multiimage.startUpload": "\u5F00\u59CB\u4E0A\u4F20", "multiimage.clearAll": "\u5168\u90E8\u6E05\u7A7A", "multiimage.insertAll": "\u5168\u90E8\u63D2\u5165", "multiimage.queueLimitExceeded": "\u6587\u4EF6\u6570\u91CF\u8D85\u8FC7\u9650\u5236\u3002", "multiimage.fileExceedsSizeLimit": "\u6587\u4EF6\u5927\u5C0F\u8D85\u8FC7\u9650\u5236\u3002", "multiimage.zeroByteFile": "\u65E0\u6CD5\u4E0A\u4F20\u7A7A\u6587\u4EF6\u3002", "multiimage.invalidFiletype": "\u6587\u4EF6\u7C7B\u578B\u4E0D\u6B63\u786E\u3002", "multiimage.unknownError": "\u53D1\u751F\u5F02\u5E38\uFF0C\u65E0\u6CD5\u4E0A\u4F20\u3002", "multiimage.pending": "\u7B49\u5F85\u4E0A\u4F20", "multiimage.uploadError": "\u4E0A\u4F20\u5931\u8D25", "filemanager.emptyFolder": "\u7A7A\u6587\u4EF6\u5939", "filemanager.moveup": "\u79FB\u5230\u4E0A\u4E00\u7EA7\u6587\u4EF6\u5939", "filemanager.viewType": "\u663E\u793A\u65B9\u5F0F\uFF1A", "filemanager.viewImage": "\u7F29\u7565\u56FE", "filemanager.listImage": "\u8BE6\u7EC6\u4FE1\u606F", "filemanager.orderType": "\u6392\u5E8F\u65B9\u5F0F\uFF1A", "filemanager.fileName": "\u540D\u79F0", "filemanager.fileSize": "\u5927\u5C0F", "filemanager.fileType": "\u7C7B\u578B", "insertfile.url": "URL", "insertfile.title": "\u6587\u4EF6\u8BF4\u660E", "insertfile.upload": "\u4E0A\u4F20", "insertfile.viewServer": "\u6587\u4EF6\u7A7A\u95F4", "table.cells": "\u5355\u5143\u683C\u6570", "table.rows": "\u884C\u6570", "table.cols": "\u5217\u6570", "table.size": "\u5927\u5C0F", "table.width": "\u5BBD\u5EA6", "table.height": "\u9AD8\u5EA6", "table.percent": "%", "table.px": "px", "table.space": "\u8FB9\u8DDD\u95F4\u8DDD", "table.padding": "\u8FB9\u8DDD", "table.spacing": "\u95F4\u8DDD", "table.align": "\u5BF9\u9F50\u65B9\u5F0F", "table.textAlign": "\u6C34\u5E73\u5BF9\u9F50", "table.verticalAlign": "\u5782\u76F4\u5BF9\u9F50", "table.alignDefault": "\u9ED8\u8BA4", "table.alignLeft": "\u5DE6\u5BF9\u9F50", "table.alignCenter": "\u5C45\u4E2D", "table.alignRight": "\u53F3\u5BF9\u9F50", "table.alignTop": "\u9876\u90E8", "table.alignMiddle": "\u4E2D\u90E8", "table.alignBottom": "\u5E95\u90E8", "table.alignBaseline": "\u57FA\u7EBF", "table.border": "\u8FB9\u6846", "table.borderWidth": "\u8FB9\u6846", "table.borderColor": "\u989C\u8272", "table.backgroundColor": "\u80CC\u666F\u989C\u8272", "map.address": "\u5730\u5740: ", "map.search": "\u641C\u7D22", "baidumap.address": "\u5730\u5740: ", "baidumap.search": "\u641C\u7D22", "baidumap.insertDynamicMap": "\u63D2\u5165\u52A8\u6001\u5730\u56FE", "anchor.name": "\u951A\u70B9\u540D\u79F0", "formatblock.formatBlock": { h1: "\u6807\u9898 1", h2: "\u6807\u9898 2", h3: "\u6807\u9898 3", h4: "\u6807\u9898 4", p: "\u6B63 \u6587" }, "fontname.fontName": { SimSun: "\u5B8B\u4F53", NSimSun: "\u65B0\u5B8B\u4F53", FangSong_GB2312: "\u4EFF\u5B8B_GB2312", KaiTi_GB2312: "\u6977\u4F53_GB2312", SimHei: "\u9ED1\u4F53", "Microsoft YaHei": "\u5FAE\u8F6F\u96C5\u9ED1", Arial: "Arial", "Arial Black": "Arial Black", "Times New Roman": "Times New Roman", "Courier New": "Courier New", Tahoma: "Tahoma", Verdana: "Verdana" }, "lineheight.lineHeight": [{ 1: "\u5355\u500D\u884C\u8DDD" }, { 1.5: "1.5\u500D\u884C\u8DDD" }, { 2: "2\u500D\u884C\u8DDD" }, { 2.5: "2.5\u500D\u884C\u8DDD" }, { 3: "3\u500D\u884C\u8DDD" }], "template.selectTemplate": "\u53EF\u9009\u6A21\u677F", "template.replaceContent": "\u66FF\u6362\u5F53\u524D\u5185\u5BB9", "template.fileList": { "1.html": "\u56FE\u7247\u548C\u6587\u5B57", "2.html": "\u8868\u683C", "3.html": "\u9879\u76EE\u7F16\u53F7" } }, "zh-CN"), KindEditor.options.langType = "zh-CN", KindEditor;
  });
})(Oi);
const dt = KindEditor, Pi = ["id"], ji = {
  __name: "VKindEditor",
  props: {
    id: {
      type: String,
      required: !1,
      default: () => "ke_" + Math.random().toString().substring(2)
    },
    readonly: {
      type: Boolean,
      default: !1
    },
    modelValue: {
      type: String,
      required: !0
    },
    configs: {
      type: Object,
      default: () => ({})
    }
  },
  emits: ["update:modelValue"],
  setup(We, { emit: ft }) {
    var J, X;
    const ie = We;
    var re = null;
    const pe = (J = ie.configs) == null ? void 0 : J.afterBlur, P = (X = ie.configs) == null ? void 0 : X.afterChange, ee = ie.id;
    var $e = Object.assign(
      {
        loadStyleMode: !1,
        resizeType: 1,
        pasteType: 2,
        newlineTag: "p"
      },
      ie.configs,
      {
        allowFlashUpload: !1,
        allowFileManager: !1,
        afterBlur: function() {
          this.sync(), pe && pe.call(this);
        },
        afterChange: function() {
          re && ft("update:modelValue", re.html()), P && P.call(this);
        }
      }
    );
    return Ni(
      () => ie.readonly,
      (se) => {
        re && re.readonly(se);
      }
    ), Ii(() => {
      dt.remove("#" + ee), re = dt.create("#" + ee, $e), ie.modelValue && re.html(ie.modelValue);
    }), Ai(() => {
      dt.remove("#" + ee), re && re.remove(), re = null;
    }), Li(() => {
      dt.remove("#" + ee), re = dt.create("#" + ee, $e), ie.modelValue && re.html(ie.modelValue);
    }), (se, Ve) => (Ri(), Bi("div", {
      id: Fi(ee),
      style: { visibility: "hidden" }
    }, null, 8, Pi));
  }
};
const Hi = {
  install(We, ft) {
    const ie = ft || { name: "VKindEditor" };
    We.component(ie.name, ji);
  }
};
export {
  Hi as default
};
