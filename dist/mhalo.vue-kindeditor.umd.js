(function(){ try {var elementStyle = document.createElement('style'); elementStyle.appendChild(document.createTextNode("@import\"//at.alicdn.com/t/c/font_1491367_8kig7bk8pn.css\";.ke-container *{box-sizing:border-box}.ke-inline-block{display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1}.ke-clearfix{zoom:1}.ke-clearfix:after{content:\".\";display:block;clear:both;font-size:0;height:0;line-height:0;visibility:hidden}.ke-shadow{box-shadow:0 0 30px -6px #999;-moz-box-shadow:0px 0px 30px -6px #999;-webkit-box-shadow:0px 0px 30px -6px #999;filter:progid:DXImageTransform.Microsoft.Shadow(color=\"#A0A0A0\",Direction=135,Strength=3);background-color:#f0f0ee}.ke-menu a,.ke-menu a:hover,.ke-dialog a,.ke-dialog a:hover{color:#337fe5;text-decoration:none}.ke-icon-source{background-position:0px 0px;width:16px;height:16px}.ke-icon-preview{background-position:0px -16px;width:16px;height:16px}.ke-icon-print{background-position:0px -32px;width:16px;height:16px}.ke-icon-undo{background-position:0px -48px;width:16px;height:16px}.ke-icon-redo{background-position:0px -64px;width:16px;height:16px}.ke-icon-cut{background-position:0px -80px;width:16px;height:16px}.ke-icon-copy{background-position:0px -96px;width:16px;height:16px}.ke-icon-paste{background-position:0px -112px;width:16px;height:16px}.ke-icon-selectall{background-position:0px -128px;width:16px;height:16px}.ke-icon-justifyleft{background-position:0px -144px;width:16px;height:16px}.ke-icon-justifycenter{background-position:0px -160px;width:16px;height:16px}.ke-icon-justifyright{background-position:0px -176px;width:16px;height:16px}.ke-icon-justifyfull{background-position:0px -192px;width:16px;height:16px}.ke-icon-insertorderedlist{background-position:0px -208px;width:16px;height:16px}.ke-icon-insertunorderedlist{background-position:0px -224px;width:16px;height:16px}.ke-icon-indent{background-position:0px -240px;width:16px;height:16px}.ke-icon-outdent{background-position:0px -256px;width:16px;height:16px}.ke-icon-subscript{background-position:0px -272px;width:16px;height:16px}.ke-icon-superscript{background-position:0px -288px;width:16px;height:16px}.ke-icon-date{background-position:0px -304px;width:25px;height:16px}.ke-icon-time{background-position:0px -320px;width:25px;height:16px}.ke-icon-formatblock{background-position:0px -336px;width:25px;height:16px}.ke-icon-fontname{background-position:0px -352px;width:21px;height:16px}.ke-icon-fontsize{background-position:0px -368px;width:23px;height:16px}.ke-icon-forecolor{background-position:0px -384px;width:20px;height:16px}.ke-icon-hilitecolor{background-position:0px -400px;width:23px;height:16px}.ke-icon-bold{background-position:0px -416px;width:16px;height:16px}.ke-icon-italic{background-position:0px -432px;width:16px;height:16px}.ke-icon-underline{background-position:0px -448px;width:16px;height:16px}.ke-icon-strikethrough{background-position:0px -464px;width:16px;height:16px}.ke-icon-removeformat{background-position:0px -480px;width:16px;height:16px}.ke-icon-image{background-position:0px -496px;width:16px;height:16px}.ke-icon-flash{background-position:0px -512px;width:16px;height:16px}.ke-icon-media{background-position:0px -528px;width:16px;height:16px}.ke-icon-div{background-position:0px -544px;width:16px;height:16px}.ke-icon-formula{background-position:0px -576px;width:16px;height:16px}.ke-icon-hr{background-position:0px -592px;width:16px;height:16px}.ke-icon-link{background-position:0px -624px;width:16px;height:16px}.ke-icon-unlink{background-position:0px -640px;width:16px;height:16px}.ke-icon-fullscreen{background-position:0px -656px;width:16px;height:16px}.ke-icon-about{background-position:0px -672px;width:16px;height:16px}.ke-icon-plainpaste{background-position:0px -704px;width:16px;height:16px}.ke-icon-wordpaste{background-position:0px -720px;width:16px;height:16px}.ke-icon-table{background-position:0px -784px;width:16px;height:16px}.ke-icon-tablemenu{background-position:0px -768px;width:16px;height:16px}.ke-icon-tableinsert{background-position:0px -784px;width:16px;height:16px}.ke-icon-tabledelete{background-position:0px -800px;width:16px;height:16px}.ke-icon-tablecolinsertleft{background-position:0px -816px;width:16px;height:16px}.ke-icon-tablecolinsertright{background-position:0px -832px;width:16px;height:16px}.ke-icon-tablerowinsertabove{background-position:0px -848px;width:16px;height:16px}.ke-icon-tablerowinsertbelow{background-position:0px -864px;width:16px;height:16px}.ke-icon-tablecoldelete{background-position:0px -880px;width:16px;height:16px}.ke-icon-tablerowdelete{background-position:0px -896px;width:16px;height:16px}.ke-icon-tablecellprop{background-position:0px -912px;width:16px;height:16px}.ke-icon-tableprop{background-position:0px -928px;width:16px;height:16px}.ke-icon-checked{background-position:0px -944px;width:16px;height:16px}.ke-icon-code{background-position:0px -960px;width:16px;height:16px}.ke-icon-map,.ke-icon-baidumap{background-position:0px -976px;width:16px;height:16px}.ke-icon-lineheight{background-position:0px -992px;width:16px;height:16px}.ke-icon-clearhtml{background-position:0px -1008px;width:16px;height:16px}.ke-icon-pagebreak{background-position:0px -1024px;width:16px;height:16px}.ke-icon-insertfile{background-position:0px -1040px;width:16px;height:16px}.ke-icon-quickformat{background-position:0px -1056px;width:16px;height:16px}.ke-icon-template{background-position:0px -1072px;width:16px;height:16px}.ke-icon-tablecellsplit{background-position:0px -1088px;width:16px;height:16px}.ke-icon-tablerowmerge{background-position:0px -1104px;width:16px;height:16px}.ke-icon-tablerowsplit{background-position:0px -1120px;width:16px;height:16px}.ke-icon-tablecolmerge{background-position:0px -1136px;width:16px;height:16px}.ke-icon-tablecolsplit{background-position:0px -1152px;width:16px;height:16px}.ke-icon-anchor{background-position:0px -1168px;width:16px;height:16px}.ke-icon-search{background-position:0px -1184px;width:16px;height:16px}.ke-icon-new{background-position:0px -1200px;width:16px;height:16px}.ke-icon-specialchar{background-position:0px -1216px;width:16px;height:16px}.ke-icon-multiimage{background-position:0px -1232px;width:16px;height:16px}.ke-container{display:block;border:1px solid #CCCCCC;background-color:#fff;overflow:hidden;margin:0;padding:0}.ke-toolbar{border-bottom:1px solid #CCC;background-color:#f0f0ee;padding:3px 5px;text-align:left;overflow:hidden;zoom:1;box-sizing:border-box}.ke-toolbar-icon{width:30px;height:30px;text-align:center;line-height:30px;font-size:18px;display:inline-block}.ke-toolbar-icon-url{background:none}.ke-toolbar .ke-outline{border:1px solid #F0F0EE;margin:1px;padding:1px 2px;font-size:0;line-height:0;overflow:hidden;cursor:pointer;display:block;float:left}.ke-toolbar .ke-on{border:1px solid #5690D2}.ke-toolbar .ke-selected{border:1px solid #5690D2;background-color:#e9eff6}.ke-toolbar .ke-disabled{cursor:default}.ke-toolbar .ke-separator{height:24px;margin:5px 3px;border-left:1px solid #b2c9cd;border-right:1px solid #FFFFFF;border-top:0;border-bottom:0;width:0;font-size:0;line-height:0;overflow:hidden;display:block;float:left}.ke-toolbar .ke-hr{overflow:hidden;height:1px;clear:both}.ke-edit{padding:0}.ke-edit-iframe,.ke-edit-textarea{border:0;margin:0;padding:0;overflow:auto}.ke-edit-textarea{font:12px/1.5 Consolas,Monaco,Bitstream Vera Sans Mono,Courier New,Courier,monospace;color:#000;overflow:auto;resize:none}.ke-edit-textarea:focus{outline:none}.ke-statusbar{position:relative;background-color:#94afb41a;border-top:1px solid #c9d8da;font-size:0;line-height:0;overflow:hidden;text-align:center;cursor:s-resize}.ke-statusbar-center-icon{width:25px;height:11px;position:relative}.ke-statusbar-center-icon i{width:100%;height:1px;background:#94afb4;display:block;transform:scaleY(.5);border:none;margin-top:2px}.ke-statusbar-right-icon{position:absolute;right:0;bottom:0;cursor:se-resize;background-position:-5px -741px;width:11px;height:11px}.ke-menu{background-color:#fff;color:#222;font-family:PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;font-size:12px;text-align:left;overflow:hidden;padding:3px 0}.ke-menu-item{border:1px solid transparent;background-color:#fff;color:#222;height:30px;overflow:hidden;cursor:pointer;font-size:13px;margin:3px 0;display:flex;flex-flow:row nowrap;align-items:center}.ke-menu-item-on{border:1px solid transparent;background-color:#e9eff6}.ke-menu-item-left{width:27px;text-align:center;overflow:hidden}.ke-menu-item-left .icon-ke-font{height:auto;line-height:1}.ke-menu-item-center{width:0;height:24px;border-left:1px solid #E3E3E3;border-right:1px solid #FFFFFF;border-top:0;border-bottom:0}.ke-menu-item-center-on{border-left:1px solid #E9EFF6;border-right:1px solid #E9EFF6}.ke-menu-item-right{border:0;padding:0 0 0 5px;line-height:24px;text-align:left;overflow:hidden}.ke-menu-separator{margin:2px 0;height:0;overflow:hidden;border-top:1px solid #CCCCCC;border-bottom:1px solid #FFFFFF;border-left:0;border-right:0}.ke-colorpicker{background-color:#fff;color:#222;padding:4px}.ke-colorpicker-table{border:0;margin:0;padding:0;border-collapse:separate}.ke-colorpicker-cell{font-size:0;line-height:0;border:1px solid transparent;cursor:pointer;margin:3px;padding:0}.ke-colorpicker-cell-top{font-family:PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;font-size:14px;line-height:30px;border:1px solid transparent;cursor:pointer;margin:0;padding:0;text-align:center}.ke-colorpicker-cell-on{border:1px solid #5690D2}.ke-colorpicker-cell-selected{border:1px solid #2446AB}.ke-colorpicker-cell-color{width:24px;height:24px;margin:4px;padding:0;border:0}.ke-dialog{position:absolute;margin:0;padding:0}.ke-dialog *{box-sizing:border-box}.ke-dialog .ke-header{width:100%;margin-bottom:10px}.ke-dialog .ke-header .ke-left{float:left}.ke-dialog .ke-header .ke-right{float:right}.ke-dialog .ke-header label{margin-right:0;cursor:pointer;font-weight:400;display:inline;vertical-align:top}.ke-dialog-content{background-color:#fff;width:100%;height:100%;color:#333;border:1px solid #c9d8da}.ke-dialog-shadow{position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;box-shadow:0 0 42px -12px #5555554d;-moz-box-shadow:0px 0px 42px -12px rgb(85,85,85,.3);-webkit-box-shadow:0px 0px 42px -12px rgb(85,85,85,.3);filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius=\"3\",MakeShadow=\"true\",ShadowOpacity=\"0.3\");background-color:#f0f0ee}.ke-dialog-header{border:0;margin:0;padding:0 10px;background:#f8f8f8;border-bottom:1px solid #c9d8da;height:48px;font:14px/48px PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;text-align:left;color:#222;cursor:move}.ke-dialog-icon-close{display:block;width:48px;height:48px;line-height:48px;position:absolute;right:0;top:0;cursor:pointer;text-align:center;font-size:22px;color:#5c6e71}.ke-dialog-icon-close:before{font-family:icon-ke-font!important;font-size:inherit;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:\"\\e69b\"}.ke-dialog-body{font:12px/30px PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;text-align:left;overflow:hidden;width:100%}.ke-dialog-body textarea{display:block;overflow:auto;padding:0;resize:none}.ke-dialog-body textarea:focus,.ke-dialog-body input:focus,.ke-dialog-body select:focus{outline:none}.ke-dialog-body label{margin-right:10px;cursor:pointer;display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1}.ke-dialog-body img{display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1}.ke-dialog-body select{display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1;width:auto;height:30px;padding:#c9d8da;border-color:#c9d8da;color:#636363}.ke-dialog-body .ke-textarea{display:block;width:408px;height:260px;font-family:PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;font-size:12px;border-color:#c9d8da;border-style:solid;border-width:1px}.ke-dialog-body .ke-form{margin:0;padding:0}.ke-dialog-body .ke-multi-image{width:106px}.ke-dialog-loading{position:absolute;top:0;left:1px;z-index:1;text-align:center}@keyframes spinner-loader{0%{-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-webkit-transform:rotate(0deg);transform:rotate(0)}to{-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ke-dialog-loading-content{color:#666;font-size:14px;font-weight:700;height:30px;line-height:31px;padding-left:36px;position:relative}.ke-dialog-loading-content:after{content:\"\";-moz-animation:spinner-loader 1.5s infinite linear;-webkit-animation:spinner-loader 1.5s infinite linear;animation:spinner-loader 1.5s infinite linear;-moz-border-radius:.5em;border-radius:20px;-moz-box-shadow:rgba(0,0,51,.3) 1.5em 0 0 0,rgba(0,0,51,.3) 1.1em 1.1em 0 0,rgba(0,0,51,.3) 0 1.5em 0 0,rgba(0,0,51,.3) -1.1em 1.1em 0 0,rgba(0,0,51,.3) -1.5em 0 0 0,rgba(0,0,51,.3) -1.1em -1.1em 0 0,rgba(0,0,51,.3) 0 -1.5em 0 0,rgba(0,0,51,.3) 1.1em -1.1em 0 0;-webkit-box-shadow:rgba(0,0,51,.3) 1.5em 0 0 0,rgba(0,0,51,.3) 1.1em 1.1em 0 0,rgba(0,0,51,.3) 0 1.5em 0 0,rgba(0,0,51,.3) -1.1em 1.1em 0 0,rgba(0,0,51,.3) -1.5em 0 0 0,rgba(0,0,51,.3) -1.1em -1.1em 0 0,rgba(0,0,51,.3) 0 -1.5em 0 0,rgba(0,0,51,.3) 1.1em -1.1em 0 0;box-shadow:#0000334d 1.5em 0,#0000334d 1.1em 1.1em,#0000334d 0 1.5em,#0000334d -1.1em 1.1em,#0000334d -1.5em 0,#0000334d -1.1em -1.1em,#0000334d 0 -1.5em,#0000334d 1.1em -1.1em;display:inline-block;width:6px;height:6px;overflow:hidden;position:absolute;left:12px;top:12px;font-size:6px}.ke-dialog-row{margin-bottom:10px}.ke-dialog-footer{font:12px/30px PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;text-align:right;padding:10px 20px;background-color:#fff;width:100%}.ke-dialog-footer .ke-button-common.ke-dialog-no:last-child{margin-right:0}.ke-dialog-preview,.ke-dialog-yes{margin:5px}.ke-dialog-no{margin:5px 10px 5px 5px}.ke-dialog-mask{background-color:#fff;filter:alpha(opacity=50);opacity:.5}.ke-button-common{height:30px;line-height:30px;overflow:visible;display:inline-block;vertical-align:top;cursor:pointer;background-color:#2196f3;border-color:#2565c4;box-shadow:0 1px 9pt 1px #0000001f}.ke-button-outer{padding:0;display:inline-block;vertical-align:middle}.ke-button{padding:0 24px 0 20px;margin:0;border:0 none;color:#fff;text-decoration:none}.ke-input-text{background-color:#fff;font-family:PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;font-size:12px;line-height:17px;height:17px;padding:2px 4px;border-color:#c9d8da;border-style:solid;border-width:1px;display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1}.ke-input-number{width:50px}.ke-input-color{border:1px solid #A0A0A0;background-color:#fff;font-size:12px;width:80px;height:30px;text-align:center;line-height:30px;overflow:hidden;cursor:pointer;display:-moz-inline-stack;display:inline-block;vertical-align:middle;zoom:1}.ke-upload-button{position:relative}.ke-upload-area{position:relative;overflow:hidden;margin:0;padding:0}.ke-upload-area .ke-upload-file{position:absolute;font-size:18px;top:0;left:-200px;padding:0;margin:0;z-index:811212;border:0 none;opacity:0;filter:alpha(opacity=0);cursor:pointer}.ke-tabs{font:12px/1 PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;border-bottom:1px solid #c9d8da;padding-left:5px;margin-bottom:20px}.ke-tabs-ul{list-style-image:none;list-style-position:outside;list-style-type:none;margin:0;padding:0}.ke-tabs-li{position:relative;border:1px solid #c9d8da;background-color:#f6f6f6;margin:0 6px -1px 0;padding:0 20px;float:left;line-height:32px;text-align:center;color:#555;cursor:pointer}.ke-tabs-li-selected{background-color:#fff;border-bottom:1px solid #FFF;color:#000;cursor:default}.ke-tabs-li-on{background-color:#fff;color:#000}.ke-progressbar{position:relative;margin:0;padding:0}.ke-progressbar-bar{border:1px solid #6FA5DB;width:80px;height:5px;margin:10px 10px 0;padding:0}.ke-progressbar-bar-inner{width:0;height:5px;background-color:#6fa5db;overflow:hidden;margin:0;padding:0}.ke-progressbar-percent{position:absolute;top:0;left:40%;display:none}.ke-swfupload-top{position:relative;margin-bottom:16px;_width:608px}.ke-swfupload-button{height:30px;line-height:30px}.webuploader-container input[type=file]{opacity:0;cursor:pointer;width:500px;height:100px;margin-left:-200px}.webuploader-element-invisible{opacity:0;position:relative;z-index:3}.webuploader-container{background-color:#2196f3;border-color:#2565c4;box-shadow:0 1px 9pt 1px #0000001f}.webuploader-pick{position:relative;display:inline-block;cursor:pointer;width:100%;height:100%;box-sizing:border-box;border-radius:1px;overflow:visible;zoom:1}.webuploader-pick:after{content:\"\\9009\\62e9\\56fe\\7247\";position:absolute;top:0;left:0;width:100%;height:100%;text-align:center;background-color:#2196f3;border-color:#2565c4;z-index:1;margin:0;padding:0;color:#fff;cursor:pointer;font-size:14px}.ke-swfupload-desc{padding:0 10px;height:23px;line-height:23px;font-size:14px}.ke-swfupload-startupload{position:absolute;top:0;right:0}.ke-swfupload-body{overflow-y:scroll;background-color:#fff;border-color:#848484 #E0E0E0 #E0E0E0 #848484;border-style:solid;border-width:1px;width:auto;height:330px;padding:5px}.ke-swfupload-body .ke-item{width:110px;margin:4px}.ke-swfupload-body .ke-photo{position:relative;background-color:#2196f3;padding:2px}.ke-swfupload-body .ke-delete{display:block;width:20px;height:20px;line-height:20px;text-align:center;position:absolute;right:0;top:0;cursor:pointer;z-index:1;background:rgba(255,255,255,.42);font-size:14px;font-weight:700}.ke-swfupload-body .ke-delete:after{font-family:icon-ke-font!important;font-size:inherit;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:\"\\e69b\"}.ke-swfupload-body .ke-status{position:absolute;left:0;bottom:0;width:110px;height:22px;line-height:18px}.ke-swfupload-body .ke-message{width:100%;text-align:center;overflow:hidden;height:22px;background:rgba(0,0,0,.5);color:#fff}.ke-swfupload-body .ke-error{color:red}.ke-swfupload-body .ke-name{width:100px;text-align:center;overflow:hidden;height:16px;line-height:16px}.ke-swfupload-body .ke-on{background-color:#e3eefa}.ke-swfupload .ke-progressbar{position:absolute;margin:0;padding:0;bottom:0;left:0;width:100%;height:100%;background:rgba(0,179,14,.28);text-shadow:1px 1px 4px #000000}.ke-swfupload .ke-progressbar-bar{height:4px;padding:0;width:100%;margin:0;background:#565656;border:none;position:absolute;bottom:0}.ke-swfupload .ke-progressbar-bar-inner{width:0%;height:4px;background-color:#32ce62;overflow:hidden;margin:0;padding:0}.ke-swfupload .ke-progressbar-percent{position:absolute;bottom:3px;left:0;font-weight:700;color:#7f0;display:block;width:100%;text-align:center}.ke-swfupload-body{border:3px dashed #CCC}.ke-swfupload-body:after{content:\"\\53ef\\62d6\\62fd\\6587\\4ef6\\81f3\\6b64\\5904\\4e0a\\4f20\";position:absolute;top:50%;left:0;width:100%;height:30px;font-size:24px;color:#e2e2e2;text-align:center;margin-top:-15px}.ke-swfupload-body.drag-hover{border:3px dashed #000}.ke-swfupload-body .ke-item{position:relative;z-index:1;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;-khtml-user-select:none;user-select:none}.ke-swfupload .ke-progressbar.error{background:rgba(255,178,178,.5)}.ke-swfupload .ke-progressbar.error .ke-progressbar-bar-inner{background:#ff1010}.ke-swfupload .ke-progressbar.error .ke-progressbar-percent{color:#ff1010}.ke-swfupload{position:relative}.ke-swfupload .upload-error-result{position:absolute;bottom:0;left:0;width:100%;height:30px;box-sizing:border-box;padding:0 50px;background:#ff000096;display:none;text-align:center;line-height:30px;color:#fff;z-index:2}.ke-swfupload .upload-error-result.show{display:block}.ke-status.upload-error{width:100%;height:100%}.ke-status.upload-error .ke-message{width:100%;height:100%;vertical-align:middle;display:flex;justify-content:space-around;align-items:center;z-index:0;background:rgba(132,0,0,.52);color:#fff;padding:0 5px;text-shadow:1px 1px #b50000}.ke-plugin-plainpaste-textarea,.ke-plugin-wordpaste-iframe{display:block;width:408px;height:260px;font-family:PingFang,\\82f9\\65b9,Microsoft Yahei,\"sans serif\",tahoma,verdana,helvetica;font-size:12px;border-color:#848484 #E0E0E0 #E0E0E0 #848484;border-style:solid;border-width:1px}.ke-plugin-filemanager-header{width:100%;margin-bottom:10px}.ke-plugin-filemanager-header .ke-left{float:left}.ke-plugin-filemanager-header .ke-right{float:right}.ke-plugin-filemanager-body{overflow:scroll;background-color:#fff;border-color:#848484 #E0E0E0 #E0E0E0 #848484;border-style:solid;border-width:1px;width:auto;height:370px;padding:5px}.ke-plugin-filemanager-body .ke-item{width:100px;margin:5px}.ke-plugin-filemanager-body .ke-photo{border:1px solid #DDDDDD;background-color:#fff;padding:10px}.ke-plugin-filemanager-body .ke-name{width:100px;text-align:center;overflow:hidden;height:16px}.ke-plugin-filemanager-body .ke-on{border:1px solid #5690D2;background-color:#e9eff6}.ke-plugin-filemanager-body .ke-table{width:95%;border:0;margin:0;padding:0;border-collapse:separate}.ke-plugin-filemanager-body .ke-table .ke-cell{margin:0;padding:0;border:0}.ke-plugin-filemanager-body .ke-table .ke-name{width:55%;text-align:left}.ke-plugin-filemanager-body .ke-table .ke-size{width:15%;text-align:left}.ke-plugin-filemanager-body .ke-table .ke-datetime{width:30%;text-align:center}.ke-plugin-emoji,.ke-plugin-symbol{padding:0 3px;position:relative}.ke-plugin-emoji .ke-ul{list-style:none;padding:0;margin:0}.ke-plugin-emoji .ke-ul .ke-li{display:block;white-space:nowrap}.ke-plugin-emoji .ke-li .ke-emoji{font-size:24px;padding:3px;cursor:pointer;border:1px solid transparent;width:24px;height:24px;display:inline-flex;flex-flow:row;align-items:center;justify-content:center;line-height:0;box-sizing:content-box!important}.ke-plugin-emoji .ke-li .ke-emoji:hover{background-color:#e7edf3;cursor:pointer;border:1px solid #bed6ed}.ke-plugin-emoji .ke-page{padding:7px 5px 5px;text-align:center}.ke-plugin-emoji .ke-page .ke-page-item{margin:0 5px}.ke-plugin-symbol .ke-ul{list-style:none;margin:0;min-height:400px;padding:0 0 0 92px}.ke-plugin-symbol .ke-ul .ke-li{display:block;white-space:nowrap}.ke-plugin-symbol .ke-li .ke-symbol{font-size:16px;padding:3px;cursor:pointer;border:1px solid transparent;width:24px;height:24px;display:inline-flex;flex-flow:row;align-items:center;justify-content:center;line-height:0;box-sizing:content-box!important}.ke-plugin-symbol .ke-li .ke-symbol:hover{background-color:#e7edf3;cursor:pointer;border:1px solid #bed6ed}.ke-plugin-symbol .ke-page{position:absolute;left:0;top:0;width:90px;height:100%;border-right:1px solid #e7edf3}.ke-plugin-symbol .ke-page .ke-page-item{display:block;line-height:36px;background:#e9eff6;text-align:center;width:82px;margin:1px 4px 3px;font-weight:700}.ke-plugin-symbol .ke-page .ke-page-item a{color:#208eed!important;display:block;font-weight:500}.ke-plugin-symbol .ke-page .ke-page-item.ke-page-active{background-color:#e9eff6}.ke-plugin-symbol .ke-page .ke-page-item.ke-page-active{color:#000}.ke-plugin-symbol .ke-page .ke-page-item:hover{background-color:#e9eff6}.ke-plugin-symbol .ke-page .ke-page-item:last-child{border-bottom:none}.ke-dialog-body .ke-input-text{height:30px;min-height:30px;min-width:80px;line-height:30px}.ke-dialog-body input[type=checkbox]{width:22px;height:22px;vertical-align:middle;margin-left:0}.ke-dialog-body .ke-upload-button.ke-inline-block,.ke-dialog-body .ke-file-viewer.ke-button-outer{margin-left:5px}.ke-container{border:1px solid #c9d8db}.ke-toolbar{border-bottom:1px solid #c9d8da;background-color:#fff}.ke-toolbar .ke-outline{border-color:transparent;padding:0}.ke-toolbar .ke-outline.ke-on{background-color:#eaeff5}.ke-toolbar .ke-toolbar-icon{width:38px}.ke-code{border:3px solid transparent}.ke-code:hover{border:3px solid #4696ecc1}")); document.head.appendChild(elementStyle);} catch(e) {console.error('vite-plugin-css-injected-by-js', e);} })();(function(he,Ke){typeof exports=="object"&&typeof module<"u"?module.exports=Ke(require("vue")):typeof define=="function"&&define.amd?define(["vue"],Ke):(he=typeof globalThis<"u"?globalThis:he||self,he.VKindEditor=Ke(he.Vue))})(this,function(he){"use strict";var Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kn={exports:{}};(function(Qe,gt){(function(ee,ie){Qe.exports=ie()})(Ke,function(){function ee(e){return e?Object.prototype.toString.call(e)==="[object Array]":!1}function ie(e){return e?Object.prototype.toString.call(e)==="[object Function]":!1}function me(e,t){for(var n=0,o=t.length;o>n;n++)if(e===t[n])return n;return-1}function z(e,t){if(ee(e))for(var n=0,o=e.length;o>n&&t.call(e[n],n,e[n])!==!1;n++);else for(var i in e)if(e.hasOwnProperty(i)&&t.call(e[i],i,e[i])===!1)break}function te(e){return e.replace(/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")}function Ye(e,t,n){return n=n===void 0?",":n,(n+t+n).indexOf(n+e+n)>=0}function J(e,t){return t=t||"px",e&&/^-?\d+(?:\.\d+)?$/.test(e)?e+t:e}function Z(e){var t;return e&&(t=/(\d+)/.exec(e))?parseInt(t[1],10):0}function se(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Ze(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")}function Xe(e){var t=e.split("-");return e="",z(t,function(n,o){e+=n>0?o.charAt(0).toUpperCase()+o.substr(1):o}),e}function vt(e){function t(n){var o=parseInt(n,10).toString(16).toUpperCase();return o.length>1?o:"0"+o}return e.replace(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/gi,function(n,o,i,s){return"#"+t(o)+t(i)+t(s)})}function re(e,t){t=t===void 0?",":t;var n,o={},i=ee(e)?e:e.split(t);return z(i,function(s,c){if(n=/^(\d+)\.\.(\d+)$/.exec(c))for(var a=parseInt(n[1],10);a<=parseInt(n[2],10);a++)o[a.toString()]=!0;else o[c]=!0}),o}function At(e,t){return Array.prototype.slice.call(e,t||0)}function V(e,t){return e===void 0?t:e}function Yn(e){return!e||/[<>"]/.test(e)}function Zn(e,t){return e.indexOf("?")>=0?e+"&"+t:e+"?"+t}function ge(e,t,n){n||(n=t,t=null);var o;if(t){var i=function(){};i.prototype=t.prototype,o=new i,z(n,function(s,c){o[s]=c})}else o=n;o.constructor=e,e.prototype=o,e.parent=t?t.prototype:null}function nn(e){var t;(t=/\{[\s\S]*\}|\[[\s\S]*\]/.exec(e))&&(e=t[0]);var n=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(n.lastIndex=0,n.test(e)&&(e=e.replace(n,function(o){return"\\u"+("0000"+o.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return window.eval("("+e+")");throw"JSON parse error"}function Xn(){for(var e,t=document.getElementsByTagName("script"),n=0,o=t.length;o>n;n++)if(e=t[n].src||"",/kindeditor[\w\-\.]*\.js/.test(e))return e.substring(0,e.lastIndexOf("/")+1);return""}function Jn(e,t,n){e.addEventListener?e.addEventListener(t,n,zn):e.attachEvent&&e.attachEvent("on"+t,n)}function yt(e,t,n){e.removeEventListener?e.removeEventListener(t,n,zn):e.detachEvent&&e.detachEvent("on"+t,n)}function rn(e,t){this.init(e,t)}function Rt(e){return e[Dt]||null}function ei(e){return e[Dt]=++jn,jn}function on(e){try{delete e[Dt]}catch{e.removeAttribute&&e.removeAttribute(Dt)}}function Pe(e,t,n){if(t.indexOf(",")>=0)return void z(t.split(","),function(){Pe(e,this,n)});var o=Rt(e);o||(o=ei(e)),oe[o]===void 0&&(oe[o]={});var i=oe[o][t];i&&i.length>0?yt(e,t,i[0]):(oe[o][t]=[],oe[o].el=e),i=oe[o][t],i.length===0&&(i[0]=function(s){var c=s?new rn(e,s):void 0;z(i,function(a,r){a>0&&r&&r.call(e,c)})}),me(n,i)<0&&i.push(n),Jn(e,t,i[0])}function Je(e,t,n){if(t&&t.indexOf(",")>=0)return void z(t.split(","),function(){Je(e,this,n)});var o=Rt(e);if(o){if(t===void 0)return void(o in oe&&(z(oe[o],function(c,a){c!="el"&&a.length>0&&yt(e,c,a[0])}),delete oe[o],on(e)));if(oe[o]){var i=oe[o][t];if(i&&i.length>0){n===void 0?(yt(e,t,i[0]),delete oe[o][t]):(z(i,function(c,a){c>0&&a===n&&i.splice(c,1)}),i.length==1&&(yt(e,t,i[0]),delete oe[o][t]));var s=0;z(oe[o],function(){s++}),2>s&&(delete oe[o],on(e))}}}}function ln(e,t){if(t.indexOf(",")>=0)return void z(t.split(","),function(){ln(e,this)});var n=Rt(e);if(n){var o=oe[n][t];oe[n]&&o&&o.length>0&&o[0]()}}function Lt(e,t,n){t=/^\d{2,}$/.test(t)?t:t.toUpperCase().charCodeAt(0),Pe(e,"keydown",function(o){!o.ctrlKey||o.which!=t||o.shiftKey||o.altKey||(n.call(e),o.stop())})}function ti(e){function t(){i||(i=!0,e(KindEditor),Hn=!0)}function n(){if(!i){try{document.documentElement.doScroll("left")}catch{return void setTimeout(n,100)}t()}}function o(){document.readyState==="complete"&&t()}if(Hn)return void e(KindEditor);var i=!1;if(document.addEventListener)Pe(document,"DOMContentLoaded",t);else if(document.attachEvent){Pe(document,"readystatechange",o);var s=!1;try{s=window.frameElement==null}catch{}document.documentElement.doScroll&&s&&n()}Pe(window,"load",t)}function je(e){e=e.replace(/&quot;/g,'"');for(var t,n={},o=/\s*([\w\-]+)\s*:([^;]*)(;|$)/g;t=o.exec(e);){var i=te(t[1].toLowerCase()),s=te(vt(t[2]));n[i]=s}return n}function xe(e){for(var t,n={},o=/\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g;t=o.exec(e);){var i=(t[1]||t[2]||t[4]||t[6]).toLowerCase(),s=(t[2]?t[3]:t[4]?t[5]:t[7])||"";n[i]=s}return n}function ni(e,t){return e=/\s+class\s*=/.test(e)?e.replace(/(\s+class=["']?)([^"']*)(["']?[\s>])/,function(n,o,i,s){return(" "+i+" ").indexOf(" "+t+" ")<0?i===""?o+t+s:o+i+" "+t+s:n}):e.substr(0,e.length-1)+' class="'+t+'">'}function ii(e){var t="";return z(je(e),function(n,o){t+=n+":"+o+";"}),t}function et(e,t,n,o){function i(r){for(var d=r.split("/"),u=[],l=0,f=d.length;f>l;l++){var p=d[l];p==".."?u.length>0&&u.pop():p!==""&&p!="."&&u.push(p)}return"/"+u.join("/")}function s(r,d){if(e.substr(0,r.length)===r){for(var u=[],l=0;d>l;l++)u.push("..");var f=".";return u.length>0&&(f+="/"+u.join("/")),o=="/"&&(f+="/"),f+e.substr(r.length)}return(a=/^(.*)\//.exec(r))?s(a[1],++d):void 0}if(t=V(t,"").toLowerCase(),e.substr(0,5)!="data:"&&(e=e.replace(/([^:])\/\//g,"$1/")),me(t,["absolute","relative","domain"])<0)return e;if(n=n||location.protocol+"//"+location.host,o===void 0){var c=location.pathname.match(/^(\/.*)\//);o=c?c[1]:""}var a;if(a=/^(\w+:\/\/[^\/]*)/.exec(e)){if(a[1]!==n)return e}else if(/^\w+:/.test(e))return e;return/^\//.test(e)?e=n+i(e.substr(1)):/^\w+:\/\//.test(e)||(e=n+i(o+"/"+e)),t==="relative"?e=s(n+o,0).substr(2):t==="absolute"&&e.substr(0,n.length)===n&&(e=e.substr(n.length)),e}function Le(e,t,n,o,i){e==null&&(e=""),n=n||"",o=V(o,!1),i=V(i,"	");var s="xx-small,x-small,small,medium,large,x-large,xx-large".split(",");e=e.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi,function(d,u,l,f){return u+l.replace(/<(?:br|br\s[^>]*)>/gi,`
`)+f}),e=e.replace(/<(?:br|br\s[^>]*)\s*\/?>\s*<\/p>/gi,"</p>"),e=e.replace(/(<(?:p|p\s[^>]*)>)\s*(<\/p>)/gi,"$1<br />$2"),e=e.replace(/\u200B/g,""),e=e.replace(/\u00A9/g,"&copy;"),e=e.replace(/\u00AE/g,"&reg;"),e=e.replace(/\u2003/g,"&emsp;"),e=e.replace(/\u3000/g,"&emsp;"),e=e.replace(/<[^>]+/g,function(d){return d.replace(/\s+/g," ")});var c={};t&&(z(t,function(d,u){for(var l=d.split(","),f=0,p=l.length;p>f;f++)c[l[f]]=re(u)}),c.script||(e=e.replace(/(<(?:script|script\s[^>]*)>)([\s\S]*?)(<\/script>)/gi,"")),c.style||(e=e.replace(/(<(?:style|style\s[^>]*)>)([\s\S]*?)(<\/style>)/gi,"")));var a=/(\s*)<(\/)?([\w\-:]+)((?:\s+|(?:\s+[\w\-:]+)|(?:\s+[\w\-:]+=[^\s"'<>]+)|(?:\s+[\w\-:"]+="[^"]*")|(?:\s+[\w\-:"]+='[^']*'))*)(\/)?>(\s*)/g,r=[];return e=e.replace(a,function(d,u,l,f,p,m,g){var y=d,w=u||"",b=l||"",T=f.toLowerCase(),M=p||"",N=m?" "+m:"",A=g||"";if(t&&!c[T])return"";if(N===""&&On[T]&&(N=" /"),Fn[T]&&(w&&(w=" "),A&&(A=" ")),Xt[T]&&(b?A=`
`:w=`
`),o&&T=="br"&&(A=`
`),Bn[T]&&!Xt[T])if(o){b&&r.length>0&&r[r.length-1]===T?r.pop():r.push(T),w=`
`,A=`
`;for(var P=0,B=b?r.length:r.length-1;B>P;P++)w+=i,b||(A+=i);N?r.pop():b||(A+=i)}else w=A="";if(M!==""){var E=xe(y);if(T==="font"){var _={},x="";z(E,function(C,D){C==="color"&&(_.color=D,delete E[C]),C==="size"&&(_["font-size"]=s[parseInt(D,10)-1]||"",delete E[C]),C==="face"&&(_["font-family"]=D,delete E[C]),C==="style"&&(x=D)}),x&&!/;$/.test(x)&&(x+=";"),z(_,function(C,D){D!==""&&(/\s/.test(D)&&(D="'"+D+"'"),x+=C+":"+D+";")}),E.style=x}z(E,function(C,D){if(Mi[C]&&(E[C]=C),me(C,["src","href"])>=0&&(E[C]=et(D,n)),(t&&C!=="style"&&!c[T]["*"]&&!c[T][C]||T==="body"&&C==="contenteditable"||/^kindeditor_\d+$/.test(C))&&delete E[C],C==="style"&&D!==""){var I=je(D);z(I,function(R,O){!t||c[T].style||c[T]["."+R]||delete I[R]});var L="";z(I,function(R,O){L+=R+":"+O+";"}),E.style=L}}),M="",z(E,function(C,D){(C!=="style"||D!=="")&&(D=D.replace(/"/g,"&quot;"),M+=" "+C+'="'+D+'"')})}return T==="font"&&(T="span"),w+"<"+b+T+M+N+">"+A}),e=e.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi,function(d,u,l,f){return u+l.replace(/\n/g,`<span id="__kindeditor_pre_newline__">
`)+f}),e=e.replace(/\n\s*\n/g,`
`),e=e.replace(/<span id="__kindeditor_pre_newline__">\n/g,`
`),te(e)}function an(e,t){return e=e.replace(/<meta[\s\S]*?>/gi,"").replace(/<![\s\S]*?>/gi,"").replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<w:[^>]+>[\s\S]*?<\/w:[^>]+>/gi,"").replace(/<o:[^>]+>[\s\S]*?<\/o:[^>]+>/gi,"").replace(/<xml>[\s\S]*?<\/xml>/gi,"").replace(/<(?:table|td)[^>]*>/gi,function(n){return n.replace(/border-bottom:([#\w\s]+)/gi,"border:$1")}),Le(e,t)}function sn(e){return/\.(rm|rmvb)(\?|$)/i.test(e)?"audio/x-pn-realaudio-plugin":/\.(swf|flv)(\?|$)/i.test(e)?"application/x-shockwave-flash":"video/x-ms-asf-plugin"}function ri(e){return/realaudio/i.test(e)?"ke-rm":/flash/i.test(e)?"ke-flash":"ke-media"}function cn(e){return xe(unescape(e))}function Ft(e){var t="<embed ";return z(e,function(n,o){t+=n+'="'+o+'" '}),t+="/>"}function un(e,t){var n=t.width,o=t.height,i=t.type||sn(t.src),s=Ft(t),c="";/\D/.test(n)?c+="width:"+n+";":n>0&&(c+="width:"+n+"px;"),/\D/.test(o)?c+="height:"+o+";":o>0&&(c+="height:"+o+"px;");var a='<img class="'+ri(i)+'" src="'+e+'" ';return c!==""&&(a+='style="'+c+'" '),a+='data-ke-tag="'+escape(s)+'" alt="" />'}function oi(e,t){var n=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return t?n(t):n}function kt(e,t){if(e.nodeType==9&&t.nodeType!=9)return!0;for(;t=t.parentNode;)if(t==e)return!0;return!1}function bt(e,t){t=t.toLowerCase();var n=null;if(Ri||e.nodeName.toLowerCase()=="script")try{n=e.getAttribute(t,2)}catch{n=e.getAttribute(t,1)}else{var o=e.ownerDocument.createElement("div");o.appendChild(e.cloneNode(!1));var i=xe(Ze(o.innerHTML));t in i&&(n=i[t])}return t==="style"&&n!==null&&(n=ii(n)),n}function wt(e,t){function n(C){return typeof C!="string"?C:C.replace(/([^\w\-])/g,"\\$1")}function o(C){return C.replace(/\\/g,"")}function i(C,D){return C==="*"||C.toLowerCase()===n(D.toLowerCase())}function s(C,D,I){var L=[],R=I.ownerDocument||I,O=R.getElementById(o(C));return O&&i(D,O.nodeName)&&kt(I,O)&&L.push(O),L}function c(C,D,I){var L,R,O,U,H=I.ownerDocument||I,j=[];if(I.getElementsByClassName)for(L=I.getElementsByClassName(o(C)),R=0,O=L.length;O>R;R++)U=L[R],i(D,U.nodeName)&&j.push(U);else if(H.querySelectorAll)for(L=H.querySelectorAll((I.nodeName!=="#document"?I.nodeName+" ":"")+D+"."+C),R=0,O=L.length;O>R;R++)U=L[R],kt(I,U)&&j.push(U);else for(L=I.getElementsByTagName(D),C=" "+C+" ",R=0,O=L.length;O>R;R++)if(U=L[R],U.nodeType==1){var W=U.className;W&&(" "+W+" ").indexOf(C)>-1&&j.push(U)}return j}function a(C,D,I){for(var L,R=[],O=I.ownerDocument||I,U=O.getElementsByName(o(C)),H=0,j=U.length;j>H;H++)L=U[H],i(D,L.nodeName)&&kt(I,L)&&L.getAttribute("name")!==null&&R.push(L);return R}function r(C,D,I,L){for(var R,O=[],U=L.getElementsByTagName(I),H=0,j=U.length;j>H;H++)R=U[H],R.nodeType==1&&(D===null?bt(R,C)!==null&&O.push(R):D===n(bt(R,C))&&O.push(R));return O}function d(C,D){var I,L=[];I=/^((?:\\.|[^.#\s\[<>])+)/.exec(C);var R=I?I[1]:"*";if(I=/#((?:[\w\-]|\\.)+)$/.exec(C))L=s(I[1],R,D);else if(I=/\.((?:[\w\-]|\\.)+)$/.exec(C))L=c(I[1],R,D);else if(I=/\[((?:[\w\-]|\\.)+)\]/.exec(C))L=r(I[1].toLowerCase(),null,R,D);else if(I=/\[((?:[\w\-]|\\.)+)\s*=\s*['"]?((?:\\.|[^'"]+)+)['"]?\]/.exec(C)){var O=I[1].toLowerCase(),U=I[2];L=O==="id"?s(U,R,D):O==="class"?c(U,R,D):O==="name"?a(U,R,D):r(O,U,R,D)}else for(var H,j=D.getElementsByTagName(R),W=0,le=j.length;le>W;W++)H=j[W],H.nodeType==1&&L.push(H);return L}var u=e.split(",");if(u.length>1){var l=[];return z(u,function(){z(wt(this,t),function(){me(this,l)<0&&l.push(this)})}),l}t=t||document;for(var f,p=[],m=/((?:\\.|[^\s>])+|[\s>])/g;f=m.exec(e);)f[1]!==" "&&p.push(f[1]);var g=[];if(p.length==1)return d(p[0],t);var y,w,b,T,M,N,A,P,B,E,_,x=!1;for(N=0,B=p.length;B>N;N++)if(y=p[N],y!==">"){if(N>0){for(w=[],A=0,E=g.length;E>A;A++)for(T=g[A],b=d(y,T),P=0,_=b.length;_>P;P++)M=b[P],x?T===M.parentNode&&w.push(M):w.push(M);g=w}else g=d(y,t);if(g.length===0)return[]}else x=!0;return g}function li(e,t){var n=wt(e,t);return n.length>0?n[0]:null}function Te(e){return v(e)[0]}function Fe(e){return e?e.ownerDocument||e.document||e:document}function Be(e){if(!e)return window;var t=Fe(e);return t.parentWindow||t.defaultView}function ai(e,t){if(e.nodeType==1){var n=Fe(e);try{e.innerHTML='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+t;var o=n.getElementById("__kindeditor_temp_tag__");o.parentNode.removeChild(o)}catch{v(e).empty(),v("@"+t,n).each(function(){e.appendChild(this)})}}}function Bt(e,t){return Ye(t,e.className," ")}function Ot(e,t,n){Y&&8>ce&&t.toLowerCase()=="class"&&(t="className"),e.setAttribute(t,""+n)}function si(e,t){Y&&8>ce&&t.toLowerCase()=="class"&&(t="className"),Ot(e,t,""),e.removeAttribute(t)}function dn(e){return e&&e.nodeName?e.nodeName.toLowerCase():""}function ci(e,t){var n=Be(e),o=Xe(t),i="";if(n.getComputedStyle){var s=n.getComputedStyle(e,null);i=s[o]||s.getPropertyValue(t)||e.style[o]}else e.currentStyle&&(i=e.currentStyle[o]||e.style[o]);return i}function fn(e){return!!Ni[dn(e)]}function ke(e){return e=e||document,Ie?e.body:e.documentElement}function He(e){e=e||document;var t,n;return Y||_i||Zt?(t=ke(e).scrollLeft,n=ke(e).scrollTop):(t=Be(e).scrollX,n=Be(e).scrollY),{x:t,y:n}}function de(e){this.init(e)}function pn(e){return e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e}function Ut(e,t,n){function o(T,M,N){var A,P=T.nodeValue.length;if(t){var B=T.cloneNode(!0);A=M>0?B.splitText(M):B,P>N&&A.splitText(N-M)}if(n){var E=T;if(M>0&&(E=T.splitText(M),e.setStart(T,M)),P>N){var _=E.splitText(N-M);e.setEnd(_,0)}a.push(E)}return A}function i(){n&&e.up().collapse(!0);for(var T=0,M=a.length;M>T;T++){var N=a[T];N.parentNode&&N.parentNode.removeChild(N)}}function s(T,M){for(var N,A=T.firstChild;A;){var P=new _e(c).selectNode(A);if(d=P.compareBoundaryPoints(dt,e),d>=0&&0>=u&&(u=P.compareBoundaryPoints(ut,e)),u>=0&&0>=l&&(l=P.compareBoundaryPoints(We,e)),l>=0&&0>=f&&(f=P.compareBoundaryPoints(ft,e)),f>=0)return!1;if(N=A.nextSibling,d>0){if(A.nodeType==1)if(u>=0&&0>=l)t&&M.appendChild(A.cloneNode(!0)),n&&a.push(A);else{var B;if(t&&(B=A.cloneNode(!1),M.appendChild(B)),s(A,B)===!1)return!1}else if(A.nodeType==3){var E;if(E=A==r.startContainer?o(A,r.startOffset,A.nodeValue.length):A==r.endContainer?o(A,0,r.endOffset):o(A,0,A.nodeValue.length),t)try{M.appendChild(E)}catch{}}}A=N}}var c=e.doc,a=[],r=e.cloneRange().down(),d=-1,u=-1,l=-1,f=-1,p=e.commonAncestor(),m=c.createDocumentFragment();if(p.nodeType==3){var g=o(p,e.startOffset,e.endOffset);return t&&m.appendChild(g),i(),t?m:e}s(p,m),n&&e.up().collapse(!0);for(var y=0,w=a.length;w>y;y++){var b=a[y];b.parentNode&&b.parentNode.removeChild(b)}return t?m:e}function tt(e,t){for(var n=t;n;){var o=v(n);if(o.name=="marquee"||o.name=="select")return;n=n.parentNode}try{e.moveToElementText(t)}catch{}}function hn(e,t){var n=e.parentElement().ownerDocument,o=e.duplicate();o.collapse(t);var i=o.parentElement(),s=i.childNodes;if(s.length===0)return{node:i.parentNode,offset:v(i).index()};var c=n,a=0,r=-1,d=e.duplicate();tt(d,i);for(var u=0,l=s.length;l>u;u++){var f=s[u];if(r=d.compareEndPoints("StartToStart",o),r===0)return{node:f.parentNode,offset:u};if(f.nodeType==1){var p,m=e.duplicate(),g=v(f),y=f;g.isControl()&&(p=n.createElement("span"),g.after(p),y=p,a+=g.text().replace(/\r\n|\n|\r/g,"").length),tt(m,y),d.setEndPoint("StartToEnd",m),r>0?a+=m.text.replace(/\r\n|\n|\r/g,"").length:a=0,p&&v(p).remove()}else f.nodeType==3&&(d.moveStart("character",f.nodeValue.length),a+=f.nodeValue.length);0>r&&(c=f)}if(0>r&&c.nodeType==1)return{node:i,offset:v(i.lastChild).index()+1};if(r>0)for(;c.nextSibling&&c.nodeType==1;)c=c.nextSibling;if(d=e.duplicate(),tt(d,i),d.setEndPoint("StartToEnd",o),a-=d.text.replace(/\r\n|\n|\r/g,"").length,r>0&&c.nodeType==3)for(var w=c.previousSibling;w&&w.nodeType==3;)a-=w.nodeValue.length,w=w.previousSibling;return{node:c,offset:a}}function mn(e,t){var n=e.ownerDocument||e,o=n.body.createTextRange();if(n==e)return o.collapse(!0),o;if(e.nodeType==1&&e.childNodes.length>0){var i,s,c=e.childNodes;if(t===0?(s=c[0],i=!0):(s=c[t-1],i=!1),!s)return o;if(v(s).name==="head")return t===1&&(i=!0),t===2&&(i=!1),o.collapse(i),o;if(s.nodeType==1){var a,r=v(s);return r.isControl()&&(a=n.createElement("span"),i?r.before(a):r.after(a),s=a),tt(o,s),o.collapse(i),a&&v(a).remove(),o}e=s,t=i?0:s.nodeValue.length}var d=n.createElement("span");return v(e).before(d),tt(o,d),o.moveStart("character",t),v(d).remove(),o}function gn(e){function t(a){v(a.node).name=="tr"&&(a.node=a.node.cells[a.offset],a.offset=0)}var n,o;if(we){if(e.item)return n=Fe(e.item(0)),o=new _e(n),o.selectNode(e.item(0)),o;n=e.parentElement().ownerDocument;var i=hn(e,!0),s=hn(e,!1);return t(i),t(s),o=new _e(n),o.setStart(i.node,i.offset),o.setEnd(s.node,s.offset),o}var c=e.startContainer;return n=c.ownerDocument||c,o=new _e(n),o.setStart(c,e.startOffset),o.setEnd(e.endContainer,e.endOffset),o}function _e(e){this.init(e)}function zt(e){return e.nodeName?new _e(e):e.constructor===_e?e:gn(e)}function De(e,t,n){try{e.execCommand(t,!1,n)}catch{}}function vn(e,t){var n="";try{n=e.queryCommandValue(t)}catch{}return typeof n!="string"&&(n=""),n}function Pt(e){var t=Be(e);return we?e.selection:t.getSelection()}function ui(e){var t,n=Pt(e);try{t=n.rangeCount>0?n.getRangeAt(0):n.createRange()}catch{}return!we||t&&(t.item||t.parentElement().ownerDocument===e)?t:null}function yn(e){var t,n,o={};return z(e,function(i,s){t=i.split(",");for(var c=0,a=t.length;a>c;c++)n=t[c],o[n]=s}),o}function jt(e,t){return kn(e,t,"*")||kn(e,t)}function kn(e,t,n){if(n=n||e.name,e.type!==1)return!1;var o=yn(t);if(!o[n])return!1;for(var i=o[n].split(","),s=0,c=i.length;c>s;s++){var a=i[s];if(a==="*")return!0;var r=/^(\.?)([^=]+)(?:=([^=]*))?$/.exec(a),d=r[1]?"css":"attr";a=r[2];var u=r[3]||"";if(u===""&&e[d](a)!==""||u!==""&&e[d](a)===u)return!0}return!1}function Ht(e,t){e.type==1&&(bn(e,t,"*"),bn(e,t))}function bn(e,t,n){if(n=n||e.name,e.type===1){var o=yn(t);if(o[n]){for(var i=o[n].split(","),s=!1,c=0,a=i.length;a>c;c++){var r=i[c];if(r==="*"){s=!0;break}var d=/^(\.?)([^=]+)(?:=([^=]*))?$/.exec(r);r=d[2],d[1]?(r=Xe(r),e[0].style[r]&&(e[0].style[r]="")):e.removeAttr(r)}s&&e.remove(!0)}}}function qt(e){for(var t=e;t.first();)t=t.first();return t}function qe(e){return e.type!=1||e.isSingle()?!1:e.html().replace(/<[^>]+>/g,"")===""}function di(e,t){e=e.clone(!0);for(var n=qt(e),o=e,i=!1;t;){for(;o;)o.name===t.name&&(pi(o,t.attr(),t.css()),i=!0),o=o.first();i||n.append(t.clone(!1)),i=!1,t=t.first()}return e}function fi(e,t){if(t=t.clone(!0),e.type==3)return qt(t).append(e.clone(!1)),e.replaceWith(t),t;for(var n,o=e;(n=e.first())&&n.children().length==1;)e=n;n=e.first();for(var i=e.doc.createDocumentFragment();n;)i.appendChild(n[0]),n=n.next();return t=di(o,t),i.firstChild&&qt(t).append(i),o.replaceWith(t),t}function pi(e,t,n){z(t,function(o,i){o!=="style"&&e.attr(o,i)}),z(n,function(o,i){e.css(o,i)})}function hi(e){for(;e&&e.name!="body";){if(Xt[e.name]||e.name=="div"&&e.hasClass("ke-script"))return!0;e=e.parent()}return!1}function nt(e,t){this.init(e,t)}function wn(e,t){if(e.nodeName){var n=Fe(e);e=zt(n).selectNodeContents(n.body).collapse(!1)}return new nt(e,t)}function Wt(e){var t=e.moveEl,n=e.moveFn,o=e.clickEl||t,i=e.beforeDrag,s=e.iframeFix===void 0?!0:e.iframeFix,c=[document];s&&v("iframe").each(function(){var a=et(this.src||"","absolute");if(!/^https?:\/\//.test(a)){var r;try{r=Vt(this)}catch{}if(r){var d=v(this).pos();v(r).data("pos-x",d.x),v(r).data("pos-y",d.y),c.push(r)}}}),o.mousedown(function(a){function r(b){b.preventDefault();var T=v(Fe(b.target)),M=Ae((T.data("pos-x")||0)+b.pageX-y),N=Ae((T.data("pos-y")||0)+b.pageY-w);n.call(o,f,p,m,g,M,N)}function d(b){b.preventDefault()}function u(b){b.preventDefault(),v(c).unbind("mousemove",r).unbind("mouseup",u).unbind("selectstart",d),l.releaseCapture&&l.releaseCapture()}if(a.button===0||a.button===1){a.stopPropagation();var l=o.get(),f=Z(t.css("left")),p=Z(t.css("top")),m=t.width(),g=t.height(),y=a.pageX,w=a.pageY;i&&i(),v(c).mousemove(r).mouseup(u).bind("selectstart",d),l.setCapture&&l.setCapture()}})}function Me(e){this.init(e)}function $t(e){return new Me(e)}function Vt(e){return e=Te(e),e.contentDocument||e.contentWindow.document}function mi(e,t,n,o){var i=[en===""?"<html>":'<html dir="'+en+'">','<head><meta charset="utf-8" /><title></title>',"<style>","html,body {margin:0;padding:0;}",'body, td {font:12px/1.5 "PingFang","Microsoft Yahei","\u82F9\u65B9","\u5FAE\u8F6F\u96C5\u9ED1", "sans serif",tahoma,verdana,helvetica;}',"body, p, div {word-wrap: break-word;line-height:28px;}","table {border-collapse:collapse;}","noscript {display:none;}","table.ke-zeroborder td {border:1px dotted #AAA;}",".ke-content {padding: 15px;}",'img[data-ke-class="ke-image"] { max-width: 100%;border: 2px solid transparent; }','img[data-ke-class="ke-image"]:hover { border-color: #4696ec; }',"audio,video{ border:3px solid transparent; }","audio:hover, video:hover{ border:3px solid #2196f3; }","pre{ font-size: 14px;line-height: 20px;width: 100%;background-color: #f4f2f0;padding: 6px 18px;box-sizing: border-box; border: 3px solid transparent;}","pre:hover,pre:active{border: 3px solid #4696ec;}",".ke-script, .ke-noscript, .ke-display-none {","	display:none;","	font-size:0;","	width:0;","	height:0;","}",".ke-pagebreak {","	border:1px dotted #AAA;","	font-size:0;","	height:2px;","}","</style>"];return ee(n)||(n=[n]),z(n,function(s,c){c&&i.push('<link href="'+c+'" rel="stylesheet" />')}),o&&i.push("<style>"+o+"</style>"),i.push("</head><body "+(t?'class="'+t+'"':"")+' author="MHalo"></body></html>'),i.join(`
`)}function it(e,t){if(e.hasVal()){if(t===void 0){var n=e.val();return n=n.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi,"")}return e.val(t)}return e.html(t)}function rt(e){this.init(e)}function xn(e){return new rt(e)}function Cn(e,t){var n=this,o=n.get(e);if(o){if(o.hasClass("ke-disabled"))return;t(o)}}function xt(e){this.init(e)}function Tn(e){return new xt(e)}function ot(e){this.init(e)}function Kt(e){return new ot(e)}function lt(e){this.init(e)}function _n(e){return new lt(e)}function Gt(e){this.init(e)}function gi(e){return new Gt(e)}function vi(e){e=e||{};var t=e.name||"",n=v('<span class="ke-button-common ke-button-outer" title="'+t+'"></span>'),o=v('<input class="ke-button-common ke-button" type="button" value="'+t+'" />');return e.click&&o.click(e.click),n.append(o),n}function at(e){this.init(e)}function Sn(e){return new at(e)}function yi(e){var t=$t(e),n=t.remove,o=e.afterSelect,i=t.div,s=[];i.addClass("ke-tabs").bind("contextmenu,mousedown,mousemove",function(a){a.preventDefault()});var c=v('<ul class="ke-tabs-ul ke-clearfix"></ul>');return i.append(c),t.add=function(a){var r=v('<li class="ke-tabs-li">'+a.title+"</li>");r.data("tab",a),s.push(r),c.append(r)},t.selectedIndex=0,t.select=function(a){t.selectedIndex=a,z(s,function(r,d){d.unbind(),r===a?(d.addClass("ke-tabs-li-selected"),v(d.data("tab").panel).show("")):(d.removeClass("ke-tabs-li-selected").removeClass("ke-tabs-li-on").mouseover(function(){v(this).addClass("ke-tabs-li-on")}).mouseout(function(){v(this).removeClass("ke-tabs-li-on")}).click(function(){t.select(r)}),v(d.data("tab").panel).hide())}),o&&o.call(t,a)},t.remove=function(){z(s,function(){this.remove()}),c.remove(),n.call(t)},t}function Qt(e,t){var n=document.getElementsByTagName("head")[0]||(Ie?document.body:document.documentElement),o=document.createElement("script");n.appendChild(o),o.src=e,o.charset="utf-8",o.onload=o.onreadystatechange=function(){this.readyState&&this.readyState!=="loaded"||(t&&t(),o.onload=o.onreadystatechange=null,n.removeChild(o))}}function En(e){var t=e.indexOf("?");return t>0?e.substr(0,t):e}function Yt(e){for(var t=document.getElementsByTagName("head")[0]||(Ie?document.body:document.documentElement),n=document.createElement("link"),o=En(et(e,"absolute")),i=v('link[rel="stylesheet"]',t),s=0,c=i.length;c>s;s++)if(En(et(i[s].href,"absolute"))===o)return;t.appendChild(n),n.href=e,n.rel="stylesheet"}function ki(e,t,n,o,i){n=n||"GET",i=i||"json";var s=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(s.open(n,e,!0),s.onreadystatechange=function(){if(s.readyState==4&&s.status==200&&t){var a=te(s.responseText);i=="json"&&(a=nn(a)),t(a)}},n=="POST"){var c=[];z(o,function(a,r){c.push(encodeURIComponent(a)+"="+encodeURIComponent(r))});try{s.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}catch{}s.send(c.join("&"))}else s.send(null)}function Dn(e,t){return e===void 0?Se:t?void(Se[e]=t):Se[e]}function Mn(e){var t,n="core";return(t=/^(\w+)\.(\w+)$/.exec(e))&&(n=t[1],e=t[2]),{ns:n,key:e}}function Nn(e,t){if(t=t===void 0?v.options.langType:t,typeof e=="string"){if(!Ee[t])return"no language";var n=e.length-1;if(e.substr(n)===".")return Ee[t][e.substr(0,n)];var o=Mn(e);return Ee[t][o.ns][o.key]}z(e,function(i,s){var c=Mn(i);Ee[t]||(Ee[t]={}),Ee[t][c.ns]||(Ee[t][c.ns]={}),Ee[t][c.ns][c.key]=s})}function Ct(e,t){if(!e.collapsed){e=e.cloneRange().up();var n=e.startContainer,o=e.startOffset;if(Ue||e.isControl()){var i=v(n.childNodes[o]);if(i&&i.name=="img")return t(i)?i:void 0}}}function bi(){var e=this,t=e.edit.doc;v(t).contextmenu(function(n){if(e.menu&&e.hideMenu(),!e.useContextmenu)return void n.preventDefault();if(e._contextmenus.length!==0){var o=0,i=[];for(z(e._contextmenus,function(){return this.title=="-"?void i.push(this):void(this.cond&&this.cond()&&(i.push(this),this.width&&this.width>o&&(o=this.width)))});i.length>0&&i[0].title=="-";)i.shift();for(;i.length>0&&i[i.length-1].title=="-";)i.pop();var s=null;if(z(i,function(u){this.title=="-"&&s.title=="-"&&delete i[u],s=this}),i.length>0){n.preventDefault();var c=v(e.edit.iframe).pos(),a=Kt({x:c.x+n.clientX,y:c.y+n.clientY,width:o,css:{visibility:"hidden"},shadowMode:e.shadowMode});z(i,function(){this.title&&a.addItem(this)});var r=ke(a.doc),d=a.div.height();n.clientY+d>=r.clientHeight-100&&a.pos(a.x,Z(a.y)-d),a.div.css("visibility","visible"),e.menu=a}}})}function wi(){function e(c){for(var a=v(c.commonAncestor());a&&(a.type!=1||a.isStyle());)a=a.parent();return a}var t=this,n=t.edit.doc,o=t.newlineTag;if(!(Y&&o!=="br"||Oe&&3>ce&&o!=="p"||Zt&&9>ce)){var i=re("h1,h2,h3,h4,h5,h6,pre,li"),s=re("p,h1,h2,h3,h4,h5,h6,pre,li,blockquote");v(n).keydown(function(c){if(!(c.which!=13||c.shiftKey||c.ctrlKey||c.altKey)){t.cmd.selection();var a=e(t.cmd.range),r=(v(a).prev(),v(a).parent(),a.name);if(r!="marquee"&&r!="select")return o!=="br"||i[r]?void(s[r]||De(n,"formatblock","<p>")):(c.preventDefault(),void t.insertHtml("<br />"+(Y&&9>ce?"":"\u200B")))}}),v(n).keyup(function(c){if(!(c.which!=13||c.shiftKey||c.ctrlKey||c.altKey)&&o!="br"){if(Oe){var a=t.cmd.commonAncestor("p"),r=t.cmd.commonAncestor("a");return void(r&&r.text()==""&&(r.remove(!0),t.cmd.range.selectNodeContents(a[0]).collapse(!0),t.cmd.select()))}t.cmd.selection();var d=e(t.cmd.range),u=v(d).prev(),l=v(d).parent(),f=d.name,p=l&&l.name?l.name:"",m=u&&u.html?u.html():"";if(p=="blockquote"&&m=="<br />"){c.preventDefault(),v(u).remove(),v(d).remove(),v(l).after("<p>\u200B</p>");var g=v(l).next();return t.cmd.range.selectNodeContents(g).collapse(!0),t.cmd.select(),void g.focus()}f!="marquee"&&f!="select"&&(s[f]||De(n,"formatblock","<p>"))}})}}function xi(){var e=this,t=e.edit.doc;v(t).keydown(function(n){if(n.which==9){if(n.preventDefault(),e.afterTab)return void e.afterTab.call(e,n);var o=e.cmd,i=o.range;i.shrink(),i.collapsed&&i.startContainer.nodeType==1&&(i.insertNode(v("@&nbsp;",t)[0]),o.select()),e.insertHtml("&nbsp;&nbsp;&nbsp;&nbsp;")}})}function Ci(){var e=this;v(e.edit.textarea[0],e.edit.win).focus(function(t){e.afterFocus&&e.afterFocus.call(e,t)}).blur(function(t){e.afterBlur&&e.afterBlur.call(e,t)})}function Ne(e){return te(e.replace(/<span [^>]*id="?__kindeditor_bookmark_\w+_\d+__"?[^>]*><\/span>/gi,""))}function Tt(e){return e.replace(/<div[^>]+class="?__kindeditor_paste__"?[^>]*>[\s\S]*?<\/div>/gi,"")}function In(e,t){if(e.length===0)return void e.push(t);var n=e[e.length-1];Ne(t.html)!==Ne(n.html)&&e.push(t)}function An(e,t){var n,o,i=this,s=i.edit,c=s.doc.body;if(e.length===0)return i;s.designMode?(n=i.cmd.range,o=n.createBookmark(!0),o.html=c.innerHTML):o={html:c.innerHTML},In(t,o);var a=e.pop();return Ne(o.html)===Ne(a.html)&&e.length>0&&(a=e.pop()),s.designMode?(s.html(a.html),a.start&&(n.moveToBookmark(a),i.select())):v(c).html(Ne(a.html)),i}function st(e){function t(i,s){st.prototype[i]===void 0&&(n[i]=s),n.options[i]=s}var n=this;n.options={},z(e,function(i,s){t(i,e[i])}),z(v.options,function(i,s){n[i]===void 0&&t(i,s)});var o=v(n.srcElement||"<textarea/>");n.width||(n.width=o[0].style.width||o.width()),n.height||(n.height=o[0].style.height||o.height()),t("width",V(n.width,n.minWidth)),t("height",V(n.height,n.minHeight)),t("width",J(n.width)),t("height",J(n.height)),Si&&(!Ei||534>ce)&&(n.designMode=!1),n.srcElement=o,n.initContent="",n.plugin={},n.isCreated=!1,n._handlers={},n._contextmenus=[],n._undoStack=[],n._redoStack=[],n._firstAddBookmark=!0,n.menu=n.contextmenu=null,n.dialogs=[]}function Ti(e){return new st(e)}function Rn(e,t){function n(c){return z(Se,function(a,r){ie(r)&&(r.call(c,KindEditor),c._pluginStatus||(c._pluginStatus={}),c._pluginStatus[a]="inited")}),c.create()}if(t=t||{},t.basePath=V(t.basePath,v.basePath),t.themesPath=V(t.themesPath,t.basePath+"themes/"),t.langPath=V(t.langPath,t.basePath+"lang/"),t.pluginsPath=V(t.pluginsPath,t.basePath+"plugins/"),V(t.loadStyleMode,v.options.loadStyleMode)){var o=V(t.themeType,v.options.themeType);Yt(t.themesPath+"default/default.css"),Yt(t.themesPath+o+"/"+o+".css")}var i=v(e);if(i&&i.length!==0){if(i.length>1)return i.each(function(){Rn(this,t)}),pt[0];t.srcElement=i[0];var s=new st(t);return pt.push(s),Ee[s.langType]?n(s):(Qt(s.langPath+s.langType+".js?ver="+encodeURIComponent(v.DEBUG?St:_t),function(){n(s)}),s)}}function ct(e,t){v(e).each(function(n,o){v.each(pt,function(i,s){return s&&s.srcElement[0]==o?(t.call(s,i),!1):void 0})})}(function(e){return e.KindEditor?e.KindEditor:void 0})(window),function(e,t){t(e)}(window,function(e){var t=function(){function n(h){return h==null?String(h):ht[It.call(h)]||"object"}function o(h){return n(h)=="function"}function i(h){return h!=null&&h==h.window}function s(h){return h!=null&&h.nodeType==h.DOCUMENT_NODE}function c(h){return n(h)=="object"}function a(h){return c(h)&&!i(h)&&Object.getPrototypeOf(h)==Object.prototype}function r(h){var k=!!h&&"length"in h&&h.length,S=_.type(h);return S!="function"&&!i(h)&&(S=="array"||k===0||typeof k=="number"&&k>0&&k-1 in h)}function d(h){return R.call(h,function(k){return k!=null})}function u(h){return h.length>0?_.fn.concat.apply([],h):h}function l(h){return h.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function f(h){return h in j?j[h]:j[h]=new RegExp("(^|\\s)"+h+"(\\s|$)")}function p(h,k){return typeof k!="number"||W[l(h)]?k:k+"px"}function m(h){var k,S;return H[h]||(k=U.createElement(h),U.body.appendChild(k),S=getComputedStyle(k,"").getPropertyValue("display"),k.parentNode.removeChild(k),S=="none"&&(S="block"),H[h]=S),H[h]}function g(h){return"children"in h?O.call(h.children):_.map(h.childNodes,function(k){return k.nodeType==1?k:void 0})}function y(h,k){var S,F=h?h.length:0;for(S=0;F>S;S++)this[S]=h[S];this.length=F,this.selector=k||""}function w(h,k,S){for(E in k)S&&(a(k[E])||Ve(k[E]))?(a(k[E])&&!a(h[E])&&(h[E]={}),Ve(k[E])&&!Ve(h[E])&&(h[E]=[]),w(h[E],k[E],S)):k[E]!==B&&(h[E]=k[E])}function b(h,k){return k==null?_(h):_(h).filter(k)}function T(h,k,S,F){return o(k)?k.call(h,S,F):k}function M(h,k,S){S==null?h.removeAttribute(k):h.setAttribute(k,S)}function N(h,k){var S=h.className||"",F=S&&S.baseVal!==B;return k===B?F?S.baseVal:S:void(F?S.baseVal=k:h.className=k)}function A(h){try{return h&&(h=="true"||(h=="false"?!1:h=="null"?null:+h+""==h?+h:/^[\[\{]/.test(h)?_.parseJSON(h):h))}catch{return h}}function P(h,k){k(h);for(var S=0,F=h.childNodes.length;F>S;S++)P(h.childNodes[S],k)}var B,E,_,x,C,D,I=[],L=I.concat,R=I.filter,O=I.slice,U=e.document,H={},j={},W={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},le=/^\s*<(\w+|!)[^>]*>/,K=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ve=/^(?:body|html)$/i,fe=/([A-Z])/g,ne=["val","css","html","text","data","width","height","offset"],Ce=["after","prepend","before","append"],Q=U.createElement("table"),X=U.createElement("tr"),$e={tr:U.createElement("tbody"),tbody:Q,thead:Q,tfoot:Q,td:X,th:X,"*":U.createElement("div")},Nt=/^[\w-]*$/,ht={},It=ht.toString,G={},$n=U.createElement("div"),tn={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Ve=Array.isArray||function(h){return h instanceof Array};return G.matches=function(h,k){if(!k||!h||h.nodeType!==1)return!1;var S=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.matchesSelector;if(S)return S.call(h,k);var F,$=h.parentNode,q=!$;return q&&($=$n).appendChild(h),F=~G.qsa($,k).indexOf(h),q&&$n.removeChild(h),F},C=function(h){return h.replace(/-+(.)?/g,function(k,S){return S?S.toUpperCase():""})},D=function(h){return R.call(h,function(k,S){return h.indexOf(k)==S})},G.fragment=function(h,k,S){var F,$,q;return K.test(h)&&(F=_(U.createElement(RegExp.$1))),F||(h.replace&&(h=h.replace(ae,"<$1></$2>")),k===B&&(k=le.test(h)&&RegExp.$1),k in $e||(k="*"),q=$e[k],q.innerHTML=""+h,F=_.each(O.call(q.childNodes),function(){q.removeChild(this)})),a(S)&&($=_(F),_.each(S,function(ye,pe){ne.indexOf(ye)>-1?$[ye](pe):$.attr(ye,pe)})),F},G.Z=function(h,k){return new y(h,k)},G.isZ=function(h){return h instanceof G.Z},G.init=function(h,k){var S;if(!h)return G.Z();if(typeof h=="string")if(h=h.trim(),h[0]=="<"&&le.test(h))S=G.fragment(h,RegExp.$1,k),h=null;else{if(k!==B)return _(k).find(h);S=G.qsa(U,h)}else{if(o(h))return _(U).ready(h);if(G.isZ(h))return h;if(Ve(h))S=d(h);else if(c(h))S=[h],h=null;else if(le.test(h))S=G.fragment(h.trim(),RegExp.$1,k),h=null;else{if(k!==B)return _(k).find(h);S=G.qsa(U,h)}}return G.Z(S,h)},_=function(h,k){return G.init(h,k)},_.extend=function(h){var k,S=O.call(arguments,1);return typeof h=="boolean"&&(k=h,h=S.shift()),S.forEach(function(F){w(h,F,k)}),h},G.qsa=function(h,k){var S,F=k[0]=="#",$=!F&&k[0]==".",q=F||$?k.slice(1):k,ye=Nt.test(q);return h.getElementById&&ye&&F?(S=h.getElementById(q))?[S]:[]:h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11?[]:O.call(ye&&!F&&h.getElementsByClassName?$?h.getElementsByClassName(q):h.getElementsByTagName(k):h.querySelectorAll(k))},_.contains=U.documentElement.contains?function(h,k){return h!==k&&h.contains(k)}:function(h,k){for(;k&&(k=k.parentNode);)if(k===h)return!0;return!1},_.type=n,_.isFunction=o,_.isWindow=i,_.isArray=Ve,_.isPlainObject=a,_.isEmptyObject=function(h){var k;for(k in h)return!1;return!0},_.isNumeric=function(h){var k=Number(h),S=typeof h;return h!=null&&S!="boolean"&&(S!="string"||h.length)&&!isNaN(k)&&isFinite(k)||!1},_.inArray=function(h,k,S){return I.indexOf.call(k,h,S)},_.camelCase=C,_.trim=function(h){return h==null?"":String.prototype.trim.call(h)},_.uuid=0,_.support={},_.expr={},_.noop=function(){},_.map=function(h,k){var S,F,$,q=[];if(r(h))for(F=0;F<h.length;F++)S=k(h[F],F),S!=null&&q.push(S);else for($ in h)S=k(h[$],$),S!=null&&q.push(S);return u(q)},_.each=function(h,k){var S,F;if(r(h)){for(S=0;S<h.length;S++)if(k.call(h[S],S,h[S])===!1)return h}else for(F in h)if(k.call(h[F],F,h[F])===!1)return h;return h},_.grep=function(h,k){return R.call(h,k)},e.JSON&&(_.parseJSON=JSON.parse),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(h,k){ht["[object "+k+"]"]=k.toLowerCase()}),_.fn={constructor:G.Z,length:0,forEach:I.forEach,reduce:I.reduce,push:I.push,sort:I.sort,splice:I.splice,indexOf:I.indexOf,concat:function(){var h,k,S=[];for(h=0;h<arguments.length;h++)k=arguments[h],S[h]=G.isZ(k)?k.toArray():k;return L.apply(G.isZ(this)?this.toArray():this,S)},map:function(h){return _(_.map(this,function(k,S){return h.call(k,S,k)}))},slice:function(){return _(O.apply(this,arguments))},ready:function(h){if(U.readyState==="complete"||U.readyState!=="loading"&&!U.documentElement.doScroll)setTimeout(function(){h(_)},0);else{var k=function(){U.removeEventListener("DOMContentLoaded",k,!1),e.removeEventListener("load",k,!1),h(_)};U.addEventListener("DOMContentLoaded",k,!1),e.addEventListener("load",k,!1)}return this},get:function(h){return h===B?O.call(this):this[h>=0?h:h+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(h){return I.every.call(this,function(k,S){return h.call(k,S,k)!==!1}),this},filter:function(h){return o(h)?this.not(this.not(h)):_(R.call(this,function(k){return G.matches(k,h)}))},add:function(h,k){return _(D(this.concat(_(h,k))))},is:function(h){return typeof h=="string"?this.length>0&&G.matches(this[0],h):h&&this.selector==h.selector},not:function(h){var k=[];if(o(h)&&h.call!==B)this.each(function(F){h.call(this,F)||k.push(this)});else{var S=typeof h=="string"?this.filter(h):r(h)&&o(h.item)?O.call(h):_(h);this.forEach(function(F){S.indexOf(F)<0&&k.push(F)})}return _(k)},has:function(h){return this.filter(function(){return c(h)?_.contains(this,h):_(this).find(h).size()})},eq:function(h){return h===-1?this.slice(h):this.slice(h,+h+1)},first:function(){var h=this[0];return h&&!c(h)?h:_(h)},last:function(){var h=this[this.length-1];return h&&!c(h)?h:_(h)},find:function(h){var k=this;return h?typeof h=="object"?_(h).filter(function(){var S=this;return I.some.call(k,function(F){return _.contains(F,S)})}):this.length==1?_(G.qsa(this[0],h)):this.map(function(){return G.qsa(this,h)}):_()},closest:function(h,k){var S=[],F=typeof h=="object"&&_(h);return this.each(function($,q){for(;q&&!(F?F.indexOf(q)>=0:G.matches(q,h));)q=q!==k&&!s(q)&&q.parentNode;q&&S.indexOf(q)<0&&S.push(q)}),_(S)},parents:function(h){for(var k=[],S=this;S.length>0;)S=_.map(S,function(F){return(F=F.parentNode)&&!s(F)&&k.indexOf(F)<0?(k.push(F),F):void 0});return b(k,h)},parent:function(h){return b(D(this.pluck("parentNode")),h)},children:function(h){return b(this.map(function(){return g(this)}),h)},contents:function(){return this.map(function(){return this.contentDocument||O.call(this.childNodes)})},siblings:function(h){return b(this.map(function(k,S){return R.call(g(S.parentNode),function(F){return F!==S})}),h)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(h){return _.map(this,function(k){return k[h]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=""),getComputedStyle(this,"").getPropertyValue("display")=="none"&&(this.style.display=m(this.nodeName))})},replaceWith:function(h){return this.before(h).remove()},wrap:function(h){var k=o(h);if(this[0]&&!k)var S=_(h).get(0),F=S.parentNode||this.length>1;return this.each(function($){_(this).wrapAll(k?h.call(this,$):F?S.cloneNode(!0):S)})},wrapAll:function(h){if(this[0]){_(this[0]).before(h=_(h));for(var k;(k=h.children()).length;)h=k.first();_(h).append(this)}return this},wrapInner:function(h){var k=o(h);return this.each(function(S){var F=_(this),$=F.contents(),q=k?h.call(this,S):h;$.length?$.wrapAll(q):F.append(q)})},unwrap:function(){return this.parent().each(function(){_(this).replaceWith(_(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(h){return this.each(function(){var k=_(this);(h===B?k.css("display")=="none":h)?k.show():k.hide()})},prev:function(h){return _(this.pluck("previousElementSibling")).filter(h||"*")},next:function(h){return _(this.pluck("nextElementSibling")).filter(h||"*")},html:function(h){return 0 in arguments?this.each(function(k){var S=this.innerHTML;_(this).empty().append(T(this,h,k,S))}):0 in this?this[0].innerHTML:null},text:function(h){return 0 in arguments?this.each(function(k){var S=T(this,h,k,this.textContent);this.textContent=S==null?"":""+S}):0 in this?this.pluck("textContent").join(""):null},attr:function(h,k){var S;return typeof h!="string"||1 in arguments?this.each(function(F){if(this.nodeType===1)if(c(h))for(E in h)M(this,E,h[E]);else M(this,h,T(this,k,F,this.getAttribute(h)))}):0 in this&&this[0].nodeType==1&&(S=this[0].getAttribute(h))!=null?S:B},removeAttr:function(h){return this.each(function(){this.nodeType===1&&h.split(" ").forEach(function(k){M(this,k)},this)})},prop:function(h,k){return h=tn[h]||h,typeof h!="string"||1 in arguments?this.each(function(S){if(c(h))for(E in h)this[tn[E]||E]=h[E];else this[h]=T(this,k,S,this[h])}):this[0]&&this[0][h]},removeProp:function(h){return h=tn[h]||h,this.each(function(){delete this[h]})},data:function(h,k){var S="data-"+h.replace(fe,"-$1").toLowerCase(),F=1 in arguments?this.attr(S,k):this.attr(S);return F!==null?A(F):B},val:function(h){return 0 in arguments?(h==null&&(h=""),this.each(function(k){this.value=T(this,h,k,this.value)})):this[0]&&(this[0].multiple?_(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(h){if(h)return this.each(function(S){var F=_(this),$=T(this,h,S,F.offset()),q=F.offsetParent().offset(),ye={top:$.top-q.top,left:$.left-q.left};F.css("position")=="static"&&(ye.position="relative"),F.css(ye)});if(!this.length)return null;if(U.documentElement!==this[0]&&!_.contains(U.documentElement,this[0]))return{top:0,left:0};var k=this[0].getBoundingClientRect();return{left:k.left+e.pageXOffset,top:k.top+e.pageYOffset,width:Math.round(k.width),height:Math.round(k.height)}},css:function(h,k){if(arguments.length<2){var S=this[0];if(typeof h=="string")return S?S.style[C(h)]||getComputedStyle(S,"").getPropertyValue(h):void 0;if(Ve(h)){if(!S)return;var F={},$=getComputedStyle(S,"");return _.each(h,function(ye,pe){F[pe]=S.style[C(pe)]||$.getPropertyValue(pe)}),F}}var q="";if(n(h)=="string")k||k===0?q=l(h)+":"+p(h,k):this.each(function(){this.style.removeProperty(l(h))});else for(E in h)h[E]||h[E]===0?q+=l(E)+":"+p(E,h[E])+";":this.each(function(){this.style.removeProperty(l(E))});return this.each(function(){this.style.cssText+=";"+q})},index:function(h){return h?this.indexOf(_(h)[0]):this.parent().children().indexOf(this[0])},hasClass:function(h){return h?I.some.call(this,function(k){return this.test(N(k))},f(h)):!1},addClass:function(h){return h?this.each(function(k){if("className"in this){x=[];var S=N(this),F=T(this,h,k,S);F.split(/\s+/g).forEach(function($){_(this).hasClass($)||x.push($)},this),x.length&&N(this,S+(S?" ":"")+x.join(" "))}}):this},removeClass:function(h){return this.each(function(k){if("className"in this){if(h===B)return N(this,"");x=N(this),T(this,h,k,x).split(/\s+/g).forEach(function(S){x=x.replace(f(S)," ")}),N(this,x.trim())}})},toggleClass:function(h,k){return h?this.each(function(S){var F=_(this),$=T(this,h,S,N(this));$.split(/\s+/g).forEach(function(q){(k===B?!F.hasClass(q):k)?F.addClass(q):F.removeClass(q)})}):this},scrollTop:function(h){if(this.length){var k="scrollTop"in this[0];return h===B?k?this[0].scrollTop:this[0].pageYOffset:this.each(k?function(){this.scrollTop=h}:function(){this.scrollTo(this.scrollX,h)})}},scrollLeft:function(h){if(this.length){var k="scrollLeft"in this[0];return h===B?k?this[0].scrollLeft:this[0].pageXOffset:this.each(k?function(){this.scrollLeft=h}:function(){this.scrollTo(h,this.scrollY)})}},position:function(){if(this.length){var h=this[0],k=this.offsetParent(),S=this.offset(),F=ve.test(k[0].nodeName)?{top:0,left:0}:k.offset();return S.top-=parseFloat(_(h).css("margin-top"))||0,S.left-=parseFloat(_(h).css("margin-left"))||0,F.top+=parseFloat(_(k[0]).css("border-top-width"))||0,F.left+=parseFloat(_(k[0]).css("border-left-width"))||0,{top:S.top-F.top,left:S.left-F.left}}},offsetParent:function(){return this.map(function(){for(var h=this.offsetParent||U.body;h&&!ve.test(h.nodeName)&&_(h).css("position")=="static";)h=h.offsetParent;return h})}},_.fn.detach=_.fn.remove,["width","height"].forEach(function(h){var k=h.replace(/./,function(S){return S[0].toUpperCase()});_.fn[h]=function(S){var F,$=this[0];return S===B?i($)?$["inner"+k]:s($)?$.documentElement["scroll"+k]:(F=this.offset())&&F[h]:this.each(function(q){$=_(this),$.css(h,T(this,S,q,$[h]()))})}}),Ce.forEach(function(h,k){var S=k%2;_.fn[h]=function(){var F,$,q=_.map(arguments,function(pe){var ue=[];return F=n(pe),F=="array"?(pe.forEach(function(ze){return ze.nodeType!==B?ue.push(ze):_.zepto.isZ(ze)?ue=ue.concat(ze.get()):void(ue=ue.concat(G.fragment(ze)))}),ue):F=="object"||pe==null?pe:G.fragment(pe)}),ye=this.length>1;return q.length<1?this:this.each(function(pe,ue){$=S?ue:ue.parentNode,ue=k==0?ue.nextSibling:k==1?ue.firstChild:k==2?ue:null;var ze=_.contains(U.documentElement,$);q.forEach(function(mt){if(ye)mt=mt.cloneNode(!0);else if(!$)return _(mt).remove();$.insertBefore(mt,ue),ze&&P(mt,function(Re){if(!(Re.nodeName==null||Re.nodeName.toUpperCase()!=="SCRIPT"||Re.type&&Re.type!=="text/javascript"||Re.src)){var Vn=Re.ownerDocument?Re.ownerDocument.defaultView:e;Vn.eval.call(Vn,Re.innerHTML)}})})})},_.fn[S?h+"To":"insert"+(k?"Before":"After")]=function(F){return _(F)[h](this),this}}),G.Z.prototype=y.prototype=_.fn,G.uniq=D,G.deserializeValue=A,_.zepto=G,_}();return e.Zepto=t,e.$===void 0&&(e.$=t),function(n){function o(x){return x._zid||(x._zid=m++)}function i(x,C,D,I){if(C=s(C),C.ns)var L=c(C.ns);return(b[o(x)]||[]).filter(function(R){return R&&(!C.e||R.e==C.e)&&(!C.ns||L.test(R.ns))&&(!D||o(R.fn)===o(D))&&(!I||R.sel==I)})}function s(x){var C=(""+x).split(".");return{e:C[0],ns:C.slice(1).sort().join(" ")}}function c(x){return new RegExp("(?:^| )"+x.replace(" "," .* ?")+"(?: |$)")}function a(x,C){return x.del&&!M&&x.e in N||!!C}function r(x){return A[x]||M&&N[x]||x}function d(x,C,D,I,L,R,O){var U=o(x),H=b[U]||(b[U]=[]);C.split(/\s/).forEach(function(j){if(j=="ready")return n(document).ready(D);var W=s(j);W.fn=D,W.sel=L,W.e in A&&(D=function(K){var ae=K.relatedTarget;return!ae||ae!==this&&!n.contains(this,ae)?W.fn.apply(this,arguments):void 0}),W.del=R;var le=R||D;W.proxy=function(K){if(K=l(K),!K.isImmediatePropagationStopped()){K.data=I;var ae=le.apply(x,K._args==p?[K]:[K].concat(K._args));return ae===!1&&(K.preventDefault(),K.stopPropagation()),ae}},W.i=H.length,H.push(W),"addEventListener"in x&&x.addEventListener(r(W.e),W.proxy,a(W,O))})}function u(x,C,D,I,L){var R=o(x);(C||"").split(/\s/).forEach(function(O){i(x,O,D,I).forEach(function(U){delete b[R][U.i],"removeEventListener"in x&&x.removeEventListener(r(U.e),U.proxy,a(U,L))})})}function l(x,C){if(C||!x.isDefaultPrevented){C||(C=x),n.each(_,function(D,I){var L=C[D];x[D]=function(){return this[I]=P,L&&L.apply(C,arguments)},x[I]=B});try{x.timeStamp||(x.timeStamp=Date.now())}catch{}(C.defaultPrevented!==p?C.defaultPrevented:"returnValue"in C?C.returnValue===!1:C.getPreventDefault&&C.getPreventDefault())&&(x.isDefaultPrevented=P)}return x}function f(x){var C,D={originalEvent:x};for(C in x)E.test(C)||x[C]===p||(D[C]=x[C]);return l(D,x)}var p,m=1,g=Array.prototype.slice,y=n.isFunction,w=function(x){return typeof x=="string"},b={},T={},M="onfocusin"in e,N={focus:"focusin",blur:"focusout"},A={mouseenter:"mouseover",mouseleave:"mouseout"};T.click=T.mousedown=T.mouseup=T.mousemove="MouseEvents",n.event={add:d,remove:u},n.proxy=function(x,C){var D=2 in arguments&&g.call(arguments,2);if(y(x)){var I=function(){return x.apply(C,D?D.concat(g.call(arguments)):arguments)};return I._zid=o(x),I}if(w(C))return D?(D.unshift(x[C],x),n.proxy.apply(null,D)):n.proxy(x[C],x);throw new TypeError("expected function")},n.fn.bind=function(x,C,D){return this.on(x,C,D)},n.fn.unbind=function(x,C){return this.off(x,C)},n.fn.one=function(x,C,D,I){return this.on(x,C,D,I,1)};var P=function(){return!0},B=function(){return!1},E=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,_={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};n.fn.delegate=function(x,C,D){return this.on(C,x,D)},n.fn.undelegate=function(x,C,D){return this.off(C,x,D)},n.fn.live=function(x,C){return n(document.body).delegate(this.selector,x,C),this},n.fn.die=function(x,C){return n(document.body).undelegate(this.selector,x,C),this},n.fn.on=function(x,C,D,I,L){var R,O,U=this;return x&&!w(x)?(n.each(x,function(H,j){U.on(H,C,D,j,L)}),U):(w(C)||y(I)||I===!1||(I=D,D=C,C=p),(I===p||D===!1)&&(I=D,D=p),I===!1&&(I=B),U.each(function(H,j){L&&(R=function(W){return u(j,W.type,I),I.apply(this,arguments)}),C&&(O=function(W){var le,K=n(W.target).closest(C,j).get(0);return K&&K!==j?(le=n.extend(f(W),{currentTarget:K,liveFired:j}),(R||I).apply(K,[le].concat(g.call(arguments,1)))):void 0}),d(j,x,I,D,C,O||R)}))},n.fn.off=function(x,C,D){var I=this;return x&&!w(x)?(n.each(x,function(L,R){I.off(L,C,R)}),I):(w(C)||y(D)||D===!1||(D=C,C=p),D===!1&&(D=B),I.each(function(){u(this,x,D,C)}))},n.fn.trigger=function(x,C){return x=w(x)||n.isPlainObject(x)?n.Event(x):l(x),x._args=C,this.each(function(){x.type in N&&typeof this[x.type]=="function"?this[x.type]():"dispatchEvent"in this?this.dispatchEvent(x):n(this).triggerHandler(x,C)})},n.fn.triggerHandler=function(x,C){var D,I;return this.each(function(L,R){D=f(w(x)?n.Event(x):x),D._args=C,D.target=R,n.each(i(R,x.type||x),function(O,U){return I=U.proxy(D),D.isImmediatePropagationStopped()?!1:void 0})}),I},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(x){n.fn[x]=function(C){return 0 in arguments?this.bind(x,C):this.trigger(x)}}),n.Event=function(x,C){w(x)||(C=x,x=C.type);var D=document.createEvent(T[x]||"Events"),I=!0;if(C)for(var L in C)L=="bubbles"?I=!!C[L]:D[L]=C[L];return D.initEvent(x,I,!0),l(D)}}(t),function(n){function o(s){var c=[["resolve","done",n.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",n.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",n.Callbacks({memory:1})]],a="pending",r={state:function(){return a},always:function(){return d.done(arguments).fail(arguments),this},then:function(){var u=arguments;return o(function(l){n.each(c,function(f,p){var m=n.isFunction(u[f])&&u[f];d[p[1]](function(){var g=m&&m.apply(this,arguments);if(g&&n.isFunction(g.promise))g.promise().done(l.resolve).fail(l.reject).progress(l.notify);else{var y=this===r?l.promise():this,w=m?[g]:arguments;l[p[0]+"With"](y,w)}})}),u=null}).promise()},promise:function(u){return u!=null?n.extend(u,r):r}},d={};return n.each(c,function(u,l){var f=l[2],p=l[3];r[l[1]]=f.add,p&&f.add(function(){a=p},c[1^u][2].disable,c[2][2].lock),d[l[0]]=function(){return d[l[0]+"With"](this===d?r:this,arguments),this},d[l[0]+"With"]=f.fireWith}),r.promise(d),s&&s.call(d,d),d}var i=Array.prototype.slice;n.when=function(s){var c,a,r,d=i.call(arguments),u=d.length,l=0,f=u!==1||s&&n.isFunction(s.promise)?u:0,p=f===1?s:o(),m=function(g,y,w){return function(b){y[g]=this,w[g]=arguments.length>1?i.call(arguments):b,w===c?p.notifyWith(y,w):--f||p.resolveWith(y,w)}};if(u>1)for(c=new Array(u),a=new Array(u),r=new Array(u);u>l;++l)d[l]&&n.isFunction(d[l].promise)?d[l].promise().done(m(l,r,d)).fail(p.reject).progress(m(l,a,c)):--f;return f||p.resolveWith(r,d),p.promise()},n.Deferred=o}(t),function(n){n.Callbacks=function(o){o=n.extend({},o);var i,s,c,a,r,d,u=[],l=!o.once&&[],f=function(m){for(i=o.memory&&m,s=!0,d=a||0,a=0,r=u.length,c=!0;u&&r>d;++d)if(u[d].apply(m[0],m[1])===!1&&o.stopOnFalse){i=!1;break}c=!1,u&&(l?l.length&&f(l.shift()):i?u.length=0:p.disable())},p={add:function(){if(u){var m=u.length,g=function(y){n.each(y,function(w,b){typeof b=="function"?o.unique&&p.has(b)||u.push(b):b&&b.length&&typeof b!="string"&&g(b)})};g(arguments),c?r=u.length:i&&(a=m,f(i))}return this},remove:function(){return u&&n.each(arguments,function(m,g){for(var y;(y=n.inArray(g,u,y))>-1;)u.splice(y,1),c&&(r>=y&&--r,d>=y&&--d)}),this},has:function(m){return!(!u||!(m?n.inArray(m,u)>-1:u.length))},empty:function(){return r=u.length=0,this},disable:function(){return u=l=i=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,i||p.disable(),this},locked:function(){return!l},fireWith:function(m,g){return!u||s&&!l||(g=g||[],g=[m,g.slice?g.slice():g],c?l.push(g):f(g)),this},fire:function(){return p.fireWith(this,arguments)},fired:function(){return!!s}};return p}}(t),t}),function(e,t){var n,o={},i=function(u,l){var f,p,m;if(typeof u=="string")return a(u);for(f=[],p=u.length,m=0;p>m;m++)f.push(a(u[m]));return l.apply(null,f)},s=function(u,l,f){arguments.length===2&&(f=l,l=null),i(l||[],function(){c(u,f,arguments)})},c=function(u,l,f){var p,m={exports:l};typeof l=="function"&&(f.length||(f=[i,m.exports,m]),p=l.apply(null,f),p!==void 0&&(m.exports=p)),o[u]=m.exports},a=function(u){var l=o[u]||e[u];if(!l)throw new Error("`"+u+"` is undefined");return l},r=function(u){var l,f,p,m,g,y;y=function(w){return w&&w.charAt(0).toUpperCase()+w.substr(1)};for(l in o)if(f=u,o.hasOwnProperty(l)){for(p=l.split("/"),g=y(p.pop());m=y(p.shift());)f[m]=f[m]||{},f=f[m];f[g]=o[l]}return u},d=function(u){return e.__dollar=u,r(t(e,s,i))};n=e.WebUploader,e.WebUploader=d(),e.WebUploader.noConflict=function(){e.WebUploader=n}}(window,function(e,t,n){return t("dollar-third",[],function(){var o=e.require,i=e.__dollar||e.jQuery||e.Zepto||o("jquery")||o("zepto");if(!i)throw new Error("jQuery or Zepto not found!");return i}),t("dollar",["dollar-third"],function(o){return o}),t("promise-third",["dollar"],function(o){return{Deferred:o.Deferred,when:o.when,isPromise:function(i){return i&&typeof i.then=="function"}}}),t("promise",["promise-third"],function(o){return o}),t("base",["dollar","promise"],function(o,i){function s(u){return function(){return d.apply(u,arguments)}}function c(u,l){return function(){return u.apply(l,arguments)}}function a(u){var l;return Object.create?Object.create(u):(l=function(){},l.prototype=u,new l)}var r=function(){},d=Function.call;return{version:"0.1.8-alpha",$:o,Deferred:i.Deferred,isPromise:i.isPromise,when:i.when,browser:function(u){var l={},f=u.match(/WebKit\/([\d.]+)/),p=u.match(/Chrome\/([\d.]+)/)||u.match(/CriOS\/([\d.]+)/),m=u.match(/MSIE\s([\d\.]+)/)||u.match(/(?:trident)(?:.*rv:([\w.]+))?/i),g=u.match(/Firefox\/([\d.]+)/),y=u.match(/Safari\/([\d.]+)/),w=u.match(/OPR\/([\d.]+)/);return f&&(l.webkit=parseFloat(f[1])),p&&(l.chrome=parseFloat(p[1])),m&&(l.ie=parseFloat(m[1])),g&&(l.firefox=parseFloat(g[1])),y&&(l.safari=parseFloat(y[1])),w&&(l.opera=parseFloat(w[1])),l}(navigator.userAgent),os:function(u){var l={},f=u.match(/(?:Android);?[\s\/]+([\d.]+)?/),p=u.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return f&&(l.android=parseFloat(f[1])),p&&(l.ios=parseFloat(p[1].replace(/_/g,"."))),l}(navigator.userAgent),inherits:function(u,l,f){var p;return typeof l=="function"?(p=l,l=null):p=l&&l.hasOwnProperty("constructor")?l.constructor:function(){return u.apply(this,arguments)},o.extend(!0,p,u,f||{}),p.__super__=u.prototype,p.prototype=a(u.prototype),l&&o.extend(!0,p.prototype,l),p},noop:r,bindFn:c,log:function(){return e.console?c(console.log,console):r}(),nextTick:function(){return function(u){setTimeout(u,1)}}(),slice:s([].slice),guid:function(){var u=0;return function(l){for(var f=(+new Date).toString(32),p=0;5>p;p++)f+=Math.floor(65535*Math.random()).toString(32);return(l||"wu_")+f+(u++).toString(32)}}(),formatSize:function(u,l,f){var p;for(f=f||["B","K","M","G","TB"];(p=f.shift())&&u>1024;)u/=1024;return(p==="B"?u:u.toFixed(l||2))+p}}}),t("mediator",["base"],function(o){function i(l,f,p,m){return r.grep(l,function(g){return!(!g||f&&g.e!==f||p&&g.cb!==p&&g.cb._cb!==p||m&&g.ctx!==m)})}function s(l,f,p){r.each((l||"").split(u),function(m,g){p(g,f)})}function c(l,f){for(var p,m=!1,g=-1,y=l.length;++g<y;)if(p=l[g],p.cb.apply(p.ctx2,f)===!1){m=!0;break}return!m}var a,r=o.$,d=[].slice,u=/\s+/;return a={on:function(l,f,p){var m,g=this;return f?(m=this._events||(this._events=[]),s(l,f,function(y,w){var b={e:y};b.cb=w,b.ctx=p,b.ctx2=p||g,b.id=m.length,m.push(b)}),this):this},once:function(l,f,p){var m=this;return f&&s(l,f,function(g,y){var w=function(){return m.off(g,w),y.apply(p||m,arguments)};w._cb=y,m.on(g,w,p)}),m},off:function(l,f,p){var m=this._events;return m?l||f||p?(s(l,f,function(g,y){r.each(i(m,g,y,p),function(){delete m[this.id]})}),this):(this._events=[],this):this},trigger:function(l){var f,p,m;return this._events&&l?(f=d.call(arguments,1),p=i(this._events,l),m=i(this._events,"all"),c(p,f)&&c(m,arguments)):this}},r.extend({installTo:function(l){return r.extend(l,a)}},a)}),t("uploader",["base","mediator"],function(o,i){function s(a){this.options=c.extend(!0,{},s.options,a),this._init(this.options)}var c=o.$;return s.options={},i.installTo(s.prototype),c.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(a,r){s.prototype[a]=function(){return this.request(r,arguments)}}),c.extend(s.prototype,{state:"pending",_init:function(a){var r=this;r.request("init",a,function(){r.state="ready",r.trigger("ready")})},option:function(a,r){var d=this.options;return arguments.length>1?void(c.isPlainObject(r)&&c.isPlainObject(d[a])?c.extend(d[a],r):d[a]=r):a?d[a]:d},getStats:function(){var a=this.request("get-stats");return a?{successNum:a.numOfSuccess,progressNum:a.numOfProgress,cancelNum:a.numOfCancel,invalidNum:a.numOfInvalid,uploadFailNum:a.numOfUploadFailed,queueNum:a.numOfQueue,interruptNum:a.numOfInterrupt}:{}},trigger:function(a){var r=[].slice.call(arguments,1),d=this.options,u="on"+a.substring(0,1).toUpperCase()+a.substring(1);return!(i.trigger.apply(this,arguments)===!1||c.isFunction(d[u])&&d[u].apply(this,r)===!1||c.isFunction(this[u])&&this[u].apply(this,r)===!1||i.trigger.apply(i,[this,a].concat(r))===!1)},destroy:function(){this.request("destroy",arguments),this.off()},request:o.noop}),o.create=s.create=function(a){return new s(a)},o.Uploader=s,s}),t("runtime/runtime",["base","mediator"],function(o,i){function s(d){this.options=c.extend({container:document.body},d),this.uid=o.guid("rt_")}var c=o.$,a={},r=function(d){for(var u in d)if(d.hasOwnProperty(u))return u;return null};return c.extend(s.prototype,{getContainer:function(){var d,u,l=this.options;return this._container?this._container:(d=c(l.container||document.body),u=c(document.createElement("div")),u.attr("id","rt_"+this.uid),u.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden",cursor:"pointer",lineHeight:"0"}),d.append(u),d.addClass("webuploader-container"),this._container=u,this._parent=d,u)},init:o.noop,exec:o.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),s.orders="html5,flash",s.addRuntime=function(d,u){a[d]=u},s.hasRuntime=function(d){return!!(d?a[d]:r(a))},s.create=function(d,u){var l;if(u=u||s.orders,c.each(u.split(/\s*,\s*/g),function(){return a[this]?(l=this,!1):void 0}),l=l||r(a),!l)throw new Error("Runtime Error");return new a[l](d)},i.installTo(s.prototype),s}),t("runtime/client",["base","mediator","runtime/runtime"],function(o,i,s){function c(r,d){var u,l=o.Deferred();this.uid=o.guid("client_"),this.runtimeReady=function(f){return l.done(f)},this.connectRuntime=function(f,p){if(u)throw new Error("already connected!");return l.done(p),typeof f=="string"&&a.get(f)&&(u=a.get(f)),u=u||a.get(null,d),u?(o.$.extend(u.options,f),u.__promise.then(l.resolve),u.__client++):(u=s.create(f,f.runtimeOrder),u.__promise=l.promise(),u.once("ready",l.resolve),u.init(),a.add(u),u.__client=1),d&&(u.__standalone=d),u},this.getRuntime=function(){return u},this.disconnectRuntime=function(){u&&(u.__client--,u.__client<=0&&(a.remove(u),delete u.__promise,u.destroy()),u=null)},this.exec=function(){if(u){var f=o.slice(arguments);return r&&f.unshift(r),u.exec.apply(this,f)}},this.getRuid=function(){return u&&u.uid},this.destroy=function(f){return function(){f&&f.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()}}(this.destroy)}var a;return a=function(){var r={};return{add:function(d){r[d.uid]=d},get:function(d,u){var l;if(d)return r[d];for(l in r)if(!u||!r[l].__standalone)return r[l];return null},remove:function(d){delete r[d.uid]}}}(),i.installTo(c.prototype),c}),t("lib/dnd",["base","mediator","runtime/client"],function(o,i,s){function c(r){r=this.options=a.extend({},c.options,r),r.container=a(r.container),r.container.length&&s.call(this,"DragAndDrop")}var a=o.$;return c.options={accept:null,disableGlobalDnd:!1},o.inherits(s,{constructor:c,init:function(){var r=this;r.connectRuntime(r.options,function(){r.exec("init"),r.trigger("ready")})}}),i.installTo(c.prototype),c}),t("widgets/widget",["base","uploader"],function(o,i){function s(f){if(!f)return!1;var p=f.length,m=a.type(f);return f.nodeType===1&&p?!0:m==="array"||m!=="function"&&m!=="string"&&(p===0||typeof p=="number"&&p>0&&p-1 in f)}function c(f){this.owner=f,this.options=f.options}var a=o.$,r=i.prototype._init,d=i.prototype.destroy,u={},l=[];return a.extend(c.prototype,{init:o.noop,invoke:function(f,p){var m=this.responseMap;return m&&f in m&&m[f]in this&&a.isFunction(this[m[f]])?this[m[f]].apply(this,p):u},request:function(){return this.owner.request.apply(this.owner,arguments)}}),a.extend(i.prototype,{_init:function(){var f=this,p=f._widgets=[],m=f.options.disableWidgets||"";return a.each(l,function(g,y){(!m||!~m.indexOf(y._name))&&p.push(new y(f))}),r.apply(f,arguments)},request:function(f,p,m){var g,y,w,b,T=0,M=this._widgets,N=M&&M.length,A=[],P=[];for(p=s(p)?p:[p];N>T;T++)g=M[T],y=g.invoke(f,p),y!==u&&(o.isPromise(y)?P.push(y):A.push(y));return m||P.length?(w=o.when.apply(o,P),b=w.pipe?"pipe":"then",w[b](function(){var B=o.Deferred(),E=arguments;return E.length===1&&(E=E[0]),setTimeout(function(){B.resolve(E)},1),B.promise()})[m?b:"done"](m||o.noop)):A[0]},destroy:function(){d.apply(this,arguments),this._widgets=null}}),i.register=c.register=function(f,p){var m,g={init:"init",destroy:"destroy",name:"anonymous"};return arguments.length===1?(p=f,a.each(p,function(y){return y[0]==="_"||y==="name"?void(y==="name"&&(g.name=p.name)):void(g[y.replace(/[A-Z]/g,"-$&").toLowerCase()]=y)})):g=a.extend(g,f),p.responseMap=g,m=o.inherits(c,p),m._name=g.name,l.push(m),m},i.unRegister=c.unRegister=function(f){if(f&&f!=="anonymous")for(var p=l.length;p--;)l[p]._name===f&&l.splice(p,1)},c}),t("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(o,i,s){var c=o.$;return i.options.dnd="",i.register({name:"dnd",init:function(a){if(a.dnd&&this.request("predict-runtime-type")==="html5"){var r,d=this,u=o.Deferred(),l=c.extend({},{disableGlobalDnd:a.disableGlobalDnd,container:a.dnd,accept:a.accept});return this.dnd=r=new s(l),r.once("ready",u.resolve),r.on("drop",function(f){d.request("add-file",[f])}),r.on("accept",function(f){return d.owner.trigger("dndAccept",f)}),r.init(),u.promise()}},destroy:function(){this.dnd&&this.dnd.destroy()}})}),t("lib/filepaste",["base","mediator","runtime/client"],function(o,i,s){function c(r){r=this.options=a.extend({},r),r.container=a(r.container||document.body),s.call(this,"FilePaste")}var a=o.$;return o.inherits(s,{constructor:c,init:function(){var r=this;r.connectRuntime(r.options,function(){r.exec("init"),r.trigger("ready")})}}),i.installTo(c.prototype),c}),t("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(o,i,s){var c=o.$;return i.register({name:"paste",init:function(a){if(a.paste&&this.request("predict-runtime-type")==="html5"){var r,d=this,u=o.Deferred(),l=c.extend({},{container:a.paste,accept:a.accept});return this.paste=r=new s(l),r.once("ready",u.resolve),r.on("paste",function(f){d.owner.request("add-file",[f])}),r.init(),u.promise()}},destroy:function(){this.paste&&this.paste.destroy()}})}),t("lib/blob",["base","runtime/client"],function(o,i){function s(c,a){var r=this;r.source=a,r.ruid=c,this.size=a.size||0,this.type=!a.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?"image/"+(this.ext==="jpg"?"jpeg":this.ext):a.type||"application/octet-stream",i.call(r,"Blob"),this.uid=a.uid||this.uid,c&&r.connectRuntime(c)}return o.inherits(i,{constructor:s,slice:function(c,a){return this.exec("slice",c,a)},getSource:function(){return this.source}}),s}),t("lib/file",["base","lib/blob"],function(o,i){function s(r,d){var u;this.name=d.name||"untitled"+c++,u=a.exec(d.name)?RegExp.$1.toLowerCase():"",!u&&d.type&&(u=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(d.type)?RegExp.$1.toLowerCase():"",this.name+="."+u),this.ext=u,this.lastModifiedDate=d.lastModifiedDate||d.lastModified&&new Date(d.lastModified).toLocaleString()||new Date().toLocaleString(),i.apply(this,arguments)}var c=1,a=/\.([^.]+)$/;return o.inherits(i,s)}),t("lib/filepicker",["base","runtime/client","lib/file"],function(o,i,s){function c(r){if(r=this.options=a.extend({},c.options,r),r.container=a(r.id),!r.container.length)throw new Error("\u6309\u94AE\u6307\u5B9A\u9519\u8BEF");r.innerHTML=r.innerHTML||r.label||r.container.html()||"",r.button=a(r.button||document.createElement("div")),r.button.html(r.innerHTML),r.container.html(r.button),i.call(this,"FilePicker",!0)}var a=o.$;return c.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file",style:"webuploader-pick"},o.inherits(i,{constructor:c,init:function(){var r=this,d=r.options,u=d.button,l=d.style;l&&u.addClass("webuploader-pick"),r.on("all",function(f){var p;switch(f){case"mouseenter":l&&u.addClass("webuploader-pick-hover");break;case"mouseleave":l&&u.removeClass("webuploader-pick-hover");break;case"change":p=r.exec("getFiles"),r.trigger("select",a.map(p,function(m){return m=new s(r.getRuid(),m),m._refer=d.container,m}),d.container)}}),r.connectRuntime(d,function(){r.refresh(),r.exec("init",d),r.trigger("ready")}),this._resizeHandler=o.bindFn(this.refresh,this),a(e).on("resize",this._resizeHandler)},refresh:function(){var r=this.getRuntime().getContainer(),d=this.options.button,u=d[0]&&d[0].offsetWidth||d.outerWidth()||d.width(),l=d[0]&&d[0].offsetHeight||d.outerHeight()||d.height(),f=d.offset();u&&l&&r.css({bottom:"auto",right:"auto",width:u+"px",height:l+"px"}).offset(f)},enable:function(){var r=this.options.button;r.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var r=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),r.addClass("webuploader-pick-disable")},destroy:function(){var r=this.options.button;a(e).off("resize",this._resizeHandler),r.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),c}),t("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(o,i,s){var c=o.$;return c.extend(i.options,{pick:null,accept:null}),i.register({name:"picker",init:function(a){return this.pickers=[],a.pick&&this.addBtn(a.pick)},refresh:function(){c.each(this.pickers,function(){this.refresh()})},addBtn:function(a){var r=this,d=r.options,u=d.accept,l=[];return a?(c.isPlainObject(a)||(a={id:a}),c(a.id).each(function(){var f,p,m;m=o.Deferred(),f=c.extend({},a,{accept:c.isPlainObject(u)?[u]:u,swf:d.swf,runtimeOrder:d.runtimeOrder,id:this}),p=new s(f),p.once("ready",m.resolve),p.on("select",function(g){r.owner.request("add-file",[g])}),p.on("dialogopen",function(){r.owner.trigger("dialogOpen",p.button)}),p.init(),r.pickers.push(p),l.push(m.promise())}),o.when.apply(o,l)):void 0},disable:function(){c.each(this.pickers,function(){this.disable()})},enable:function(){c.each(this.pickers,function(){this.enable()})},destroy:function(){c.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),t("lib/image",["base","runtime/client","lib/blob"],function(o,i,s){function c(r){this.options=a.extend({},c.options,r),i.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}var a=o.$;return c.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},o.inherits(i,{constructor:c,info:function(r){return r?(this._info=r,this):this._info},meta:function(r){return r?(this._meta=r,this):this._meta},loadFromBlob:function(r){var d=this,u=r.getRuid();this.connectRuntime(u,function(){d.exec("init",d.options),d.exec("loadFromBlob",r)})},resize:function(){var r=o.slice(arguments);return this.exec.apply(this,["resize"].concat(r))},crop:function(){var r=o.slice(arguments);return this.exec.apply(this,["crop"].concat(r))},getAsDataUrl:function(r){return this.exec("getAsDataUrl",r)},getAsBlob:function(r){var d=this.exec("getAsBlob",r);return new s(this.getRuid(),d)}}),c}),t("widgets/image",["base","uploader","lib/image","widgets/widget"],function(o,i,s){var c,a=o.$;return c=function(r){var d=0,u=[],l=function(){for(var f;u.length&&r>d;)f=u.shift(),d+=f[0],f[1]()};return function(f,p,m){u.push([p,m]),f.once("destroy",function(){d-=p,setTimeout(l,1)}),setTimeout(l,1)}}(5242880),a.extend(i.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),i.register({name:"image",makeThumb:function(r,d,u,l){var f,p;return r=this.request("get-file",r),r.type.match(/^image/)?(f=a.extend({},this.options.thumb),a.isPlainObject(u)&&(f=a.extend(f,u),u=null),u=u||f.width,l=l||f.height,p=new s(f),p.once("load",function(){r._info=r._info||p.info(),r._meta=r._meta||p.meta(),1>=u&&u>0&&(u=r._info.width*u),1>=l&&l>0&&(l=r._info.height*l),p.resize(u,l)}),p.once("complete",function(){d(!1,p.getAsDataUrl(f.type)),p.destroy()}),p.once("error",function(m){d(m||!0),p.destroy()}),void c(p,r.source.size,function(){r._info&&p.info(r._info),r._meta&&p.meta(r._meta),p.loadFromBlob(r.source)})):void d(!0)},beforeSendFile:function(r){var d,u,l=this.options.compress||this.options.resize,f=l&&l.compressSize||0,p=l&&l.noCompressIfLarger||!1;return r=this.request("get-file",r),!l||!~"image/jpeg,image/jpg".indexOf(r.type)||r.size<f||r._compressed?void 0:(l=a.extend({},l),u=o.Deferred(),d=new s(l),u.always(function(){d.destroy(),d=null}),d.once("error",u.reject),d.once("load",function(){var m=l.width,g=l.height;r._info=r._info||d.info(),r._meta=r._meta||d.meta(),1>=m&&m>0&&(m=r._info.width*m),1>=g&&g>0&&(g=r._info.height*g),d.resize(m,g)}),d.once("complete",function(){var m,g;try{m=d.getAsBlob(l.type),g=r.size,(!p||m.size<g)&&(r.source=m,r.size=m.size,r.trigger("resize",m.size,g)),r._compressed=!0,u.resolve()}catch{u.resolve()}}),r._info&&d.info(r._info),r._meta&&d.meta(r._meta),d.loadFromBlob(r.source),u.promise())}})}),t("file",["base","mediator"],function(o,i){function s(){return r+d++}function c(f){this.name=f.name||"Untitled",this.size=f.size||0,this.type=f.type||"application/octet-stream",this.lastModifiedDate=f.lastModifiedDate||1*new Date,this.id=s(),this.ext=u.exec(this.name)?RegExp.$1:"",this.statusText="",l[this.id]=c.Status.INITED,this.source=f,this.loaded=0,this.on("error",function(p){this.setStatus(c.Status.ERROR,p)})}var a=o.$,r="WU_FILE_",d=0,u=/\.([^.]+)$/,l={};return a.extend(c.prototype,{setStatus:function(f,p){var m=l[this.id];typeof p<"u"&&(this.statusText=p),f!==m&&(l[this.id]=f,this.trigger("statuschange",f,m))},getStatus:function(){return l[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete l[this.id]}}),i.installTo(c.prototype),c.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},c}),t("queue",["base","mediator","file"],function(o,i,s){function c(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numOfDeleted:0,numOfInterrupt:0},this._queue=[],this._map={}}var a=o.$,r=s.Status;return a.extend(c.prototype,{append:function(d){return this._queue.push(d),this._fileAdded(d),this},prepend:function(d){return this._queue.unshift(d),this._fileAdded(d),this},getFile:function(d){return typeof d!="string"?d:this._map[d]},fetch:function(d){var u,l,f=this._queue.length;for(d=d||r.QUEUED,u=0;f>u;u++)if(l=this._queue[u],d===l.getStatus())return l;return null},sort:function(d){typeof d=="function"&&this._queue.sort(d)},getFiles:function(){for(var d,u=[].slice.call(arguments,0),l=[],f=0,p=this._queue.length;p>f;f++)d=this._queue[f],(!u.length||~a.inArray(d.getStatus(),u))&&l.push(d);return l},removeFile:function(d){var u=this._map[d.id];u&&(delete this._map[d.id],this._delFile(d),d.destroy(),this.stats.numOfDeleted++)},_fileAdded:function(d){var u=this,l=this._map[d.id];l||(this._map[d.id]=d,d.on("statuschange",function(f,p){u._onFileStatusChange(f,p)}))},_delFile:function(d){for(var u=this._queue.length-1;u>=0;u--)if(this._queue[u]==d){this._queue.splice(u,1);break}},_onFileStatusChange:function(d,u){var l=this.stats;switch(u){case r.PROGRESS:l.numOfProgress--;break;case r.QUEUED:l.numOfQueue--;break;case r.ERROR:l.numOfUploadFailed--;break;case r.INVALID:l.numOfInvalid--;break;case r.INTERRUPT:l.numOfInterrupt--}switch(d){case r.QUEUED:l.numOfQueue++;break;case r.PROGRESS:l.numOfProgress++;break;case r.ERROR:l.numOfUploadFailed++;break;case r.COMPLETE:l.numOfSuccess++;break;case r.CANCELLED:l.numOfCancel++;break;case r.INVALID:l.numOfInvalid++;break;case r.INTERRUPT:l.numOfInterrupt++}}}),i.installTo(c.prototype),c}),t("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(o,i,s,c,a,r){var d=o.$,u=/\.\w+$/,l=c.Status;return i.register({name:"queue",init:function(f){var p,m,g,y,w,b,T,M=this;if(d.isPlainObject(f.accept)&&(f.accept=[f.accept]),f.accept){for(w=[],g=0,m=f.accept.length;m>g;g++)y=f.accept[g].extensions,y&&w.push(y);w.length&&(b="\\."+w.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),M.accept=new RegExp(b,"i")}return M.queue=new s,M.stats=M.queue.stats,this.request("predict-runtime-type")==="html5"?(p=o.Deferred(),this.placeholder=T=new r("Placeholder"),T.connectRuntime({runtimeOrder:"html5"},function(){M._ruid=T.getRuid(),p.resolve()}),p.promise()):void 0},_wrapFile:function(f){if(!(f instanceof c)){if(!(f instanceof a)){if(!this._ruid)throw new Error("Can't add external files.");f=new a(this._ruid,f)}f=new c(f)}return f},acceptFile:function(f){var p=!f||!f.size||this.accept&&u.exec(f.name)&&!this.accept.test(f.name);return!p},_addFile:function(f){var p=this;return f=p._wrapFile(f),p.owner.trigger("beforeFileQueued",f)?p.acceptFile(f)?(p.queue.append(f),p.owner.trigger("fileQueued",f),f):void p.owner.trigger("error","Q_TYPE_DENIED",f):void 0},getFile:function(f){return this.queue.getFile(f)},addFile:function(f){var p=this;f.length||(f=[f]),f=d.map(f,function(m){return p._addFile(m)}),f.length&&(p.owner.trigger("filesQueued",f),p.options.auto&&setTimeout(function(){p.request("start-upload")},20))},getStats:function(){return this.stats},removeFile:function(f,p){var m=this;f=f.id?f:m.queue.getFile(f),this.request("cancel-file",f),p&&this.queue.removeFile(f)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(f,p){var m,g,y,w=this;if(f)return f=f.id?f:w.queue.getFile(f),f.setStatus(l.QUEUED),void(p||w.request("start-upload"));for(m=w.queue.getFiles(l.ERROR),g=0,y=m.length;y>g;g++)f=m[g],f.setStatus(l.QUEUED);w.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new s,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),t("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(o,i){return o.support=function(){return i.hasRuntime.apply(i,arguments)},o.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var s,c,a=this.options.runtimeOrder||i.orders,r=this.type;if(!r){for(a=a.split(/\s*,\s*/g),s=0,c=a.length;c>s;s++)if(i.hasRuntime(a[s])){this.type=r=a[s];break}}return r}})}),t("lib/transport",["base","runtime/client","mediator"],function(o,i,s){function c(r){var d=this;r=d.options=a.extend(!0,{},c.options,r||{}),i.call(this,"Transport"),this._blob=null,this._formData=r.formData||{},this._headers=r.headers||{},this.on("progress",this._timeout),this.on("load error",function(){d.trigger("progress",1),clearTimeout(d._timer)})}var a=o.$;return c.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:12e4,formData:{},headers:{},sendAsBinary:!1},a.extend(c.prototype,{appendBlob:function(r,d,u){var l=this,f=l.options;l.getRuid()&&l.disconnectRuntime(),l.connectRuntime(d.ruid,function(){l.exec("init")}),l._blob=d,f.fileVal=r||f.fileVal,f.filename=u||f.filename},append:function(r,d){typeof r=="object"?a.extend(this._formData,r):this._formData[r]=d},setRequestHeader:function(r,d){typeof r=="object"?a.extend(this._headers,r):this._headers[r]=d},send:function(r){this.exec("send",r),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponseHeaders:function(){return this.exec("getResponseHeaders")},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var r=this,d=r.options.timeout;d&&(clearTimeout(r._timer),r._timer=setTimeout(function(){r.abort(),r.trigger("error","timeout")},d))}}),s.installTo(c.prototype),c}),t("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(o,i,s,c){function a(l,f){var p,m,g=[],y=l.source,w=y.size,b=f?Math.ceil(w/f):1,T=0,M=0;for(m={file:l,has:function(){return!!g.length},shift:function(){return g.shift()},unshift:function(N){g.unshift(N)}};b>M;)p=Math.min(f,w-T),g.push({file:l,start:T,end:f?T+p:w,total:w,chunks:b,chunk:M++,cuted:m}),T+=p;return l.blocks=g.concat(),l.remaning=g.length,m}var r=o.$,d=o.isPromise,u=s.Status;r.extend(i.options,{prepareNextFile:!1,chunked:!1,chunkSize:5242880,chunkRetry:2,chunkRetryDelay:1e3,threads:3,formData:{}}),i.register({name:"upload",init:function(){var l=this.owner,f=this;this.runing=!1,this.progress=!1,l.on("startUpload",function(){f.progress=!0}).on("uploadFinished",function(){f.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=o.bindFn(this._tick,this),l.on("uploadComplete",function(p){p.blocks&&r.each(p.blocks,function(m,g){g.transport&&(g.transport.abort(),g.transport.destroy()),delete g.transport}),delete p.blocks,delete p.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(l){var f=this;if(r.each(f.request("get-files",u.INVALID),function(){f.request("remove-file",this)}),l?(l=l.id?l:f.request("get-file",l),l.getStatus()===u.INTERRUPT?(l.setStatus(u.QUEUED),r.each(f.pool,function(m,g){g.file===l&&(g.transport&&g.transport.send(),l.setStatus(u.PROGRESS))})):l.getStatus()!==u.PROGRESS&&l.setStatus(u.QUEUED)):r.each(f.request("get-files",[u.INITED]),function(){this.setStatus(u.QUEUED)}),f.runing)return f.owner.trigger("startUpload",l),o.nextTick(f.__tick);f.runing=!0;var p=[];l||r.each(f.pool,function(m,g){var y=g.file;if(y.getStatus()===u.INTERRUPT){if(f._trigged=!1,p.push(y),g.waiting)return;g.transport?g.transport.send():f._doSend(g)}}),r.each(p,function(){this.setStatus(u.PROGRESS)}),l||r.each(f.request("get-files",u.INTERRUPT),function(){this.setStatus(u.PROGRESS)}),f._trigged=!1,o.nextTick(f.__tick),f.owner.trigger("startUpload")},stopUpload:function(l,f){var p=this;if(l===!0&&(f=l,l=null),p.runing!==!1){if(l)return l=l.id?l:p.request("get-file",l),l.getStatus()!==u.PROGRESS&&l.getStatus()!==u.QUEUED?void 0:(l.setStatus(u.INTERRUPT),r.each(p.pool,function(m,g){g.file===l&&(g.transport&&g.transport.abort(),f&&(p._putback(g),p._popBlock(g)))}),p.owner.trigger("stopUpload",l),o.nextTick(p.__tick));p.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(u.INTERRUPT),f&&r.each(p.pool,function(m,g){g.transport&&g.transport.abort(),g.file.setStatus(u.INTERRUPT)}),p.owner.trigger("stopUpload")}},cancelFile:function(l){l=l.id?l:this.request("get-file",l),l.blocks&&r.each(l.blocks,function(f,p){var m=p.transport;m&&(m.abort(),m.destroy(),delete p.transport)}),l.setStatus(u.CANCELLED),this.owner.trigger("fileDequeued",l)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(l,f){l=l.id?l:this.request("get-file",l),l.setStatus(f||u.COMPLETE),l.skipped=!0,l.blocks&&r.each(l.blocks,function(p,m){var g=m.transport;g&&(g.abort(),g.destroy(),delete m.transport)}),this.owner.trigger("uploadSkip",l)},_tick:function(){var l,f,p=this,m=p.options;return p._promise?p._promise.always(p.__tick):void(p.pool.length<m.threads&&(f=p._nextBlock())?(p._trigged=!1,l=function(g){p._promise=null,g&&g.file&&p._startSend(g),o.nextTick(p.__tick)},p._promise=d(f)?f.always(l):l(f)):p.remaning||p._getStats().numOfQueue||p._getStats().numOfInterrupt||(p.runing=!1,p._trigged||o.nextTick(function(){p.owner.trigger("uploadFinished")}),p._trigged=!0))},_putback:function(l){var f;l.cuted.unshift(l),f=this.stack.indexOf(l.cuted),~f||(this.remaning++,l.file.remaning++,this.stack.unshift(l.cuted))},_getStack:function(){for(var l,f=0;l=this.stack[f++];){if(l.has()&&l.file.getStatus()===u.PROGRESS)return l;(!l.has()||l.file.getStatus()!==u.PROGRESS&&l.file.getStatus()!==u.INTERRUPT)&&this.stack.splice(--f,1)}return null},_nextBlock:function(){var l,f,p,m,g=this,y=g.options;return(l=this._getStack())?(y.prepareNextFile&&!g.pending.length&&g._prepareNextFile(),l.shift()):g.runing?(!g.pending.length&&g._getStats().numOfQueue&&g._prepareNextFile(),f=g.pending.shift(),p=function(w){return w?(l=a(w,y.chunked?y.chunkSize:0),g.stack.push(l),l.shift()):null},d(f)?(m=f.file,f=f[f.pipe?"pipe":"then"](p),f.file=m,f):p(f)):void 0},_prepareNextFile:function(){var l,f=this,p=f.request("fetch-file"),m=f.pending;p&&(l=f.request("before-send-file",p,function(){return p.getStatus()===u.PROGRESS||p.getStatus()===u.INTERRUPT?p:f._finishFile(p)}),f.owner.trigger("uploadStart",p),p.setStatus(u.PROGRESS),l.file=p,l.done(function(){var g=r.inArray(l,m);~g&&m.splice(g,1,p)}),l.fail(function(g){p.setStatus(u.ERROR,g),f.owner.trigger("uploadError",p,g),f.owner.trigger("uploadComplete",p)}),m.push(l))},_popBlock:function(l){var f=r.inArray(l,this.pool);this.pool.splice(f,1),l.file.remaning--,this.remaning--},_startSend:function(l){var f,p=this,m=l.file;return m.getStatus()!==u.PROGRESS?void(m.getStatus()===u.INTERRUPT&&p._putback(l)):(p.pool.push(l),p.remaning++,l.blob=l.chunks===1?m.source:m.source.slice(l.start,l.end),l.waiting=f=p.request("before-send",l,function(){delete l.waiting,m.getStatus()===u.PROGRESS?p._doSend(l):l.file.getStatus()!==u.INTERRUPT&&p._popBlock(l),o.nextTick(p.__tick)}),void f.fail(function(){delete l.waiting,m.remaning===1?p._finishFile(m).always(function(){l.percentage=1,p._popBlock(l),p.owner.trigger("uploadComplete",m),o.nextTick(p.__tick)}):(l.percentage=1,p.updateFileProgress(m),p._popBlock(l),o.nextTick(p.__tick))}))},_doSend:function(l){var f,p,m=this,g=m.owner,y=r.extend({},m.options,l.options),w=l.file,b=new c(y),T=r.extend({},y.formData),M=r.extend({},y.headers);l.transport=b,b.on("destroy",function(){delete l.transport,m._popBlock(l),o.nextTick(m.__tick)}),b.on("progress",function(N){l.percentage=N,m.updateFileProgress(w)}),f=function(N){var A;return p=b.getResponseAsJson()||{},p._raw=b.getResponse(),p._headers=b.getResponseHeaders(),l.response=p,A=function(P){N=P},g.trigger("uploadAccept",l,p,A)||(N=N||"server"),N},b.on("error",function(N,A){var P,B,E=N.split("|");N=E[0],P=parseFloat(E[1]),B=E[2],l.retried=l.retried||0,l.chunks>1&&~"http,abort,server".indexOf(N.replace(/-.*/,""))&&l.retried<y.chunkRetry?(l.retried++,m.retryTimer=setTimeout(function(){b.send()},y.chunkRetryDelay||1e3)):(A||N!=="server"||(N=f(N)),w.setStatus(u.ERROR,N),g.trigger("uploadError",w,N,P,B),g.trigger("uploadComplete",w))}),b.on("load",function(){var N;return(N=f())?void b.trigger("error",N,!0):void(w.remaning===1?m._finishFile(w,p):b.destroy())}),T=r.extend(T,{id:w.id,name:w.name,type:w.type,lastModifiedDate:w.lastModifiedDate,size:w.size}),l.chunks>1&&r.extend(T,{chunks:l.chunks,chunk:l.chunk}),g.trigger("uploadBeforeSend",l,T,M),b.appendBlob(y.fileVal,l.blob,w.name),b.append(T),b.setRequestHeader(M),b.send()},_finishFile:function(l,f,p){var m=this.owner;return m.request("after-send-file",arguments,function(){l.setStatus(u.COMPLETE),m.trigger("uploadSuccess",l,f,p)}).fail(function(g){l.getStatus()===u.PROGRESS&&l.setStatus(u.ERROR,g),m.trigger("uploadError",l,g)}).always(function(){m.trigger("uploadComplete",l)})},updateFileProgress:function(l){var f=0,p=0;l.blocks&&(r.each(l.blocks,function(m,g){p+=(g.percentage||0)*(g.end-g.start)}),f=p/l.size,this.owner.trigger("uploadProgress",l,f||0))},destroy:function(){clearTimeout(this.retryTimer)}})}),t("widgets/validator",["base","uploader","file","widgets/widget"],function(o,i,s){var c,a=o.$,r={};return c={addValidator:function(d,u){r[d]=u},removeValidator:function(d){delete r[d]}},i.register({name:"validator",init:function(){var d=this;o.nextTick(function(){a.each(r,function(){this.call(d.owner)})})}}),c.addValidator("fileNumLimit",function(){var d=this,u=d.options,l=0,f=parseInt(u.fileNumLimit,10),p=!0;f&&(d.on("beforeFileQueued",function(m){return this.trigger("beforeFileQueuedCheckfileNumLimit",m,l)?(l>=f&&p&&(p=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",f,m),setTimeout(function(){p=!0},1)),!(l>=f)):!1}),d.on("fileQueued",function(){l++}),d.on("fileDequeued",function(){l--}),d.on("reset",function(){l=0}))}),c.addValidator("fileSizeLimit",function(){var d=this,u=d.options,l=0,f=parseInt(u.fileSizeLimit,10),p=!0;f&&(d.on("beforeFileQueued",function(m){var g=l+m.size>f;return g&&p&&(p=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",f,m),setTimeout(function(){p=!0},1)),!g}),d.on("fileQueued",function(m){l+=m.size}),d.on("fileDequeued",function(m){l-=m.size}),d.on("reset",function(){l=0}))}),c.addValidator("fileSingleSizeLimit",function(){var d=this,u=d.options,l=u.fileSingleSizeLimit;l&&d.on("beforeFileQueued",function(f){return f.size>l?(f.setStatus(s.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",l,f),!1):void 0})}),c.addValidator("duplicate",function(){function d(p){for(var m,g=0,y=0,w=p.length;w>y;y++)m=p.charCodeAt(y),g=m+(g<<6)+(g<<16)-g;return g}var u=this,l=u.options,f={};l.duplicate||(u.on("beforeFileQueued",function(p){var m=p.__hash||(p.__hash=d(p.name+p.size+p.lastModifiedDate));return f[m]?(this.trigger("error","F_DUPLICATE",p),!1):void 0}),u.on("fileQueued",function(p){var m=p.__hash;m&&(f[m]=!0)}),u.on("fileDequeued",function(p){var m=p.__hash;m&&delete f[m]}),u.on("reset",function(){f={}}))}),c}),t("runtime/compbase",[],function(){function o(i,s){this.owner=i,this.options=i.options,this.getRuntime=function(){return s},this.getRuid=function(){return s.uid},this.trigger=function(){return i.trigger.apply(i,arguments)}}return o}),t("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(o,i,s){function c(){var d={},u=this,l=this.destroy;i.apply(u,arguments),u.type=a,u.exec=function(f,p){var m,g=this,y=g.uid,w=o.slice(arguments,2);return r[f]&&(m=d[y]=d[y]||new r[f](g,u),m[p])?m[p].apply(m,w):void 0},u.destroy=function(){return l&&l.apply(this,arguments)}}var a="html5",r={};return o.inherits(i,{constructor:c,init:function(){var d=this;setTimeout(function(){d.trigger("ready")},1)}}),c.register=function(d,u){var l=r[d]=o.inherits(s,u);return l},e.Blob&&e.FileReader&&e.DataView&&i.addRuntime(a,c),c}),t("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(o,i){return o.register("Blob",{slice:function(s,c){var a=this.owner.source,r=a.slice||a.webkitSlice||a.mozSlice;return a=r.call(a,s,c),new i(this.getRuid(),a)}})}),t("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(o,i,s){var c=o.$,a="webuploader-dnd-";return i.register("DragAndDrop",{init:function(){var r=this.elem=this.options.container;this.dragEnterHandler=o.bindFn(this._dragEnterHandler,this),this.dragOverHandler=o.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=o.bindFn(this._dragLeaveHandler,this),this.dropHandler=o.bindFn(this._dropHandler,this),this.dndOver=!1,r.on("dragenter",this.dragEnterHandler),r.on("dragover",this.dragOverHandler),r.on("dragleave",this.dragLeaveHandler),r.on("drop",this.dropHandler),this.options.disableGlobalDnd&&(c(document).on("dragover",this.dragOverHandler),c(document).on("drop",this.dropHandler))},_dragEnterHandler:function(r){var d,u=this,l=u._denied||!1;return r=r.originalEvent||r,u.dndOver||(u.dndOver=!0,d=r.dataTransfer.items,d&&d.length&&(u._denied=l=!u.trigger("accept",d)),u.elem.addClass(a+"over"),u.elem[l?"addClass":"removeClass"](a+"denied")),r.dataTransfer.dropEffect=l?"none":"copy",!1},_dragOverHandler:function(r){var d=this.elem.parent().get(0);return d&&!c.contains(d,r.currentTarget)||(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,r)),!1},_dragLeaveHandler:function(){var r,d=this;return r=function(){d.dndOver=!1,d.elem.removeClass(a+"over "+a+"denied")},clearTimeout(d._leaveTimer),d._leaveTimer=setTimeout(r,100),!1},_dropHandler:function(r){var d,u,l=this,f=l.getRuid(),p=l.elem.parent().get(0);if(p&&!c.contains(p,r.currentTarget))return!1;r=r.originalEvent||r,d=r.dataTransfer;try{u=d.getData("text/html")}catch{}return l.dndOver=!1,l.elem.removeClass(a+"over"),d&&!u?(l._getTansferFiles(d,function(m){l.trigger("drop",c.map(m,function(g){return new s(f,g)}))}),!1):void 0},_getTansferFiles:function(r,d){var u,l,f,p,m,g,y,w=[],b=[];for(u=r.items,l=r.files,y=!(!u||!u[0].webkitGetAsEntry),m=0,g=l.length;g>m;m++)f=l[m],p=u&&u[m],y&&p.webkitGetAsEntry().isDirectory?b.push(this._traverseDirectoryTree(p.webkitGetAsEntry(),w)):w.push(f);o.when.apply(o,b).done(function(){w.length&&d(w)})},_traverseDirectoryTree:function(r,d){var u=o.Deferred(),l=this;return r.isFile?r.file(function(f){d.push(f),u.resolve()}):r.isDirectory&&r.createReader().readEntries(function(f){var p,m=f.length,g=[],y=[];for(p=0;m>p;p++)g.push(l._traverseDirectoryTree(f[p],y));o.when.apply(o,g).then(function(){d.push.apply(d,y),u.resolve()},u.reject)}),u.promise()},destroy:function(){var r=this.elem;r&&(r.off("dragenter",this.dragEnterHandler),r.off("dragover",this.dragOverHandler),r.off("dragleave",this.dragLeaveHandler),r.off("drop",this.dropHandler),this.options.disableGlobalDnd&&(c(document).off("dragover",this.dragOverHandler),c(document).off("drop",this.dropHandler)))}})}),t("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(o,i,s){return i.register("FilePaste",{init:function(){var c,a,r,d,u=this.options,l=this.elem=u.container,f=".*";if(u.accept){for(c=[],a=0,r=u.accept.length;r>a;a++)d=u.accept[a].mimeTypes,d&&c.push(d);c.length&&(f=c.join(","),f=f.replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=f=new RegExp(f,"i"),this.hander=o.bindFn(this._pasteHander,this),l.on("paste",this.hander)},_pasteHander:function(c){var a,r,d,u,l,f=[],p=this.getRuid();for(c=c.originalEvent||c,a=c.clipboardData.items,u=0,l=a.length;l>u;u++)r=a[u],r.kind==="file"&&(d=r.getAsFile())&&f.push(new s(p,d));f.length&&(c.preventDefault(),c.stopPropagation(),this.trigger("paste",f))},destroy:function(){this.elem.off("paste",this.hander)}})}),t("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(o,i){var s=o.$;return i.register("FilePicker",{init:function(){var c,a,r,d,u,l=this.getRuntime().getContainer(),f=this,p=f.owner,m=f.options,g=this.label=s(document.createElement("label")),y=this.input=s(document.createElement("input"));if(y.attr("type","file"),y.attr("capture","camera"),y.attr("name",m.name),y.addClass("webuploader-element-invisible"),g.on("click",function(w){y.trigger("click"),w.stopPropagation(),p.trigger("dialogopen")}),g.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),m.multiple&&y.attr("multiple","multiple"),m.accept&&m.accept.length>0){for(c=[],a=0,r=m.accept.length;r>a;a++)c.push(m.accept[a].mimeTypes);y.attr("accept",c.join(","))}l.append(y),l.append(g),d=function(w){p.trigger(w.type)},u=function(w){var b;return w.target.files.length===0?!1:(f.files=w.target.files,b=this.cloneNode(!0),b.value=null,this.parentNode.replaceChild(b,this),y.off(),y=s(b).on("change",u).on("mouseenter mouseleave",d),void p.trigger("change"))},y.on("change",u),g.on("mouseenter mouseleave",d)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),t("runtime/html5/util",["base"],function(o){var i=e.createObjectURL&&e||e.URL&&URL.revokeObjectURL&&URL||e.webkitURL,s=o.noop,c=s;return i&&(s=function(){return i.createObjectURL.apply(i,arguments)},c=function(){return i.revokeObjectURL.apply(i,arguments)}),{createObjectURL:s,revokeObjectURL:c,dataURL2Blob:function(a){var r,d,u,l,f,p;for(p=a.split(","),r=~p[0].indexOf("base64")?atob(p[1]):decodeURIComponent(p[1]),u=new ArrayBuffer(r.length),d=new Uint8Array(u),l=0;l<r.length;l++)d[l]=r.charCodeAt(l);return f=p[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(u,f)},dataURL2ArrayBuffer:function(a){var r,d,u,l;for(l=a.split(","),r=~l[0].indexOf("base64")?atob(l[1]):decodeURIComponent(l[1]),d=new Uint8Array(r.length),u=0;u<r.length;u++)d[u]=r.charCodeAt(u);return d.buffer},arrayBufferToBlob:function(a,r){var d,u=e.BlobBuilder||e.WebKitBlobBuilder;return u?(d=new u,d.append(a),d.getBlob(r)):new Blob([a],r?{type:r}:{})},canvasToDataUrl:function(a,r,d){return a.toDataURL(r,d/100)},parseMeta:function(a,r){r(!1,{})},updateImageHead:function(a){return a}}}),t("runtime/html5/imagemeta",["runtime/html5/util"],function(o){var i;return i={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(s,c){var a=this,r=new FileReader;r.onload=function(){c(!1,a._parse(this.result)),r=r.onload=r.onerror=null},r.onerror=function(d){c(d.message),r=r.onload=r.onerror=null},s=s.slice(0,a.maxMetaDataSize),r.readAsArrayBuffer(s.getSource())},_parse:function(s,c){if(!(s.byteLength<6)){var a,r,d,u,l=new DataView(s),f=2,p=l.byteLength-4,m=f,g={};if(l.getUint16(0)===65496){for(;p>f&&(a=l.getUint16(f),a>=65504&&65519>=a||a===65534)&&(r=l.getUint16(f+2)+2,!(f+r>l.byteLength));){if(d=i.parsers[a],!c&&d)for(u=0;u<d.length;u+=1)d[u].call(i,l,f,r,g);f+=r,m=f}m>6&&(g.imageHead=s.slice?s.slice(2,m):new Uint8Array(s).subarray(2,m))}return g}},updateImageHead:function(s,c){var a,r,d,u=this._parse(s,!0);return d=2,u.imageHead&&(d=2+u.imageHead.byteLength),r=s.slice?s.slice(d):new Uint8Array(s).subarray(d),a=new Uint8Array(c.byteLength+2+r.byteLength),a[0]=255,a[1]=216,a.set(new Uint8Array(c),2),a.set(new Uint8Array(r),c.byteLength+2),a.buffer}},o.parseMeta=function(){return i.parse.apply(i,arguments)},o.updateImageHead=function(){return i.updateImageHead.apply(i,arguments)},i}),t("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(o,i){var s={};return s.ExifMap=function(){return this},s.ExifMap.prototype.map={Orientation:274},s.ExifMap.prototype.get=function(c){return this[c]||this[this.map[c]]},s.exifTagTypes={1:{getValue:function(c,a){return c.getUint8(a)},size:1},2:{getValue:function(c,a){return String.fromCharCode(c.getUint8(a))},size:1,ascii:!0},3:{getValue:function(c,a,r){return c.getUint16(a,r)},size:2},4:{getValue:function(c,a,r){return c.getUint32(a,r)},size:4},5:{getValue:function(c,a,r){return c.getUint32(a,r)/c.getUint32(a+4,r)},size:8},9:{getValue:function(c,a,r){return c.getInt32(a,r)},size:4},10:{getValue:function(c,a,r){return c.getInt32(a,r)/c.getInt32(a+4,r)},size:8}},s.exifTagTypes[7]=s.exifTagTypes[1],s.getExifValue=function(c,a,r,d,u,l){var f,p,m,g,y,w,b=s.exifTagTypes[d];if(!b)return void o.log("Invalid Exif data: Invalid tag type.");if(f=b.size*u,p=f>4?a+c.getUint32(r+8,l):r+8,p+f>c.byteLength)return void o.log("Invalid Exif data: Invalid data offset.");if(u===1)return b.getValue(c,p,l);for(m=[],g=0;u>g;g+=1)m[g]=b.getValue(c,p+g*b.size,l);if(b.ascii){for(y="",g=0;g<m.length&&(w=m[g],w!=="\0");g+=1)y+=w;return y}return m},s.parseExifTag=function(c,a,r,d,u){var l=c.getUint16(r,d);u.exif[l]=s.getExifValue(c,a,r,c.getUint16(r+2,d),c.getUint32(r+4,d),d)},s.parseExifTags=function(c,a,r,d,u){var l,f,p;if(r+6>c.byteLength)return void o.log("Invalid Exif data: Invalid directory offset.");if(l=c.getUint16(r,d),f=r+2+12*l,f+4>c.byteLength)return void o.log("Invalid Exif data: Invalid directory size.");for(p=0;l>p;p+=1)this.parseExifTag(c,a,r+2+12*p,d,u);return c.getUint32(f,d)},s.parseExifData=function(c,a,r,d){var u,l,f=a+10;if(c.getUint32(a+4)===1165519206){if(f+8>c.byteLength)return void o.log("Invalid Exif data: Invalid segment size.");if(c.getUint16(a+8)!==0)return void o.log("Invalid Exif data: Missing byte alignment offset.");switch(c.getUint16(f)){case 18761:u=!0;break;case 19789:u=!1;break;default:return void o.log("Invalid Exif data: Invalid byte alignment marker.")}if(c.getUint16(f+2,u)!==42)return void o.log("Invalid Exif data: Missing TIFF marker.");l=c.getUint32(f+4,u),d.exif=new s.ExifMap,l=s.parseExifTags(c,f,f+l,u,d)}},i.parsers[65505].push(s.parseExifData),s}),t("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(o,i,s){var c="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D";return i.register("Image",{modified:!1,init:function(){var a=this,r=new Image;r.onload=function(){a._info={type:a.type,width:this.width,height:this.height},a._metas||a.type!=="image/jpeg"?a.owner.trigger("load"):s.parseMeta(a._blob,function(d,u){a._metas=u,a.owner.trigger("load")})},r.onerror=function(){a.owner.trigger("error")},a._img=r},loadFromBlob:function(a){var r=this,d=r._img;r._blob=a,r.type=a.type,d.src=s.createObjectURL(a.getSource()),r.owner.once("load",function(){s.revokeObjectURL(d.src)})},resize:function(a,r){var d=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,d,a,r),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(a,r,d,u,l){var f=this._canvas||(this._canvas=document.createElement("canvas")),p=this.options,m=this._img,g=m.naturalWidth,y=m.naturalHeight,w=this.getOrientation();l=l||1,f.width=d,f.height=u,p.preserveHeaders||this._rotate2Orientaion(f,w),this._renderImageToCanvas(f,m,-a,-r,g*l,y*l),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(a){var r,d=this._blob,u=this.options;if(a=a||this.type,this.modified||this.type!==a){if(r=this._canvas,a==="image/jpeg"){if(d=s.canvasToDataUrl(r,a,u.quality),u.preserveHeaders&&this._metas&&this._metas.imageHead)return d=s.dataURL2ArrayBuffer(d),d=s.updateImageHead(d,this._metas.imageHead),d=s.arrayBufferToBlob(d,a)}else d=s.canvasToDataUrl(r,a);d=s.dataURL2Blob(d)}return d},getAsDataUrl:function(a){var r=this.options;return a=a||this.type,a==="image/jpeg"?s.canvasToDataUrl(this._canvas,a,r.quality):this._canvas.toDataURL(a)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(a){return a?(this._info=a,this):this._info},meta:function(a){return a?(this._metas=a,this):this._metas},destroy:function(){var a=this._canvas;this._img.onload=null,a&&(a.getContext("2d").clearRect(0,0,a.width,a.height),a.width=a.height=0,this._canvas=null),this._img.src=c,this._img=this._blob=null},_resize:function(a,r,d,u){var l,f,p,m,g,y=this.options,w=a.width,b=a.height,T=this.getOrientation();~[5,6,7,8].indexOf(T)&&(d^=u,u^=d,d^=u),l=Math[y.crop?"max":"min"](d/w,u/b),y.allowMagnify||(l=Math.min(1,l)),f=w*l,p=b*l,y.crop?(r.width=d,r.height=u):(r.width=f,r.height=p),m=(r.width-f)/2,g=(r.height-p)/2,y.preserveHeaders||this._rotate2Orientaion(r,T),this._renderImageToCanvas(r,a,m,g,f,p)},_rotate2Orientaion:function(a,r){var d=a.width,u=a.height,l=a.getContext("2d");switch(r){case 5:case 6:case 7:case 8:a.width=u,a.height=d}switch(r){case 2:l.translate(d,0),l.scale(-1,1);break;case 3:l.translate(d,u),l.rotate(Math.PI);break;case 4:l.translate(0,u),l.scale(1,-1);break;case 5:l.rotate(.5*Math.PI),l.scale(1,-1);break;case 6:l.rotate(.5*Math.PI),l.translate(0,-u);break;case 7:l.rotate(.5*Math.PI),l.translate(d,-u),l.scale(-1,1);break;case 8:l.rotate(-.5*Math.PI),l.translate(-d,0)}},_renderImageToCanvas:function(){function a(d,u,l){var f,p,m,g=document.createElement("canvas"),y=g.getContext("2d"),w=0,b=l,T=l;for(g.width=1,g.height=l,y.drawImage(d,0,0),f=y.getImageData(0,0,1,l).data;T>w;)p=f[4*(T-1)+3],p===0?b=T:w=T,T=b+w>>1;return m=T/l,m===0?1:m}function r(d){var u,l,f=d.naturalWidth,p=d.naturalHeight;return f*p>1048576?(u=document.createElement("canvas"),u.width=u.height=1,l=u.getContext("2d"),l.drawImage(d,-f+1,0),l.getImageData(0,0,1,1).data[3]===0):!1}return o.os.ios?o.os.ios>=7?function(d,u,l,f,p,m){var g=u.naturalWidth,y=u.naturalHeight,w=a(u,g,y);return d.getContext("2d").drawImage(u,0,0,g*w,y*w,l,f,p,m)}:function(d,u,l,f,p,m){var g,y,w,b,T,M,N,A=u.naturalWidth,P=u.naturalHeight,B=d.getContext("2d"),E=r(u),_=this.type==="image/jpeg",x=1024,C=0,D=0;for(E&&(A/=2,P/=2),B.save(),g=document.createElement("canvas"),g.width=g.height=x,y=g.getContext("2d"),w=_?a(u,A,P):1,b=Math.ceil(x*p/A),T=Math.ceil(x*m/P/w);P>C;){for(M=0,N=0;A>M;)y.clearRect(0,0,x,x),y.drawImage(u,-M,-C),B.drawImage(g,0,0,x,x,l+N,f+D,b,T),M+=x,N+=b;C+=x,D+=T}B.restore(),g=y=null}:function(d){var u=o.slice(arguments,1),l=d.getContext("2d");l.drawImage.apply(l,u)}}()})}),t("runtime/html5/transport",["base","runtime/html5/runtime"],function(o,i){var s=o.noop,c=o.$;return i.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var a,r,d,u=this.owner,l=this.options,f=this._initAjax(),p=u._blob,m=l.server;l.sendAsBinary?(m+=l.attachInfoToQuery!==!1?(/\?/.test(m)?"&":"?")+c.param(u._formData):"",r=p.getSource()):(a=new FormData,c.each(u._formData,function(g,y){a.append(g,y)}),a.append(l.fileVal,p.getSource(),l.filename||u._formData.name||"")),l.withCredentials&&"withCredentials"in f?(f.open(l.method,m,!0),f.withCredentials=!0):f.open(l.method,m),this._setRequestHeader(f,l.headers),r?(f.overrideMimeType&&f.overrideMimeType("application/octet-stream"),o.os.android?(d=new FileReader,d.onload=function(){f.send(this.result),d=d.onload=null},d.readAsArrayBuffer(r)):f.send(r)):f.send(a)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getResponseHeaders:function(){return this._headers},getStatus:function(){return this._status},abort:function(){var a=this._xhr;a&&(a.upload.onprogress=s,a.onreadystatechange=s,a.abort(),this._xhr=a=null)},destroy:function(){this.abort()},_parseHeader:function(a){var r={};return a&&a.replace(/^([^\:]+):(.*)$/gm,function(d,u,l){r[u.trim()]=l.trim()}),r},_initAjax:function(){var a=this,r=new XMLHttpRequest,d=this.options;return!d.withCredentials||"withCredentials"in r||typeof XDomainRequest>"u"||(r=new XDomainRequest),r.upload.onprogress=function(u){var l=0;return u.lengthComputable&&(l=u.loaded/u.total),a.trigger("progress",l)},r.onreadystatechange=function(){if(r.readyState===4){r.upload.onprogress=s,r.onreadystatechange=s,a._xhr=null,a._status=r.status;var u="|",l=u+r.status+u+r.statusText;return r.status>=200&&r.status<300?(a._response=r.responseText,a._headers=a._parseHeader(r.getAllResponseHeaders()),a.trigger("load")):r.status>=500&&r.status<600?(a._response=r.responseText,a._headers=a._parseHeader(r.getAllResponseHeaders()),a.trigger("error","server"+l)):a.trigger("error",a._status?"http"+l:"abort")}},a._xhr=r,r},_setRequestHeader:function(a,r){c.each(r,function(d,u){a.setRequestHeader(d,u)})},_parseJson:function(a){var r;try{r=JSON.parse(a)}catch{r={}}return r}})}),t("preset/html5only",["base","widgets/filednd","widgets/filepaste","widgets/filepicker","widgets/image","widgets/queue","widgets/runtime","widgets/upload","widgets/validator","runtime/html5/blob","runtime/html5/dnd","runtime/html5/filepaste","runtime/html5/filepicker","runtime/html5/imagemeta/exif","runtime/html5/image","runtime/html5/transport"],function(o){return o}),t("webuploader",["preset/html5only"],function(o){return o}),n("webuploader")}),window.console||(window.console={}),console.log||(console.log=function(){});var _t="4.4.13 (2023-04-11)",be=navigator.userAgent.toLowerCase(),Y=be.indexOf("msie")>-1&&be.indexOf("opera")==-1,_i=be.indexOf("msie")==-1&&be.indexOf("trident")>-1,Oe=be.indexOf("gecko")>-1&&be.indexOf("khtml")==-1,Ue=be.indexOf("applewebkit")>-1,Zt=be.indexOf("opera")>-1,Si=be.indexOf("mobile")>-1,Ei=/ipad|iphone|ipod/.test(be),Ie=document.compatMode!="CSS1Compat",we=!window.getSelection,Ln=/(?:msie|firefox|webkit|opera)[\/:\s](\d+)/.exec(be),ce=Ln?Ln[1]:"0",St=new Date().getTime(),Ae=Math.round,v={DEBUG:!1,VERSION:_t,IE:Y,GECKO:Oe,WEBKIT:Ue,OPERA:Zt,V:ce,TIME:St,each:z,isArray:ee,isFunction:ie,inArray:me,inString:Ye,trim:te,addUnit:J,removeUnit:Z,escape:se,unescape:Ze,toCamel:Xe,toHex:vt,toMap:re,toArray:At,undef:V,invalidUrl:Yn,addParam:Zn,extend:ge,json:nn},Fn=re("a,abbr,acronym,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,img,input,ins,kbd,label,map,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),Bn=re("address,applet,blockquote,body,center,dd,dir,div,dl,dt,fieldset,form,frameset,h1,h2,h3,h4,h5,h6,head,hr,html,iframe,ins,isindex,li,map,menu,meta,noframes,noscript,object,ol,p,pre,script,style,table,tbody,td,tfoot,th,thead,title,tr,ul,audio,video"),On=re("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),Un=re("b,basefont,big,del,em,font,i,s,small,span,strike,strong,sub,sup,u"),Di=re("img,table,input,textarea,button,audio,video"),Xt=re("pre,style,script"),Et=re("html,head,body,td,tr,table,ol,ul,li"),Mi=(re("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),re("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected")),Ni=re("input,button,textarea,select");v.basePath=Xn(),v.Tools={All:["source","|","undo","redo","removeformat","clearhtml","|","template","code","cut","copy","plainpaste","wordpaste","|","preview","selectall","fullscreen","print","|","quickformat","/","formatblock","fontname","fontsize","|","forecolor","hilitecolor","bold","italic","underline","strikethrough","|","justifyleft","justifycenter","justifyright","justifyfull","|","insertorderedlist","insertunorderedlist","indent","outdent","lineheight","/","quote","subscript","superscript","|","image","multiimage","media","insertfile","baidumap","link","unlink","|","table","anchor","hr","pagebreak","|","emoticons","symbols"],Normal:["source","|","formatblock","fontname","fontsize","|","forecolor","hilitecolor","bold","italic","underline","strikethrough","|","justifyleft","justifycenter","justifyright","justifyfull","|","insertorderedlist","insertunorderedlist","indent","outdent","lineheight","/","image","multiimage","media","insertfile","baidumap","link","unlink","|","table","anchor","hr","pagebreak","|","quote","subscript","superscript","|","preview","fullscreen","quickformat","emoticons","symbols"],Small:["source","|","formatblock","fontname","fontsize","|","bold","italic","underline","strikethrough","|","justifyleft","justifycenter","justifyright","justifyfull","|","insertorderedlist","insertunorderedlist","indent","outdent","lineheight","/","quote","image","multiimage","media","insertfile","|","table","hr","pagebreak","|","link","unlink","|","preview","fullscreen"],Mini:["formatblock","bold","italic","underline","strikethrough","|","justifyleft","justifycenter","justifyright","justifyfull","|","insertorderedlist","insertunorderedlist","|","image","insertfile","table","link","unlink"]},v.Templates=[{name:"\u56FE\u7247\u548C\u6587\u5B57",content:'<h3><img align="left" height="100" style="margin-right: 10px" width="100" />\u5728\u6B64\u5904\u8F93\u5165\u6807\u9898</h3><p>\u5728\u6B64\u5904\u8F93\u5165\u5185\u5BB9</p>'},{name:"\u8868\u683C",content:'<h3>\u6807\u9898</h3><table style="width:100%;" cellpadding="2" cellspacing="0" border="1"><tbody><tr><td><h3>\u6807\u98981</h3></td><td><h3>\u6807\u98981</h3></td></tr><tr><td>\u5185\u5BB91</td><td>\u5185\u5BB92</td></tr><tr><td>\u5185\u5BB93</td><td>\u5185\u5BB94</td></tr></tbody></table><p>\u8868\u683C\u8BF4\u660E</p>'},{name:"\u9879\u76EE\u7F16\u53F7",content:"<p>\u5728\u6B64\u5904\u8F93\u5165\u5185\u5BB9</p><ol><li>\u63CF\u8FF01</li><li>\u63CF\u8FF02</li><li>\u63CF\u8FF03</li></ol><p>\u5728\u6B64\u5904\u8F93\u5165\u5185\u5BB9</p><ul><li>\u63CF\u8FF01</li><li>\u63CF\u8FF02</li><li>\u63CF\u8FF03</li></ul>"}],v.options={designMode:!0,fullscreenMode:!1,filterMode:!0,wellFormatMode:!0,shadowMode:!0,loadStyleMode:!0,basePath:v.basePath,themesPath:v.basePath+"themes/",langPath:v.basePath+"lang/",pluginsPath:v.basePath+"plugins/",themeType:"default",langType:"zh-CN",urlType:"",newlineTag:"p",resizeType:2,syncType:"form",pasteType:2,dialogAlignType:"page",useContextmenu:!0,fullscreenShortcut:!1,bodyClass:"ke-content",indentChar:"	",cssPath:"",cssData:"",minWidth:650,minHeight:100,minChangeSize:50,zIndex:811213,items:v.Tools.Normal,noDisableItems:["source","fullscreen"],colorTable:[["#1abc9c","#2ecc71","#3498db","#9b59b6","#4e5f70","#f1c40f"],["#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50","#f39c12"],["#E53333","#E56600","#FF9900","#64451D","#DFC5A4","#FFE500"],["#009900","#006600","#99BB00","#B8D100","#60D978","#00D5FF"],["#337FE5","#003399","#4C33E5","#9933E5","#CC33E5","#EE33EE"],["#FFFFFF","#CCCCCC","#999999","#666666","#333333","#000000"]],fontSizeTable:["9px","10px","12px","14px","16px","18px","24px","32px"],htmlTags:{font:["id","class","color","size","face",".background-color"],span:["id","class",".color",".background-color",".font-size",".font-family",".background",".font-weight",".font-style",".text-decoration",".vertical-align",".line-height"],div:["id","class","align",".border",".margin",".padding",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".background",".font-style",".text-decoration",".vertical-align",".margin-left"],table:["id","class","border","cellspacing","cellpadding","width","height","align","bordercolor",".padding",".margin",".border","bgcolor",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".font-style",".text-decoration",".background",".width",".height",".border-collapse"],"td,th":["id","class","align","valign","width","height","colspan","rowspan","bgcolor",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".font-style",".text-decoration",".vertical-align",".background",".border"],a:["id","class","href","target","name"],media:["id","class"],audio:["id","class","src","width","height","type","loop","autostart","autoplay",".width",".height","controls","muted","preload","data-ke-class"],video:["id","class","src","width","height","type","loop","autostart","autoplay",".width",".height","controls","muted","poster","preload","data-ke-class"],img:["id","class","src","width","height","border","alt","title","align",".width",".height",".border","data-ke-class"],"p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6":["id","class","align",".text-align",".color",".background-color",".font-size",".font-family",".background",".font-weight",".font-style",".text-decoration",".vertical-align",".text-indent",".margin-left"],pre:["id","class"],hr:["id","class",".page-break-after"],"br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del":["id","class"],iframe:["id","class","src","frameborder","width","height",".width",".height"]},layout:'<div class="container"><div class="toolbar"></div><div class="edit"></div><div class="statusbar"></div></div>'};var zn=!1,Pn=re("8,9,13,32,46,48..57,59,61,65..90,106,109..111,188,190..192,219..222"),Ii=re("33..40"),Jt={};z(Pn,function(e,t){Jt[e]=t}),z(Ii,function(e,t){Jt[e]=t});var Ai="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(",");ge(rn,{init:function(e,t){var n=this,o=e.ownerDocument||e.document||e;if(n.event=t,z(Ai,function(c,a){n[a]=t[a]}),n.target||(n.target=n.srcElement||o),n.target.nodeType===3&&(n.target=n.target.parentNode),!n.relatedTarget&&n.fromElement&&(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),n.pageX==null&&n.clientX!=null){var i=o.documentElement,s=o.body;n.pageX=n.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),n.pageY=n.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)}switch(!n.which&&(n.charCode||n.charCode===0?n.charCode:n.keyCode)&&(n.which=n.charCode||n.keyCode),!n.metaKey&&n.ctrlKey&&(n.metaKey=n.ctrlKey),n.which||n.button===void 0||(n.which=1&n.button?1:2&n.button?3:4&n.button?2:0),n.which){case 186:n.which=59;break;case 187:case 107:case 43:n.which=61;break;case 189:case 45:n.which=109;break;case 42:n.which=106;break;case 47:n.which=111;break;case 78:n.which=110}n.which>=96&&n.which<=105&&(n.which-=48)},preventDefault:function(){var e=this.event;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.event;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},stop:function(){this.preventDefault(),this.stopPropagation()}});var Dt="kindeditor_"+St,jn=0,oe={},Hn=!1;window.attachEvent&&window.attachEvent("onunload",function(){z(oe,function(e,t){t.el&&Je(t.el)})}),v.ctrl=Lt,v.ready=ti,v.formatUrl=et,v.formatHtml=Le,v.getCssList=je,v.getAttrList=xe,v.mediaType=sn,v.mediaAttrs=cn,v.mediaEmbed=Ft,v.mediaImg=un,v.clearMsWord=an,v.tmpl=oi;var qn=document.createElement("div");qn.setAttribute("className","t");var Ri=qn.className!=="t";v.query=li,v.queryAll=wt,ge(de,{init:function(e){var t=this;e=ee(e)?e:[e];for(var n=0,o=0,i=e.length;i>o;o++)e[o]&&(t[o]=e[o].constructor===de?e[o][0]:e[o],n++);t.length=n,t.doc=Fe(t[0]),t.name=dn(t[0]),t.type=t.length>0?t[0].nodeType:null,t.win=Be(t[0])},each:function(e){for(var t=this,n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t;return t},bind:function(e,t){return this.each(function(){Pe(this,e,t)}),this},unbind:function(e,t){return this.each(function(){Je(this,e,t)}),this},fire:function(e){return this.length<1?this:(ln(this[0],e),this)},hasAttr:function(e){return this.length<1?!1:!!bt(this[0],e)},attr:function(e,t){var n=this;return e===void 0?xe(n.outer()):typeof e=="object"?(z(e,function(o,i){n.attr(o,i)}),n):t===void 0?(t=n.length<1?null:bt(n[0],e),t===null?"":t):(n.each(function(){Ot(this,e,t)}),n)},removeAttr:function(e){return this.each(function(){si(this,e)}),this},get:function(e){return this.length<1?null:this[e||0]},eq:function(e){return this.length<1?null:this[e]?new de(this[e]):null},hasClass:function(e){return this.length<1?!1:Bt(this[0],e)},addClass:function(e){return this.each(function(){Bt(this,e)||(this.className=te(this.className+" "+e))}),this},removeClass:function(e){return this.each(function(){Bt(this,e)&&(this.className=te(this.className.replace(new RegExp("(^|\\s)"+e+"(\\s|$)")," ")))}),this},html:function(e){var t=this;return e===void 0?t.length<1||t.type!=1?"":Le(t[0].innerHTML):(t.each(function(){ai(this,e)}),t)},text:function(){var e=this;return e.length<1?"":Y?e[0].innerText:e[0].textContent},hasVal:function(){return this.length<1?!1:fn(this[0])},val:function(e){var t=this;return e===void 0?t.length<1?"":t.hasVal()?t[0].value:t.attr("value"):(t.each(function(){fn(this)?this.value=e:Ot(this,"value",e)}),t)},css:function(e,t){var n=this;return e===void 0?je(n.attr("style")):typeof e=="object"?(z(e,function(o,i){n.css(o,i)}),n):t===void 0?n.length<1?"":n[0].style[Xe(e)]||ci(n[0],e)||"":(n.each(function(){this.style[Xe(e)]=t}),n)},width:function(e){var t=this;return e===void 0?t.length<1?0:t[0].offsetWidth:t.css("width",J(e))},height:function(e){var t=this;return e===void 0?t.length<1?0:t[0].offsetHeight:t.css("height",J(e))},opacity:function(e){return this.each(function(){this.style.opacity===void 0?this.style.filter=e==1?"":"alpha(opacity="+100*e+")":this.style.opacity=e==1?"":e}),this},data:function(e,t){var n=this;return e="kindeditor_data_"+e,t===void 0?n.length<1?null:n[0][e]:(this.each(function(){this[e]=t}),n)},pos:function(){var e=this,t=e[0],n=0,o=0;if(t)if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),s=He(e.doc);n=i.left+s.x,o=i.top+s.y}else for(;t;)n+=t.offsetLeft,o+=t.offsetTop,t=t.offsetParent;return{x:Ae(n),y:Ae(o)}},clone:function(e){return new de(this.length<1?[]:this[0].cloneNode(e))},append:function(e){return this.each(function(){this.appendChild&&this.appendChild(Te(e))}),this},appendTo:function(e){return this.each(function(){Te(e).appendChild(this)}),this},before:function(e){return this.each(function(){this.parentNode.insertBefore(Te(e),this)}),this},after:function(e){return this.each(function(){this.nextSibling?this.parentNode.insertBefore(Te(e),this.nextSibling):this.parentNode.appendChild(Te(e))}),this},replaceWith:function(e){var t=[];return this.each(function(n,o){Je(o);var i=Te(e);o.parentNode.replaceChild(i,o),t.push(i)}),v(t)},empty:function(){var e=this;return e.each(function(t,n){for(var o=n.firstChild;o;){if(!n.parentNode)return;var i=o.nextSibling;o.parentNode.removeChild(o),o=i}}),e},remove:function(e){var t=this;return t.each(function(n,o){if(o.parentNode){if(Je(o),e)for(var i=o.firstChild;i;){var s=i.nextSibling;o.parentNode.insertBefore(i,o),i=s}o.parentNode.removeChild(o),delete t[n]}}),t.length=0,t},show:function(e){var t=this;return e===void 0&&(e=t._originDisplay||""),t.css("display")!="none"?t:t.css("display",e)},hide:function(){var e=this;return e.length<1?e:(e._originDisplay=e[0].style.display,e.css("display","none"))},outer:function(){var e=this;if(e.length<1)return"";var t,n=e.doc.createElement("div");return n.appendChild(e[0].cloneNode(!0)),t=Le(n.innerHTML),n=null,t},isSingle:function(){return!!On[this.name]},isInline:function(){return!!Fn[this.name]},isBlock:function(){return!!Bn[this.name]},isStyle:function(){return!!Un[this.name]},isControl:function(){return!!Di[this.name]},contains:function(e){return this.length<1?!1:kt(this[0],Te(e))},parent:function(){if(this.length<1)return null;var e=this[0].parentNode;return e?new de(e):null},children:function(){if(this.length<1)return new de([]);for(var e=[],t=this[0].firstChild;t;)(t.nodeType!=3||te(t.nodeValue)!=="")&&e.push(t),t=t.nextSibling;return new de(e)},first:function(){var e=this.children();return e.length>0?e.eq(0):null},last:function(){var e=this.children();return e.length>0?e.eq(e.length-1):null},index:function(){if(this.length<1)return-1;for(var e=-1,t=this[0];t;)e++,t=t.previousSibling;return e},prev:function(){if(this.length<1)return null;var e=this[0].previousSibling;return e?new de(e):null},next:function(){if(this.length<1)return null;var e=this[0].nextSibling;return e?new de(e):null},scan:function(e,t){function n(o){for(var i=t?o.firstChild:o.lastChild;i;){var s=t?i.nextSibling:i.previousSibling;if(e(i)===!1||n(i)===!1)return!1;i=s}}if(!(this.length<1))return t=t===void 0?!0:t,n(this[0]),this}}),z("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu".split(","),function(e,t){de.prototype[t]=function(n){return n?this.bind(t,n):this.fire(t)}});var Li=v;v=function(e,t){function n(u){return u[0]||(u=[]),new de(u)}if(e!=null){if(typeof e=="string"){t&&(t=Te(t));var o=e.length;if(e.charAt(0)==="@"&&(e=e.substr(1)),e.length!==o||/<.+>/.test(e)){var i=t?t.ownerDocument||t:document,s=i.createElement("div"),c=[];s.innerHTML='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+e;for(var a=0,r=s.childNodes.length;r>a;a++){var d=s.childNodes[a];d.id!="__kindeditor_temp_tag__"&&c.push(d)}return n(c)}return n(wt(e,t))}return e&&e.constructor===de?e:(e.toArray&&(e=e.toArray()),n(ee(e)?e:At(arguments)))}},z(Li,function(e,t){v[e]=t}),v.NodeClass=de,window.KindEditor=v;var ut=0,dt=1,We=2,ft=3,Wn=0;ge(_e,{init:function(e){var t=this;t.startContainer=e,t.startOffset=0,t.endContainer=e,t.endOffset=0,t.collapsed=!0,t.doc=e},commonAncestor:function(){function e(r){for(var d=[];r;)d.push(r),r=r.parentNode;return d}for(var t,n,o=e(this.startContainer),i=e(this.endContainer),s=0,c=o.length,a=i.length;++s&&(t=o[c-s],n=i[a-s],t&&n&&t===n););return o[c-s+1]},setStart:function(e,t){var n=this,o=n.doc;return n.startContainer=e,n.startOffset=t,n.endContainer===o&&(n.endContainer=e,n.endOffset=t),pn(this)},setEnd:function(e,t){var n=this,o=n.doc;return n.endContainer=e,n.endOffset=t,n.startContainer===o&&(n.startContainer=e,n.startOffset=t),pn(this)},setStartBefore:function(e){return this.setStart(e.parentNode||this.doc,v(e).index())},setStartAfter:function(e){return this.setStart(e.parentNode||this.doc,v(e).index()+1)},setEndBefore:function(e){return this.setEnd(e.parentNode||this.doc,v(e).index())},setEndAfter:function(e){return this.setEnd(e.parentNode||this.doc,v(e).index()+1)},selectNode:function(e){return this.setStartBefore(e).setEndAfter(e)},selectNodeContents:function(e){var t=v(e);if(t.type==3||t.isSingle())return this.selectNode(e);var n=t.children();return n.length>0?this.setStartBefore(n[0]).setEndAfter(n[n.length-1]):this.setStart(e,0).setEnd(e,0)},collapse:function(e){return e?this.setEnd(this.startContainer,this.startOffset):this.setStart(this.endContainer,this.endOffset)},compareBoundaryPoints:function(e,t){var n=this.get(),o=t.get();if(!we)return n.compareBoundaryPoints(e,o);var i={};i[ut]="StartToStart",i[dt]="EndToStart",i[We]="EndToEnd",i[ft]="StartToEnd";var s=n.compareEndPoints(i[e],o);if(s!==0)return s;var c,a,r,d,u;if((e===ut||e===ft)&&(c=this.startContainer,d=this.startOffset),(e===dt||e===We)&&(c=this.endContainer,d=this.endOffset),(e===ut||e===dt)&&(a=t.startContainer,u=t.startOffset),(e===We||e===ft)&&(a=t.endContainer,u=t.endOffset),c===a){var l=d-u;return l>0?1:0>l?-1:0}for(r=a;r&&r.parentNode!==c;)r=r.parentNode;if(r)return v(r).index()>=d?-1:1;for(r=c;r&&r.parentNode!==a;)r=r.parentNode;return r?v(r).index()>=u?1:-1:(r=v(a).next(),r&&r.contains(c)?1:(r=v(c).next(),r&&r.contains(a)?-1:void 0))},cloneRange:function(){return new _e(this.doc).setStart(this.startContainer,this.startOffset).setEnd(this.endContainer,this.endOffset)},toString:function(){var e=this.get(),t=we?e.text:e.toString();return t.replace(/\r\n|\n|\r/g,"")},cloneContents:function(){return Ut(this,!0,!1)},deleteContents:function(){return Ut(this,!1,!0)},extractContents:function(){return Ut(this,!0,!0)},insertNode:function(e){var t,n,o,i=this,s=i.startContainer,c=i.startOffset,a=i.endContainer,r=i.endOffset,d=1;return e.nodeName.toLowerCase()==="#document-fragment"&&(t=e.firstChild,n=e.lastChild,d=e.childNodes.length),s.nodeType==1?(o=s.childNodes[c],o?(s.insertBefore(e,o),s===a&&(r+=d)):s.appendChild(e)):s.nodeType==3&&(c===0?(s.parentNode.insertBefore(e,s),s.parentNode===a&&(r+=d)):c>=s.nodeValue.length?s.nextSibling?s.parentNode.insertBefore(e,s.nextSibling):s.parentNode.appendChild(e):(o=c>0?s.splitText(c):s,s.parentNode.insertBefore(e,o),s===a&&(a=o,r-=c))),t?i.setStartBefore(t).setEndAfter(n):i.selectNode(e),i.compareBoundaryPoints(We,i.cloneRange().setEnd(a,r))>=1?i:i.setEnd(a,r)},surroundContents:function(e){return e.appendChild(this.extractContents()),this.insertNode(e).selectNode(e)},isControl:function(){var e=this,t=e.startContainer,n=e.startOffset,o=e.endContainer,i=e.endOffset;return t.nodeType==1&&t===o&&n+1===i&&v(t.childNodes[n]).isControl()},get:function(e){var t,n=this,o=n.doc;if(!we){t=o.createRange();try{t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset)}catch{}return t}if(e&&n.isControl())return t=o.body.createControlRange(),t.addElement(n.startContainer.childNodes[n.startOffset]),t;var i=n.cloneRange().down();return t=o.body.createTextRange(),t.setEndPoint("StartToStart",mn(i.startContainer,i.startOffset)),t.setEndPoint("EndToStart",mn(i.endContainer,i.endOffset)),t},html:function(){return v(this.cloneContents()).outer()},down:function(){function e(n,o,i){if(n.nodeType==1){var s=v(n).children();if(s.length!==0){var c,a,r,d;o>0&&(c=s.eq(o-1)),o<s.length&&(a=s.eq(o)),c&&c.type==3&&(r=c[0],d=r.nodeValue.length),a&&a.type==3&&(r=a[0],d=0),r&&(i?t.setStart(r,d):t.setEnd(r,d))}}}var t=this;return e(t.startContainer,t.startOffset,!0),e(t.endContainer,t.endOffset,!1),t},up:function(){function e(n,o,i){n.nodeType==3&&(o===0?i?t.setStartBefore(n):t.setEndBefore(n):o==n.nodeValue.length&&(i?t.setStartAfter(n):t.setEndAfter(n)))}var t=this;return e(t.startContainer,t.startOffset,!0),e(t.endContainer,t.endOffset,!1),t},enlarge:function(e){function t(o,i,s){var c,a=v(o);if(!(a.type==3||Et[a.name]||!e&&a.isBlock())){if(i===0){for(;!a.prev()&&(c=a.parent(),c&&!Et[c.name]&&(e||!c.isBlock()));)a=c;s?n.setStartBefore(a[0]):n.setEndBefore(a[0])}else if(i==a.children().length){for(;!a.next()&&(c=a.parent(),c&&!Et[c.name]&&(e||!c.isBlock()));)a=c;s?n.setStartAfter(a[0]):n.setEndAfter(a[0])}}}var n=this;return n.up(),t(n.startContainer,n.startOffset,!0),t(n.endContainer,n.endOffset,!1),n},shrink:function(){for(var e,t=this,n=t.collapsed;t.startContainer.nodeType==1&&(e=t.startContainer.childNodes[t.startOffset])&&e.nodeType==1&&!v(e).isSingle();)t.setStart(e,0);if(n)return t.collapse(n);for(;t.endContainer.nodeType==1&&t.endOffset>0&&(e=t.endContainer.childNodes[t.endOffset-1])&&e.nodeType==1&&!v(e).isSingle();)t.setEnd(e,e.childNodes.length);return t},createBookmark:function(e){var t,n=this,o=n.doc,i=v('<span style="display:none;"></span>',o)[0];return i.id="__kindeditor_bookmark_start_"+Wn+++"__",n.collapsed||(t=i.cloneNode(!0),t.id="__kindeditor_bookmark_end_"+Wn+++"__"),t&&n.cloneRange().collapse(!1).insertNode(t).setEndBefore(t),n.insertNode(i).setStartAfter(i),{start:e?"#"+i.id:i,end:t?e?"#"+t.id:t:null}},moveToBookmark:function(e){var t=this,n=t.doc,o=v(e.start,n),i=e.end?v(e.end,n):null;return!o||o.length<1||(t.setStartBefore(o[0]),o.remove(),i&&i.length>0?(t.setEndBefore(i[0]),i.remove()):t.collapse(!0)),t},dump:function(){console.log("--------------------"),console.log(this.startContainer.nodeType==3?this.startContainer.nodeValue:this.startContainer,this.startOffset),console.log(this.endContainer.nodeType==3?this.endContainer.nodeValue:this.endContainer,this.endOffset)}}),v.RangeClass=_e,v.range=zt,v.START_TO_START=ut,v.START_TO_END=dt,v.END_TO_END=We,v.END_TO_START=ft,ge(nt,{init:function(e,t){var n=this,o=e.doc;n.doc=o,n.win=Be(o),n.sel=Pt(o),n.range=e,n.editorOptions=t},selection:function(e){var t=this,n=t.doc,o=ui(n);return t.sel=Pt(n),o?(t.range=zt(o),v(t.range.startContainer).name=="html"&&t.range.selectNodeContents(n.body).collapse(!1),t):(e&&t.range.selectNodeContents(n.body).collapse(!1),t)},select:function(e){e=V(e,!0);var t,n=this,o=n.sel,i=n.range.cloneRange().shrink(),s=i.startContainer,c=i.startOffset,a=(i.endContainer,i.endOffset,Fe(s)),r=n.win,d=!1;if(e&&s.nodeType==1&&i.collapsed){if(we){var u=v("<span>&nbsp;</span>",a);i.insertNode(u[0]),t=a.body.createTextRange();try{t.moveToElementText(u[0])}catch{}return t.collapse(!1),t.select(),u.remove(),r.focus(),n}if(Ue){var l=s.childNodes;(v(s).isInline()||c>0&&v(l[c-1]).isInline()||l[c]&&v(l[c]).isInline())&&(i.insertNode(a.createTextNode("\u200B")),d=!0)}}if(we)try{t=i.get(!0),t.select()}catch(m){console.info("error",m)}else if(d&&i.collapse(!1),t=i.get(!0),o.removeAllRanges(),o.addRange(t),n.editorOptions&&n.editorOptions.scrollToEditingTarget&&a!==document){try{var f=[].filter.call(t.endContainer.children,function(m){return m.nodeName=="IMG"}).length;if(f>1)return}catch(m){console.info("error",m)}var p=v(t.endContainer).pos();r.scrollTo(p.x,p.y)}return r.focus(),n},wrap:function(e){var t,n=this,o=n.doc,i=n.range;if(t=v(e,o),i.collapsed)return i.shrink(),i.insertNode(t[0]).selectNodeContents(t[0]),n;if(t.isBlock()){for(var s=t.clone(!0),c=s;c.first();)c=c.first();return c.append(i.extractContents()),i.insertNode(s[0]).selectNode(s[0]),n}i.enlarge();var a=i.createBookmark(),r=i.commonAncestor(),d=!1;return v(r).scan(function(u){if(!d&&u==a.start)return void(d=!0);if(d){if(u==a.end)return!1;var l=v(u);if(hi(l))return;if(l.type==3&&te(u.nodeValue).length>0){for(var f;(f=l.parent())&&f.isStyle()&&f.children().length==1;)l=f;fi(l,t)}}}),i.moveToBookmark(a),n},split:function(e,t){for(var n,o=this.range,i=o.doc,s=o.cloneRange().collapse(e),c=s.startContainer,a=s.startOffset,r=c.nodeType==3?c.parentNode:c,d=!1;r&&r.parentNode;){if(n=v(r),t){if(!n.isStyle()||!jt(n,t))break}else if(Et[n.name])break;d=!0,r=r.parentNode}if(d){var u=i.createElement("span");o.cloneRange().collapse(!e).insertNode(u),e?s.setStartBefore(r.firstChild).setEnd(c,a):s.setStart(c,a).setEndAfter(r.lastChild);var l=s.extractContents(),f=l.firstChild,p=l.lastChild;e?(s.insertNode(l),o.setStartAfter(p).setEndBefore(u)):(r.appendChild(l),o.setStartBefore(u).setEndBefore(f));var m=u.parentNode;if(m==o.endContainer){var g=v(u).prev(),y=v(u).next();g&&y&&g.type==3&&y.type==3?o.setEnd(g[0],g[0].nodeValue.length):e||o.setEnd(o.endContainer,o.endOffset-1)}m.removeChild(u)}return this},remove:function(e){var t=this,n=t.doc,o=t.range;if(o.enlarge(),o.startOffset===0){for(var i,s=v(o.startContainer);(i=s.parent())&&i.isStyle()&&i.children().length==1;)s=i;o.setStart(s[0],0),s=v(o.startContainer),s.isBlock()&&Ht(s,e);var c=s.parent();c&&c.isBlock()&&Ht(c,e)}var a,r;if(o.collapsed){if(t.split(!0,e),a=o.startContainer,r=o.startOffset,r>0){var d=v(a.childNodes[r-1]);d&&qe(d)&&(d.remove(),o.setStart(a,r-1))}var u=v(a.childNodes[r]);return u&&qe(u)&&u.remove(),qe(a)&&(o.startBefore(a),a.remove()),o.collapse(!0),t}t.split(!0,e),t.split(!1,e);var l=n.createElement("span"),f=n.createElement("span");o.cloneRange().collapse(!1).insertNode(f),o.cloneRange().collapse(!0).insertNode(l);var p=[],m=!1;v(o.commonAncestor()).scan(function(N){return m||N!=l?N==f?!1:void(m&&p.push(N)):void(m=!0)}),v(l).remove(),v(f).remove(),a=o.startContainer,r=o.startOffset;var g=o.endContainer,y=o.endOffset;if(r>0){var w=v(a.childNodes[r-1]);w&&qe(w)&&(w.remove(),o.setStart(a,r-1),a==g&&o.setEnd(g,y-1));var b=v(a.childNodes[r]);b&&qe(b)&&(b.remove(),a==g&&o.setEnd(g,y-1))}var T=v(g.childNodes[o.endOffset]);T&&qe(T)&&T.remove();var M=o.createBookmark(!0);return z(p,function(N,A){Ht(v(A),e)}),o.moveToBookmark(M),t},commonNode:function(e){function t(r){for(var d=r,u=r;u;){if(jt(v(u),e))return v(u);u=u.parentNode}for(;d&&(d=d.lastChild);)if(jt(v(d),e))return v(d);return null}var n=this.range,o=n.endContainer,i=n.endOffset,s=o.nodeType==3||i===0?o:o.childNodes[i-1],c=t(s);if(c)return c;if(!s)return null;if(s.nodeType==1||o.nodeType==3&&i===0){var a=v(s).prev();if(a)return t(a)}return null},commonAncestor:function(e){function t(l){for(;l;){if(l.nodeType==1&&l.tagName.toLowerCase()===e)return l;l=l.parentNode}return null}var n=this.range,o=n.startContainer,i=n.startOffset,s=n.endContainer,c=n.endOffset,a=o.nodeType==3||i===0?o:o.childNodes[i-1],r=s.nodeType==3||c===0?s:s.childNodes[c-1],d=t(a),u=t(r);return d&&u&&d===u?v(d):null},state:function(e){var t=this,n=t.doc,o=!1;try{o=n.queryCommandState(e)}catch{}return o},val:function(e){function t(c){return c.toLowerCase()}var n=this,o=n.doc;n.range,e=t(e);var i,s="";return e==="fontfamily"||e==="fontname"?(s=vn(o,"fontname"),s=s.replace(/['"]/g,""),t(s)):e==="formatblock"?(s=vn(o,e),s===""&&(i=n.commonNode({"h1,h2,h3,h4,h5,h6,p,div,pre,address":"*"}),i&&(s=i.name)),s==="Normal"&&(s="p"),t(s)):e==="fontsize"?(i=n.commonNode({"*":".font-size"}),i&&(s=i.css("font-size")),t(s)):e==="forecolor"?(i=n.commonNode({"*":".color"}),i&&(s=i.css("color")),s=vt(s),s===""&&(s="default"),t(s)):e==="hilitecolor"?(i=n.commonNode({"*":".background-color"}),i&&(s=i.css("background-color")),s=vt(s),s===""&&(s="default"),t(s)):s},toggle:function(e,t){var n=this;return n.commonNode(t)?n.remove(t):n.wrap(e),n.select()},bold:function(){return this.toggle("<strong></strong>",{span:".font-weight=bold",strong:"*",b:"*"})},italic:function(){return this.toggle("<em></em>",{span:".font-style=italic",em:"*",i:"*"})},underline:function(){return this.toggle("<u></u>",{span:".text-decoration=underline",u:"*"})},strikethrough:function(){return this.toggle("<s></s>",{span:".text-decoration=line-through",s:"*"})},forecolor:function(e){return this.wrap('<span style="color:'+e+';"></span>').select()},hilitecolor:function(e){return this.wrap('<span style="background-color:'+e+';"></span>').select()},fontsize:function(e){return this.wrap('<span style="font-size:'+e+';"></span>').select()},fontname:function(e){return this.fontfamily(e)},fontfamily:function(e){return this.wrap('<span style="font-family:'+e+';"></span>').select()},removeformat:function(){var e={"*":".font-weight,.font-style,.text-decoration,.color,.background-color,.font-size,.font-family,.text-indent"},t=Un;return z(t,function(n,o){e[n]="*"}),this.remove(e),this.select()},inserthtml:function(e,t){function n(c,a){a='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+a;var r=c.get();r.item?r.item(0).outerHTML=a:r.pasteHTML(a);var d=c.doc.getElementById("__kindeditor_temp_tag__");d.parentNode.removeChild(d);var u=gn(r);c.setEnd(u.endContainer,u.endOffset),c.collapse(!1),i.select(!1)}function o(c,a){var r=c.doc,d=r.createDocumentFragment();v("@"+a,r).each(function(){d.appendChild(this)}),c.deleteContents(),c.insertNode(d),c.collapse(!1),i.select(!1)}var i=this,s=i.range;if(e==="")return i;if(we&&t){try{n(s,e)}catch{o(s,e)}return i}return o(s,e),i},hr:function(){return this.inserthtml("<hr />")},print:function(){return this.win.print(),this},insertimage:function(e,t,n,o,i,s,c,a){t=V(t,""),c=V(c,"");var r='<img data-ke-class="'+c+'" src="'+se(e)+'" data-ke-src="'+se(e)+'" ';return n&&(r+='width="'+se(n)+'" '),o&&(r+='height="'+se(o)+'" '),t&&(r+='title="'+se(t)+'" '),s&&(r+='align="'+se(s)+'" '),r+='alt="'+se(t)+'" ',r+="/>",a&&(r="<"+a+">"+r+"</"+a+">"),this.inserthtml(r)},createlink:function(e,t){function n(m,g,y){v(m).attr("href",g).attr("data-ke-src",g),y?v(m).attr("target",y):v(m).removeAttr("target")}var o=this,i=o.doc,s=o.range;o.select();var c=o.commonNode({a:"*"});c&&!s.isControl()&&(s.selectNode(c.get()),o.select());var a='<a href="'+se(e)+'" data-ke-src="'+se(e)+'" ';if(t&&(a+=' target="'+se(t)+'"'),s.collapsed)return a+=">"+se(e)+"</a>",o.inserthtml(a);if(s.isControl()){var r=v(s.startContainer.childNodes[s.startOffset]);return a+="></a>",r.after(v(a,i)),r.next().append(r),s.selectNode(r[0]),o.select()}var d=s.startContainer,u=s.startOffset,l=s.endContainer,f=s.endOffset;if(d.nodeType==1&&d===l&&u+1===f){var p=d.childNodes[u];if(p.nodeName.toLowerCase()=="a")return n(p,e,t),o}return De(i,"createlink","__kindeditor_temp_url__"),v('a[href="__kindeditor_temp_url__"]',i).each(function(){n(this,e,t)}),o},unlink:function(){var e=this,t=e.doc,n=e.range;if(e.select(),n.collapsed){var o=e.commonNode({a:"*"});if(o&&(n.selectNode(o.get()),e.select()),De(t,"unlink",null),Ue&&v(n.startContainer).name==="img"){var i=v(n.startContainer).parent();i.name==="a"&&i.remove(!0)}}else De(t,"unlink",null);return e}}),z("formatblock,selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript".split(","),function(e,t){nt.prototype[t]=function(n){var o=this;return o.select(),De(o.doc,t,n),we&&me(t,"justifyleft,justifycenter,justifyright,justifyfull".split(","))>=0&&o.selection(),(!we||me(t,"formatblock,selectall,insertorderedlist,insertunorderedlist".split(","))>=0)&&o.selection(),o}}),z("cut,copy,paste".split(","),function(e,t){nt.prototype[t]=function(){var n=this;if(!n.doc.queryCommandSupported(t))throw"not supported";return n.select(),De(n.doc,t,null),n}}),v.CmdClass=nt,v.cmd=wn,ge(Me,{init:function(e){var t=this;if(t.name=e.name||"",t.doc=e.doc||document,t.win=Be(t.doc),t.x=J(e.x),t.y=J(e.y),t.z=e.z,t.width=J(e.width),t.height=J(e.height),t.div=v('<div style="display:block;"></div>'),t.options=e,t._alignEl=e.alignEl,t.width&&t.div.css("width",t.width),t.height&&t.div.css("height",t.height),t.z&&t.div.css({position:"absolute",left:t.x,top:t.y,"z-index":t.z}),!t.z||t.x!==void 0&&t.y!==void 0||t.autoPos(t.width,t.height),e.cls&&t.div.addClass(e.cls),e.shadowMode&&t.div.addClass("ke-shadow"),e.css&&t.div.css(e.css),e.src?v(e.src).replaceWith(t.div):v(t.doc.body).append(t.div),e.html&&t.div.html(e.html),e.autoScroll)if(Y&&7>ce||Ie){var n=He();v(t.win).bind("scroll",function(o){var i=He(),s=i.x-n.x,c=i.y-n.y;t.pos(Z(t.x)+s,Z(t.y)+c,!1)})}else t.div.css("position","fixed")},pos:function(e,t,n){var o=this;return n=V(n,!0),e!==null&&(e=0>e?0:J(e),o.div.css("left",e),n&&(o.x=e)),t!==null&&(t=0>t?0:J(t),o.div.css("top",t),n&&(o.y=t)),o},autoPos:function(e,t){var n,o,i=this,s=Z(e)||0,c=Z(t)||0,a=He();if(i._alignEl){var r=v(i._alignEl),d=r.pos(),u=Ae(r[0].clientWidth/2-s/2),l=Ae(r[0].clientHeight/2-c/2);n=0>u?d.x:d.x+u,o=0>l?d.y:d.y+l}else{var f=ke(i.doc);n=Ae(a.x+(f.clientWidth-s)/2),o=Ae(a.y+(f.clientHeight-c)/2)}return Y&&7>ce||Ie||(n-=a.x,o-=a.y),i.pos(n,o)},remove:function(){var e=this;return(Y&&7>ce||Ie)&&v(e.win).unbind("scroll"),e.div.remove(),z(e,function(t){e[t]=null}),this},show:function(){return this.div.show(),this},hide:function(){return this.div.hide(),this},draggable:function(e){var t=this;return e=e||{},e.moveEl=t.div,e.moveFn=function(n,o,i,s,c,a){(n+=c)<0&&(n=0),(o+=a)<0&&(o=0),t.pos(n,o)},Wt(e),t}}),v.WidgetClass=Me,v.widget=$t;var Mt,en="";(Mt=document.getElementsByTagName("html"))&&(en=Mt[0].dir),ge(rt,Me,{init:function(e){function t(){var u=Vt(n.iframe);u.open(),a&&(u.domain=document.domain),u.write(mi(o,i,s,c)),u.close(),n.win=n.iframe[0].contentWindow,n.doc=u;var l=wn(u,e.editorOptions);n.afterChange(function(f){l.selection()}),Ue&&v(u).click(function(f){(v(f.target).name==="img"||v(f.target).name==="audio"||v(f.target).name==="video"||v(f.target).name==="pre")&&(l.selection(!0),l.range.selectNode(f.target),l.select())}),Y&&(n._mousedownHandler=function(){var f=l.range.cloneRange();f.shrink(),f.isControl()&&n.blur()},v(document).mousedown(n._mousedownHandler),v(u).keydown(function(f){if(f.which==8){l.selection();var p=l.range;p.isControl()&&(p.collapse(!0),v(p.startContainer.childNodes[p.startOffset]).remove(),f.preventDefault())}})),n.cmd=l,n.html(it(n.srcElement)),Y?(u.body.disabled=!0,u.body.contentEditable=!0,u.body.removeAttribute("disabled")):u.designMode="on",e.afterCreate&&e.afterCreate.call(n)}var n=this;rt.parent.init.call(n,e),n.srcElement=v(e.srcElement),n.div.addClass("ke-edit"),n.designMode=V(e.designMode,!0),n.beforeGetHtml=e.beforeGetHtml,n.beforeSetHtml=e.beforeSetHtml,n.afterSetHtml=e.afterSetHtml;var o=V(e.themesPath,""),i=e.bodyClass,s=e.cssPath,c=e.cssData,a=location.protocol!="res:"&&location.host.replace(/:\d+/,"")!==document.domain,r="document.open();"+(a?'document.domain="'+document.domain+'";':"")+"document.close();",d=Y?' src="javascript:void(function(){'+encodeURIComponent(r)+'}())"':"";n.iframe=v('<iframe class="ke-edit-iframe" hidefocus="true" frameborder="0"'+d+"></iframe>").css("width","100%"),n.textarea=v('<textarea class="ke-edit-textarea" hidefocus="true"></textarea>').css("width","100%"),n.tabIndex=isNaN(parseInt(e.tabIndex,10))?n.srcElement.attr("tabindex"):parseInt(e.tabIndex,10),n.iframe.attr("tabindex",n.tabIndex),n.textarea.attr("tabindex",n.tabIndex),n.width&&n.setWidth(n.width),n.height&&n.setHeight(n.height),n.designMode?n.textarea.hide():n.iframe.hide(),a&&n.iframe.bind("load",function(u){n.iframe.unbind("load"),Y?t():setTimeout(t,0)}),n.div.append(n.iframe),n.div.append(n.textarea),n.srcElement.hide(),!a&&t()},setWidth:function(e){var t=this;return e=J(e),t.width=e,t.div.css("width",e),t},setHeight:function(e){var t=this;return e=J(e),t.height=e,t.div.css("height",e),t.iframe.css("height",e),(Y&&8>ce||Ie)&&(e=J(Z(e)-2)),t.textarea.css("height",e),t},remove:function(){var e=this,t=e.doc;v(t.body).unbind(),v(t).unbind(),v(e.win).unbind(),e._mousedownHandler&&v(document).unbind("mousedown",e._mousedownHandler),it(e.srcElement,e.html()),e.srcElement.show(),e.iframe.unbind(),e.textarea.unbind(),rt.parent.remove.call(e)},html:function(e,t){var n=this,o=n.doc;if(n.designMode){var i=o.body;return e===void 0?(e=t?"<!doctype html><html>"+i.parentNode.innerHTML+"</html>":i.innerHTML,n.beforeGetHtml&&(e=n.beforeGetHtml(e)),Oe&&e=="<br />"&&(e=""),e):(n.beforeSetHtml&&(e=n.beforeSetHtml(e)),Y&&ce>=9&&(e=e.replace(/(<.*?checked=")checked(".*>)/gi,"$1$2")),v(i).html(e),n.afterSetHtml&&n.afterSetHtml(),n)}return e===void 0?n.textarea.val():(n.textarea.val(e),n)},design:function(e){var t,n=this;if(e===void 0?!n.designMode:e){if(!n.designMode){t=n.html(),n.designMode=!0,n.textarea.hide(),n.html(t);var o=n.iframe,i=Z(n.height);o.height(i-2),o.show(),setTimeout(function(){o.height(i)},0)}}else n.designMode&&(t=n.html(),n.designMode=!1,n.html(t),n.iframe.hide(),n.textarea.show());return n.focus()},focus:function(){var e=this;return e.designMode?e.win.focus():e.textarea[0].focus(),e},blur:function(){var e=this;if(Y){var t=v('<input type="text" style="float:left;width:0;height:0;padding:0;margin:0;border:0;" value="" />',e.div);e.div.append(t),t[0].focus(),t.remove()}else e.designMode?e.win.blur():e.textarea[0].blur();return e},afterChange:function(e){function t(s){setTimeout(function(){e(s)},1)}var n=this,o=n.doc,i=o.body;if(e)return v(o).keyup(function(s){s.ctrlKey||s.altKey||!Jt[s.which]||e(s)}),v(o).mouseup(e).contextmenu(e),v(n.win).blur(e),v(i).bind("paste",t),v(i).bind("cut",t),n}}),v.EditClass=rt,v.edit=xn,v.iframeDoc=Vt,ge(xt,Me,{init:function(e){function t(i){var s=v(i);return s.hasClass("ke-outline")?s:s.hasClass("ke-toolbar-icon")?s.parent():void 0}function n(i,s){var c=t(i.target);if(c){if(c.hasClass("ke-disabled")||c.hasClass("ke-selected"))return;c[s]("ke-on")}}var o=this;xt.parent.init.call(o,e),o.disableMode=V(e.disableMode,!1),o.noDisableItemMap=re(V(e.noDisableItems,[])),o._itemMap={},o.div.addClass("ke-toolbar").bind("contextmenu,mousedown,mousemove",function(i){i.preventDefault()}).attr("unselectable","on"),o.div.mouseover(function(i){n(i,"addClass")}).mouseout(function(i){n(i,"removeClass")}).click(function(i){var s=t(i.target);if(s){if(s.hasClass("ke-disabled"))return;o.options.click.call(this,i,s.attr("data-name"))}})},get:function(e){return this._itemMap[e]?this._itemMap[e]:this._itemMap[e]=v("span.ke-icon-"+e,this.div).parent()},select:function(e){return Cn.call(this,e,function(t){t.addClass("ke-selected")}),self},unselect:function(e){return Cn.call(this,e,function(t){t.removeClass("ke-selected").removeClass("ke-on")}),self},enable:function(e){var t=this,n=e.get?e:t.get(e);return n&&(n.removeClass("ke-disabled"),n.opacity(1)),t},disable:function(e){var t=this,n=e.get?e:t.get(e);return n&&(n.removeClass("ke-selected").addClass("ke-disabled"),n.opacity(.5)),t},disableAll:function(e,t){var n=this,o=n.noDisableItemMap;return t&&(o=re(t)),(e===void 0?!n.disableMode:e)?(v("span.ke-outline",n.div).each(function(){var i=v(this),s=i[0].getAttribute("data-name",2);o[s]||n.disable(i)}),n.disableMode=!0):(v("span.ke-outline",n.div).each(function(){var i=v(this),s=i[0].getAttribute("data-name",2);o[s]||n.enable(i)}),n.disableMode=!1),n}}),v.ToolbarClass=xt,v.toolbar=Tn,ge(ot,Me,{init:function(e){var t=this;e.z=e.z||811213,ot.parent.init.call(t,e),t.centerLineMode=V(e.centerLineMode,!0),t.div.addClass("ke-menu").bind("click,mousedown",function(n){n.stopPropagation()}).attr("unselectable","on")},addItem:function(e){var t=this;if(e.title==="-")return void t.div.append(v('<div class="ke-menu-separator"></div>'));var n=v('<div class="ke-menu-item" unselectable="on"></div>'),o=v('<div class="ke-inline-block ke-menu-item-left"></div>'),i=v('<div class="ke-inline-block ke-menu-item-right"></div>'),s=J(e.height),c=V(e.iconClass,"");t.div.append(n),s&&(n.css("height",s),i.css("line-height",s));var a;return t.centerLineMode&&(a=v('<div class="ke-inline-block ke-menu-item-center"></div>'),s&&a.css("height",s)),n.mouseover(function(r){v(this).addClass("ke-menu-item-on"),a&&a.addClass("ke-menu-item-center-on")}).mouseout(function(r){v(this).removeClass("ke-menu-item-on"),a&&a.removeClass("ke-menu-item-center-on")}).click(function(r){e.click.call(v(this)),r.stopPropagation()}).append(o),a&&n.append(a),n.append(i),e.checked&&(c="ke-icon-checked icon-ke-font"),c!==""&&o.html('<span class="ke-inline-block ke-toolbar-icon icon-ke-font ke-toolbar-icon-url '+c+'"></span>'),i.html(e.title),t},remove:function(){var e=this;return e.options.beforeRemove&&e.options.beforeRemove.call(e),v(".ke-menu-item",e.div[0]).unbind(),ot.parent.remove.call(e),e}}),v.MenuClass=ot,v.menu=Kt,ge(lt,Me,{init:function(e){var t=this;e.z=e.z||811213,lt.parent.init.call(t,e);var n=e.colors||[["#1abc9c","#2ecc71","#3498db","#9b59b6","#4e5f70","#f1c40f"],["#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50","#f39c12"],["#E53333","#E56600","#FF9900","#64451D","#DFC5A4","#FFE500"],["#009900","#006600","#99BB00","#B8D100","#60D978","#00D5FF"],["#337FE5","#003399","#4C33E5","#9933E5","#CC33E5","#EE33EE"],["#FFFFFF","#CCCCCC","#999999","#666666","#333333","#000000"]];t.selectedColor=(e.selectedColor||"").toLowerCase(),t._cells=[],t.div.addClass("ke-colorpicker").bind("click,mousedown",function(r){r.stopPropagation()}).attr("unselectable","on");var o=t.doc.createElement("table");t.div.append(o),o.className="ke-colorpicker-table",o.cellPadding=0,o.cellSpacing=0,o.border=0;var i=o.insertRow(0),s=i.insertCell(0);s.colSpan=n[0].length,t._addAttr(s,"","ke-colorpicker-cell-top");for(var c=0;c<n.length;c++){i=o.insertRow(c+1);for(var a=0;a<n[c].length;a++)s=i.insertCell(a),t._addAttr(s,n[c][a],"ke-colorpicker-cell")}},_addAttr:function(e,t,n){var o=this;e=v(e).addClass(n),o.selectedColor===t.toLowerCase()&&e.addClass("ke-colorpicker-cell-selected"),e.attr("title",t||o.options.noColor),e.mouseover(function(i){v(this).addClass("ke-colorpicker-cell-on")}),e.mouseout(function(i){v(this).removeClass("ke-colorpicker-cell-on")}),e.click(function(i){i.stop(),o.options.click.call(v(this),t)}),t?e.append(v('<div class="ke-colorpicker-cell-color" unselectable="on"></div>').css("background-color",t)):e.html(o.options.noColor),v(e).attr("unselectable","on"),o._cells.push(e)},remove:function(){var e=this;return z(e._cells,function(){this.unbind()}),lt.parent.remove.call(e),e}}),v.ColorPickerClass=lt,v.colorpicker=_n,ge(Gt,{init:function(e){var t=this,n=v(e.button),o=e.fieldName||"file",i=e.url||"",s=n.val(),c=e.extraParams||{},a=e.uploadResponseFilter,r=e.uploadCompress,d=n[0].className||"",u=e.target||"kindeditor_upload_iframe_"+new Date().getTime();e.afterError=e.afterError||function(b){alert(b)};var l=[];for(var f in c)l.push('<input type="hidden" name="'+f+'" value="'+c[f]+'" />');var p=['<div class="ke-inline-block '+d+'">',e.target?"":'<iframe name="'+u+'" style="display:none;"></iframe>',e.form?'<div class="ke-upload-area">':'<form class="ke-upload-area ke-form" method="post" enctype="multipart/form-data" target="'+u+'" action="'+i+'">','<span class="ke-button-common">',l.join(""),'<input type="button" class="ke-button-common ke-button" value="'+s+'" />',"</span>",'<input type="file" class="ke-upload-file" name="'+o+'" tabindex="-1" />',e.form?"</div>":"</form>","</div>"].join(""),m=v(p,n.doc);n.hide(),n.before(m),t.div=m,t.button=n,t.fileBox=v(".ke-upload-file",m),t.form=e.form?v(e.form):v("form",m);var g=v.undef(e.fileSizeLimit,"1MB"),y=v.undef(e.fileTypeLimit,"*.jpg;*.gif;*.png");t.uploader=WebUploader.create({server:e.uploadUrl,resize:!1,fileVal:"file",accept:{title:"Images",extensions:y.replace(/\*\./g,"").replace(/;/g,","),mimeTypes:"image/*"},headers:e.uploadHeader,formData:e.uploadData,fileNumLimit:1,fileSingleSizeLimit:1*g.replace(/MB/g,"")*1024*1024}),r!==void 0&&(t.uploader.options.compress=r),t.uploader.on("uploadStart",function(b){}),t.uploader.on("uploadSuccess",function(b,T){var M=T;a&&(M=a.call(null,T)),t.options.afterUpload.call(t,M)}),t.uploader.on("uploadError",function(b,T){t.options.afterUpload.call(t,{error:1,message:"[http-error]\u56FE\u7247\u4E0A\u4F20\u5931\u8D25\uFF01"})}),t.uploader.on("error",function(b){var T="\u6587\u4EF6\u4E0A\u4F20\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5\uFF01";b==="Q_TYPE_DENIED"?T="["+arguments[1].name+"]\u6587\u4EF6\u7C7B\u578B\u4E0D\u6B63\u786E\uFF01":b==="F_EXCEED_SIZE"?T="\u6587\u4EF6\u5927\u5C0F\u8D85\u51FA\u9650\u5236\uFF08\u6700\u5927"+1*e.fileSizeLimit.replace(/MB/g,"")+"M\uFF09\uFF01":b==="F_DUPLICATE"&&(T="["+arguments[1].name+"]\u6587\u4EF6\u5DF2\u5B58\u5728\u4E8E\u5F85\u4E0A\u4F20\u5217\u8868\u4E2D\uFF01"),console.error("\u6587\u4EF6\u4E0A\u4F20\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5\uFF01",arguments),t.options.afterUpload.call(t,{error:1,message:T}),t.uploader.reset(),t.form&&t.form[0]&&t.form[0].reset&&t.form[0].reset()}),t.fileBox.bind("change",function(){t.uploader.reset(),this.files&&t.uploader.addFiles(this.files)});var w=e.width||v(".ke-button-common",m).width();v(".ke-upload-area",m).width(w),t.options=e},submit:function(){var e=this,t=e.uploader.getFiles();return t.length<=0?(alert("\u8BF7\u9009\u62E9\u6587\u4EF6"),void e.uploader.reset()):(setTimeout(function(){e.uploader.upload()},100),e)},remove:function(){var e=this;return e.fileBox&&e.fileBox.unbind(),e.div.remove(),e.button.show(),e}}),v.UploadButtonClass=Gt,v.uploadbutton=gi,ge(at,Me,{init:function(e){var t=this,n=V(e.shadowMode,!0);e.z=e.z||811213,e.shadowMode=!1,e.autoScroll=V(e.autoScroll,!0),at.parent.init.call(t,e);var o=e.title,i=v(e.body,t.doc),s=e.previewBtn,c=e.yesBtn,a=e.noBtn,r=e.closeBtn,d=V(e.showMask,!0);t.div.addClass("ke-dialog").bind("click,mousedown",function(w){w.stopPropagation()});var u=v('<div class="ke-dialog-content"></div>').appendTo(t.div);Y&&7>ce?t.iframeMask=v('<iframe src="about:blank" class="ke-dialog-shadow"></iframe>').appendTo(t.div):n&&v('<div class="ke-dialog-shadow"></div>').appendTo(t.div);var l=v('<div class="ke-dialog-header"></div>');u.append(l),l.html(o),t.closeIcon=v('<span class="ke-dialog-icon-close" title="'+r.name+'"></span>').click(r.click),l.append(t.closeIcon),t.draggable({clickEl:l,beforeDrag:e.beforeDrag});var f=v('<div class="ke-dialog-body"></div>');u.append(f),f.append(i);var p=v('<div class="ke-dialog-footer"></div>');if((s||c||a)&&u.append(p),z([{btn:s,name:"preview"},{btn:c,name:"yes"},{btn:a,name:"no"}],function(){if(this.btn){var w=vi(this.btn);w.addClass("ke-dialog-"+this.name),p.append(w)}}),t.height&&f.height(Z(t.height)-l.height()-p.height()-2),t.div.width(t.div.width()),t.div.height(t.div.height()),t.mask=null,d){var m=ke(t.doc),g=Math.max(m.scrollWidth,m.clientWidth),y=Math.max(m.scrollHeight,m.clientHeight);t.mask=$t({x:0,y:0,z:t.z-1,cls:"ke-dialog-mask",width:g,height:y})}t.autoPos(t.div.width(),t.div.height()),t.footerDiv=p,t.bodyDiv=f,t.headerDiv=l,t.isLoading=!1},setMaskIndex:function(e){var t=this;t.mask.div.css("z-index",e)},showLoading:function(e){e=V(e,"");var t=this,n=t.bodyDiv;return t.loading=v('<div class="ke-dialog-loading"><div class="ke-inline-block ke-dialog-loading-content" style="margin-top:'+Math.round(n.height()/3)+'px;">'+e+"</div></div>").width(n.width()).height(n.height()).css("top",t.headerDiv.height()+"px"),n.css("visibility","hidden").after(t.loading),t.isLoading=!0,t},hideLoading:function(){return this.loading&&this.loading.remove(),this.bodyDiv.css("visibility","visible"),this.isLoading=!1,this},remove:function(){var e=this;return e.options.beforeRemove&&e.options.beforeRemove.call(e),e.mask&&e.mask.remove(),e.iframeMask&&e.iframeMask.remove(),e.closeIcon.unbind(),v("input",e.div).unbind(),v("button",e.div).unbind(),e.footerDiv.unbind(),e.bodyDiv.unbind(),e.headerDiv.unbind(),v("iframe",e.div).each(function(){v(this).remove()}),at.parent.remove.call(e),e}}),v.DialogClass=at,v.dialog=Sn,v.tabs=yi,v.loadScript=Qt,v.loadStyle=Yt,v.ajax=ki;var Se={},Ee={};st.prototype={lang:function(e){return Nn(e,this.langType)},loadPlugin:function(e,t){var n=this,o=this._pluginStatus;return o||(o=this._pluginStatus={}),Se[e]?ie(Se[e])?(o[e]||(Se[e].call(n,KindEditor),o[e]="inited"),t&&t.call(n),n):(setTimeout(function(){n.loadPlugin(e,t)},100),n):(Se[e]="loading",Qt(n.pluginsPath+e+"/"+e+".js?ver="+encodeURIComponent(v.DEBUG?St:_t),function(){setTimeout(function(){Se[e]&&n.loadPlugin(e,t)},0)}),n)},handler:function(e,t){var n=this;return n._handlers[e]||(n._handlers[e]=[]),ie(t)?(n._handlers[e].push(t),n):(z(n._handlers[e],function(){t=this.call(n,t)}),t)},clickToolbar:function(e,t){var n=this,o="clickToolbar"+e;return t===void 0?n._handlers[o]?n.handler(o):(n.loadPlugin(e,function(){n.handler(o)}),n):n.handler(o,t)},updateState:function(){var e=this;return z("justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,subscript,superscript,bold,italic,underline,strikethrough".split(","),function(t,n){e.cmd.state(n)?e.toolbar.select(n):e.toolbar.unselect(n)}),e},addContextmenu:function(e){return this._contextmenus.push(e),this},afterCreate:function(e){return this.handler("afterCreate",e)},beforeRemove:function(e){return this.handler("beforeRemove",e)},beforeGetHtml:function(e){return this.handler("beforeGetHtml",e)},beforeSetHtml:function(e){return this.handler("beforeSetHtml",e)},afterSetHtml:function(e){return this.handler("afterSetHtml",e)},create:function(){function e(){return r.height()===0?void setTimeout(e,100):void t.resize(o,i,!1)}var t=this,n=t.fullscreenMode;if(t.isCreated||t.srcElement.data("kindeditor"))return t;t.srcElement.data("kindeditor","true"),n?ke().style.overflow="hidden":ke().style.overflow="";var o=n?ke().clientWidth+"px":t.width,i=n?ke().clientHeight+"px":t.height;(Y&&8>ce||Ie)&&(i=J(Z(i)+2));var s=t.container=v(t.layout);n?v(document.body).append(s):t.srcElement.before(s);var c=v(".toolbar",s),a=v(".edit",s),r=t.statusbar=v(".statusbar",s);s.removeClass("container").addClass("ke-container ke-container-"+t.themeType).css("width",o),n?(s.css({position:"absolute",left:0,top:0,"z-index":811211}),Oe||(t._scrollPos=He()),window.scrollTo(0,0),v(document.body).css({height:"1px",overflow:"hidden"}),v(document.body.parentNode).css("overflow","hidden"),t._fullscreenExecuted=!0):(t._fullscreenExecuted&&(v(document.body).css({height:"",overflow:""}),v(document.body.parentNode).css("overflow","")),t._scrollPos&&window.scrollTo(t._scrollPos.x,t._scrollPos.y));var d=[];v.each(t.items,function(p,m){m=="|"?d.push('<span class="ke-inline-block ke-separator"></span>'):m=="/"?d.push('<div class="ke-hr"></div>'):(d.push('<span class="ke-outline" data-name="'+m+'" title="'+t.lang(m)+'" unselectable="on">'),d.push('<span class="ke-toolbar-icon icon-ke-font ke-toolbar-icon-url ke-icon-'+m+'" unselectable="on"></span></span>'))});var u=t.toolbar=Tn({src:c,html:d.join(""),noDisableItems:t.noDisableItems,click:function(p,m){if(p.stop(),t.menu){var g=t.menu.name;if(t.hideMenu(),g===m)return}t.clickToolbar(m)}}),l=Z(i)-u.div.height(),f=t.edit=xn({height:l>0&&Z(i)>t.minHeight?l:t.minHeight,src:a,srcElement:t.srcElement,designMode:t.designMode,themesPath:t.themesPath,bodyClass:t.bodyClass,cssPath:t.cssPath,cssData:t.cssData,editorOptions:t.options,beforeGetHtml:function(p){return p=t.beforeGetHtml(p),p=Ne(Tt(p)),Le(p,t.filterMode?t.htmlTags:null,t.urlType,t.wellFormatMode,t.indentChar)},beforeSetHtml:function(p){return p=Le(p,t.filterMode?t.htmlTags:null,"",!1),t.beforeSetHtml(p)},afterSetHtml:function(){t.edit=f=this,t.afterSetHtml()},afterCreate:function(){if(t.edit=f=this,t.cmd=f.cmd,t._docMousedownFn=function(m){t.menu&&t.hideMenu()},v(f.doc,document).mousedown(t._docMousedownFn),bi.call(t),wi.call(t),xi.call(t),Ci.call(t),f.afterChange(function(m){f.designMode&&(t.updateState(),t.addBookmark(),t.options.afterChange&&t.options.afterChange.call(t))}),f.textarea.keyup(function(m){m.ctrlKey||m.altKey||!Pn[m.which]||t.options.afterChange&&t.options.afterChange.call(t)}),t.readonlyMode&&t.readonly(),t.isCreated=!0,t.initContent===""&&(t.initContent=t.html()),t._undoStack.length>0){var p=t._undoStack.pop();p.start&&(t.html(p.html),f.cmd.range.moveToBookmark(p),t.select())}t.afterCreate(),t.options.afterCreate&&t.options.afterCreate.call(t)}});return r.removeClass("statusbar").addClass("ke-statusbar").append('<span class="ke-inline-block ke-statusbar-center-icon"><i></i><i></i><i></i></span>').append('<span class="ke-inline-block ke-statusbar-right-icon"></span>'),t._fullscreenResizeHandler&&(v(window).unbind("resize",t._fullscreenResizeHandler),t._fullscreenResizeHandler=null),e(),n?(t._fullscreenResizeHandler=function(p){t.isCreated&&t.resize(ke().clientWidth,ke().clientHeight,!1)},v(window).bind("resize",t._fullscreenResizeHandler),u.select("fullscreen"),r.first().css("visibility","hidden"),r.last().css("visibility","hidden")):(Oe&&v(window).bind("scroll",function(p){t._scrollPos=He()}),t.resizeType>0?Wt({moveEl:s,clickEl:r,moveFn:function(p,m,g,y,w,b){y+=b,t.resize(null,y)}}):r.first().css("visibility","hidden"),t.resizeType===2?Wt({moveEl:s,clickEl:r.last(),moveFn:function(p,m,g,y,w,b){g+=w,y+=b,t.resize(g,y)}}):r.last().css("visibility","hidden")),setTimeout(function(){t.focus&&t.focus()},100),t},remove:function(){var e=this;return e.isCreated&&(e.beforeRemove(),e.srcElement.data("kindeditor",""),e.menu&&e.hideMenu(),z(e.dialogs,function(){e.hideDialog()}),v(document).unbind("mousedown",e._docMousedownFn),e.toolbar.remove(),e.edit.remove(),e.statusbar.last().unbind(),e.statusbar.unbind(),e.container.remove(),e.container=e.toolbar=e.edit=e.menu=null,e.dialogs=[],e.isCreated=!1),e},resize:function(e,t,n){var o=this;if(n=V(n,!0),e&&(/%/.test(e)||(e=Z(e),e=e<o.minWidth?o.minWidth:e),o.container.css("width",J(e)),n&&(o.width=J(e))),t){t=Z(t);var i=Z(t)-o.toolbar.div.height()-o.statusbar.height();i=i<o.minHeight?o.minHeight:i,o.edit.setHeight(i),n&&(o.height=J(t))}return o},select:function(){return this.isCreated&&this.cmd.select(),this},html:function(e){var t=this;return e===void 0?t.isCreated?t.edit.html():it(t.srcElement):(t.isCreated?t.edit.html(e):it(t.srcElement,e),t.isCreated&&t.cmd.selection(),t)},fullHtml:function(){return this.isCreated?this.edit.html(void 0,!0):""},text:function(e){var t=this;return e===void 0?te(t.html().replace(/<(?!img|embed).*?>/gi,"").replace(/&nbsp;/gi," ")):t.html(se(e))},isEmpty:function(){return te(this.text().replace(/\r\n|\n|\r/,""))===""},isDirty:function(){return te(this.initContent.replace(/\r\n|\n|\r|t/g,""))!==te(this.html().replace(/\r\n|\n|\r|t/g,""))},selectedHtml:function(){var e=this.isCreated?this.cmd.range.html():"";return e=Ne(Tt(e))},count:function(e){var t=this;return e=(e||"html").toLowerCase(),e==="html"?t.html().length:e==="text"?t.text().replace(/<(?:img|embed).*?>/gi,"K").replace(/\r\n|\n|\r/g,"").length:0},exec:function(e){e=e.toLowerCase();var t=this,n=t.cmd,o=me(e,"selectall,copy,paste,print".split(","))<0;return o&&t.addBookmark(!1),n[e].apply(n,At(arguments,1)),o&&(t.updateState(),t.addBookmark(!1),t.options.afterChange&&t.options.afterChange.call(t)),t},insertHtml:function(e,t){return this.isCreated?(e=this.beforeSetHtml(e),this.exec("inserthtml",e,t),this):this},appendHtml:function(e){if(this.html(this.html()+e),this.isCreated){var t=this.cmd;t.range.selectNodeContents(t.doc.body).collapse(!1),t.select()}return this},sync:function(){return it(this.srcElement,this.html()),this},focus:function(){return this.isCreated?this.edit.focus():this.srcElement[0].focus(),this},blur:function(){return this.isCreated?this.edit.blur():this.srcElement[0].blur(),this},addBookmark:function(e){e=V(e,!0);var t,n=this,o=n.edit,i=o.doc.body,s=Tt(i.innerHTML);if(e&&n._undoStack.length>0){var c=n._undoStack[n._undoStack.length-1];if(Math.abs(s.length-Ne(c.html).length)<n.minChangeSize)return n}if(o.designMode&&!n._firstAddBookmark){var a=n.cmd.range;t=a.createBookmark(!0),t.html=Tt(i.innerHTML),a.moveToBookmark(t)}else t={html:s};return n._firstAddBookmark=!1,In(n._undoStack,t),n},undo:function(){return An.call(this,this._undoStack,this._redoStack)},redo:function(){return An.call(this,this._redoStack,this._undoStack)},fullscreen:function(e){return this.fullscreenMode=e===void 0?!this.fullscreenMode:e,this.addBookmark(!1),this.remove().create()},readonly:function(e){e=V(e,!0);var t=this,n=t.edit,o=n.doc;t.designMode?t.toolbar.disableAll(e,[]):z(t.noDisableItems,function(){t.toolbar[e?"disable":"enable"](this)}),Y?o.body.contentEditable=!e:o.designMode=e?"off":"on",n.textarea[0].disabled=e},createMenu:function(e){var t=this,n=e.name,o=t.toolbar.get(n),i=o.pos();return e.x=i.x,e.y=i.y+o.height(),e.z=t.options.zIndex,e.shadowMode=V(e.shadowMode,t.shadowMode),e.selectedColor!==void 0?(e.cls="ke-colorpicker-"+t.themeType,e.noColor=t.lang("noColor"),t.menu=_n(e)):(e.cls="ke-menu-"+t.themeType,e.centerLineMode=!1,t.menu=Kt(e)),t.menu},hideMenu:function(){return this.menu.remove(),this.menu=null,this},hideContextmenu:function(){return this.contextmenu.remove(),this.contextmenu=null,this},createDialog:function(e){var t=this;if(e.name,e.z=t.options.zIndex,e.shadowMode=V(e.shadowMode,t.shadowMode),e.closeBtn=V(e.closeBtn,{name:t.lang("close"),click:function(s){t.hideDialog(),Y&&t.cmd&&t.cmd.select()}}),e.noBtn=V(e.noBtn,{name:t.lang(e.yesBtn?"no":"close"),click:function(s){t.hideDialog(),Y&&t.cmd&&t.cmd.select()}}),t.dialogAlignType!="page"&&(e.alignEl=t.container),e.cls="ke-dialog-"+t.themeType,t.dialogs.length>0){var n=t.dialogs[0],o=t.dialogs[t.dialogs.length-1];n.setMaskIndex(o.z+2),e.z=o.z+3,e.showMask=!1}var i=Sn(e);return t.dialogs.push(i),i},hideDialog:function(){var e=this;if(e.dialogs.length>0&&e.dialogs.pop().remove(),e.dialogs.length>0){var t=e.dialogs[0],n=e.dialogs[e.dialogs.length-1];t.setMaskIndex(n.z-1)}return e},errorDialog:function(e){var t=this,n=t.createDialog({width:750,title:t.lang("uploadError"),body:'<div style="padding:10px 20px;"><iframe frameborder="0" style="width:708px;height:400px;"></iframe></div>'}),o=v("iframe",n.div),i=v.iframeDoc(o);return i.open(),i.write(e),i.close(),v(i.body).css("background-color","#FFF"),o[0].contentWindow.focus(),t}};var pt=[];return v.remove=function(e){ct(e,function(t){this.remove(),pt.splice(t,1)})},v.sync=function(e){ct(e,function(){this.sync()})},v.html=function(e,t){ct(e,function(){this.html(t)})},v.insertHtml=function(e,t){ct(e,function(){this.insertHtml(t)})},v.appendHtml=function(e,t){ct(e,function(){this.appendHtml(t)})},Y&&7>ce&&De(document,"BackgroundImageCache",!0),v.EditorClass=st,v.editor=Ti,v.create=Rn,v.instances=pt,v.plugin=Dn,v.lang=Nn,Dn("core",function(e){var t=this,n={undo:"Z",redo:"Y",bold:"B",italic:"I",underline:"U",print:"P",selectall:"A"};if(t.afterSetHtml(function(){t.options.afterChange&&t.options.afterChange.call(t)}),t.afterCreate(function(){if(t.syncType=="form"){for(var i=e(t.srcElement),s=!1;i=i.parent();)if(i.name=="form"){s=!0;break}if(s){i.bind("submit",function(a){t.sync(),e(window).bind("unload",function(){t.edit.textarea.remove()})});var c=e('[type="reset"]',i);c.click(function(){t.html(t.initContent),t.cmd.selection()}),t.beforeRemove(function(){i.unbind(),c.unbind()})}}}),t.clickToolbar("source",function(){t.edit.designMode?(t.toolbar.disableAll(!0),t.edit.design(!1),t.toolbar.select("source")):(t.toolbar.disableAll(!1),t.edit.design(!0),t.toolbar.unselect("source"),Oe?setTimeout(function(){t.cmd.selection()},0):t.cmd.selection()),t.designMode=t.edit.designMode}),t.afterCreate(function(){t.designMode||t.toolbar.disableAll(!0).select("source")}),t.clickToolbar("fullscreen",function(){t.fullscreen()}),t.fullscreenShortcut){var o=!1;t.afterCreate(function(){if(e(t.edit.doc,t.edit.textarea).keyup(function(i){i.which==27&&setTimeout(function(){t.fullscreen()},0)}),o){if(Y&&!t.designMode)return;t.focus()}o||(o=!0)})}z("undo,redo".split(","),function(i,s){n[s]&&t.afterCreate(function(){Lt(this.edit.doc,n[s],function(){t.clickToolbar(s)})}),t.clickToolbar(s,function(){t[s]()})}),t.clickToolbar("formatblock",function(){var i=t.lang("formatblock.formatBlock"),s={h1:28,h2:24,h3:18,H4:14,p:12},c=t.cmd.val("formatblock"),a=t.createMenu({name:"formatblock",width:t.langType=="en"?200:150});z(i,function(r,d){var u="font-size:"+s[r]+"px;";r.charAt(0)==="h"&&(u+="font-weight:bold;"),a.addItem({title:'<span style="'+u+'" unselectable="on">'+d+"</span>",height:s[r]+12,checked:c===r||c===d,click:function(){t.select().exec("formatblock","<"+r+">").hideMenu()}})})}),t.clickToolbar("fontname",function(){var i=t.cmd.val("fontname"),s=t.createMenu({name:"fontname",width:150});z(t.lang("fontname.fontName"),function(c,a){s.addItem({title:'<span style="font-family: '+c+';" unselectable="on">'+a+"</span>",height:30,checked:i===c.toLowerCase()||i===a.toLowerCase(),click:function(){t.exec("fontname",c).hideMenu()}})})}),t.clickToolbar("fontsize",function(){var i=t.cmd.val("fontsize"),s=t.createMenu({name:"fontsize",width:150});z(t.fontSizeTable,function(c,a){s.addItem({title:'<span style="font-size:'+a+';" unselectable="on">'+a+"</span>",height:Z(a)+12,checked:i===a,click:function(){t.exec("fontsize",a).hideMenu()}})})}),z("forecolor,hilitecolor".split(","),function(i,s){t.clickToolbar(s,function(){t.createMenu({name:s,selectedColor:t.cmd.val(s)||"default",colors:t.colorTable,click:function(c){t.exec(s,c).hideMenu()}})})}),z("cut,copy,paste".split(","),function(i,s){t.clickToolbar(s,function(){t.focus();try{t.exec(s,null)}catch{alert(t.lang(s+"Error"))}})}),t.clickToolbar("about",function(){var i='<div style="margin:20px;"><div>KindEditor '+_t+'</div><div>Copyright &copy; <a href="http://www.kindsoft.net/" target="_blank">kindsoft.net</a> All rights reserved.</div></div>';t.createDialog({name:"about",width:350,title:t.lang("about"),body:i})}),t.plugin.getSelectedLink=function(){return t.cmd.commonAncestor("a")},t.plugin.getSelectedPreCode=function(){return t.cmd.commonAncestor("pre")},t.plugin.getSelectedImage=function(){return Ct(t.edit.cmd.range,function(i){return!/^ke-\w+$/i.test(i[0].className)})},t.plugin.getSelectedFlash=function(){return Ct(t.edit.cmd.range,function(i){return i[0].className=="ke-flash"})},t.plugin.getSelectedMedia=function(){return Ct(t.edit.cmd.range,function(i){return i[0].className=="ke-media"||i[0].className=="ke-rm"})},t.plugin.getSelectedAnchor=function(){return Ct(t.edit.cmd.range,function(i){return i[0].className=="ke-anchor"})},z("link,image,flash,media,anchor".split(","),function(i,s){var c=s.charAt(0).toUpperCase()+s.substr(1);z("edit,delete".split(","),function(a,r){t.addContextmenu({title:t.lang(r+c),click:function(){t.loadPlugin(s,function(){t.plugin[s][r](),t.hideMenu()})},cond:t.plugin["getSelected"+c],width:150,iconClass:r=="edit"?"ke-icon-"+s:void 0})}),t.addContextmenu({title:"-"})}),t.plugin.getSelectedTable=function(){return t.cmd.commonAncestor("table")},t.plugin.getSelectedRow=function(){return t.cmd.commonAncestor("tr")},t.plugin.getSelectedCell=function(){return t.cmd.commonAncestor("td")},z("prop,cellprop,colinsertleft,colinsertright,rowinsertabove,rowinsertbelow,rowmerge,colmerge,rowsplit,colsplit,coldelete,rowdelete,insert,delete".split(","),function(i,s){var c=me(s,["prop","delete"])<0?t.plugin.getSelectedCell:t.plugin.getSelectedTable;t.addContextmenu({title:t.lang("table"+s),click:function(){t.loadPlugin("table",function(){t.plugin.table[s](),t.hideMenu()})},cond:c,width:170,iconClass:"ke-icon-table"+s})}),t.addContextmenu({title:"-"}),z("selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript,hr,print,bold,italic,underline,strikethrough,removeformat,unlink".split(","),function(i,s){n[s]&&t.afterCreate(function(){Lt(this.edit.doc,n[s],function(){t.cmd.selection(),t.clickToolbar(s)})}),t.clickToolbar(s,function(){t.focus().exec(s,null)})}),t.afterCreate(function(){function i(){s.range.moveToBookmark(c),s.select(),Ue&&(e("div."+d,a).each(function(){e(this).after("<br />").remove(!0)}),e("span.Apple-style-span",a).remove(!0),e("span.Apple-tab-span",a).remove(!0),e("span[style]",a).each(function(){e(this).css("white-space")=="nowrap"&&e(this).remove(!0)}),e("meta",a).remove());var l=a[0].innerHTML;a.remove(),l!==""&&(Ue&&(l=l.replace(/(<br>)\1/gi,"$1")),t.pasteType===2&&(l=l.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi,""),/schemas-microsoft-com|worddocument|mso-\w+/i.test(l)?l=an(l,t.filterMode?t.htmlTags:e.options.htmlTags):(l=Le(l,t.filterMode?t.htmlTags:null),l=t.beforeSetHtml(l))),t.pasteType===1&&(l=l.replace(/&nbsp;/gi," "),l=l.replace(/\n\s*\n/g,`
`),l=l.replace(/<br[^>]*>/gi,`
`),l=l.replace(/<\/p><p[^>]*>/gi,`
`),l=l.replace(/<[^>]+>/g,""),l=l.replace(/ {2}/g," &nbsp;"),t.newlineTag=="p"?/\n/.test(l)&&(l=l.replace(/^/,"<p>").replace(/$/,"<br /></p>").replace(/\n/g,"<br /></p><p>")):l=l.replace(/\n/g,"<br />$&")),t.insertHtml(l,!0))}var s,c,a,r=t.edit.doc,d="__kindeditor_paste__",u=!1;e(r.body).bind("paste",function(l){if(t.pasteType===0)return void l.stop();if(!u){if(u=!0,e("div."+d,r).remove(),s=t.cmd.selection(),c=s.range.createBookmark(),a=e('<div class="'+d+'"></div>',r).css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",left:"-1981px",top:e(c.start).pos().y+"px","white-space":"nowrap"}),e(r.body).append(a),Y){var f=s.range.get(!0);f.moveToElementText(a[0]),f.select(),f.execCommand("paste"),l.preventDefault()}else s.range.selectNodeContents(a[0]),s.select(),a[0].tabIndex=-1,a[0].focus();setTimeout(function(){i(),u=!1},0)}})}),t.beforeGetHtml(function(i){return Y&&8>=ce&&(i=i.replace(/<div\s+[^>]*data-ke-input-tag="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,function(s,c){return unescape(c)}),i=i.replace(/(<input)((?:\s+[^>]*)?>)/gi,function(s,c,a){return/\s+type="[^"]+"/i.test(s)?s:c+' type="text"'+a})),i.replace(/(<(?:noscript|noscript\s[^>]*)>)([\s\S]*?)(<\/noscript>)/gi,function(s,c,a,r){return c+Ze(a).replace(/\s+/g," ")+r}).replace(/<img[^>]*class="?ke-(flash|rm|media)"?[^>]*>/gi,function(s){var c=xe(s),a=je(c.style||""),r=cn(c["data-ke-tag"]),d=V(a.width,""),u=V(a.height,"");return/px/i.test(d)&&(d=Z(d)),/px/i.test(u)&&(u=Z(u)),r.width=V(c.width,d),r.height=V(c.height,u),Ft(r)}).replace(/<img[^>]*class="?ke-anchor"?[^>]*>/gi,function(s){var c=xe(s);return'<a name="'+unescape(c["data-ke-name"])+'"></a>'}).replace(/<div\s+[^>]*data-ke-script-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,function(s,c,a){return"<script"+unescape(c)+">"+unescape(a)+"<\/script>"}).replace(/<div\s+[^>]*data-ke-noscript-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,function(s,c,a){return"<noscript"+unescape(c)+">"+unescape(a)+"</noscript>"}).replace(/(<[^>]*)data-ke-src="([^"]*)"([^>]*>)/gi,function(s,c,a,r){return s=s.replace(/(\s+(?:href|src)=")[^"]*(")/i,function(d,u,l){return u+Ze(a)+l}),s=s.replace(/\s+data-ke-src="[^"]*"/i,"")}).replace(/(<[^>]+\s)data-ke-(on\w+="[^"]*"[^>]*>)/gi,function(s,c,a){return c+a})}),t.beforeSetHtml(function(i){return Y&&8>=ce&&(i=i.replace(/<input[^>]*>|<(select|button)[^>]*>[\s\S]*?<\/\1>/gi,function(s){var c=xe(s),a=je(c.style||"");return a.display=="none"?'<div class="ke-display-none" data-ke-input-tag="'+escape(s)+'"></div>':s})),i.replace(/<embed[^>]*type="([^"]+)"[^>]*>(?:<\/embed>)?/gi,function(s){var c=xe(s);return c.src=V(c.src,""),c.width=V(c.width,0),c.height=V(c.height,0),un(t.themesPath+"common/blank.gif",c)}).replace(/<a[^>]*name="([^"]+)"[^>]*>(?:<\/a>)?/gi,function(s){var c=xe(s);return c.href!==void 0?s:'<img class="ke-anchor" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjY3NDAwOTEzOTg0IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9Ijg3NDQiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxwYXRoIGQ9Ik03NTYuMTM1IDUxMmE4IDggMCAwIDEtNi4zNjctMTIuODQzbDkxLjg2NC0xMjAuNzg1YTggOCAwIDAgMSAxMi43MzYgMGw5MS44NjQgMTIwLjc4NUE4IDggMCAwIDEgOTM5Ljg2NSA1MTJIODg4YzAgMjA3LjY2LTE2OC4zNCAzNzYtMzc2IDM3Ni0yMDUuNTgyIDAtMzcyLjYzLTE2NC45OS0zNzUuOTUtMzY5Ljc4MkwxMzYgNTEySDgyLjEzNWE4IDggMCAwIDEtNi4zNjctMTIuODQzbDkxLjg2NC0xMjAuNzg1YTggOCAwIDAgMSAxMi43MzYgMGw5MS44NjQgMTIwLjc4NUE4IDggMCAwIDEgMjY1Ljg2NSA1MTJIMjEyYzAgMTUzLjUwMSAxMTUuMjg3IDI4MC4wNzYgMjYzLjk5OCAyOTcuODYybDAuMDAxLTM5MC4zOTlDNDEzLjg5MSA0MDMuNDc3IDM2OCAzNDcuMDk4IDM2OCAyODBjMC03OS41MjkgNjQuNDcxLTE0NCAxNDQtMTQ0czE0NCA2NC40NzEgMTQ0IDE0NGMwIDY3LjA5OC00NS44OSAxMjMuNDc3LTEwNy45OTggMTM5LjQ2M2wwLjAwMSAzOTAuMzk5QzY5NS4xMSA3OTIuMjY3IDgwOS41MDcgNjY4LjIyIDgxMS45NiA1MTYuOTZMODEyIDUxMmgtNTUuODY1ek01MTIgMjEyYy0zNy41NTUgMC02OCAzMC40NDUtNjggNjhzMzAuNDQ1IDY4IDY4IDY4IDY4LTMwLjQ0NSA2OC02OC0zMC40NDUtNjgtNjgtNjh6IiBwLWlkPSI4NzQ1IiBmaWxsPSIjZDgxZTA2Ij48L3BhdGg+PC9zdmc+" data-ke-name="'+escape(c.name)+'" style="vertical-align:text-bottom" />'}).replace(/<script([^>]*)>([\s\S]*?)<\/script>/gi,function(s,c,a){return'<div class="ke-script" data-ke-script-attr="'+escape(c)+'">'+escape(a)+"</div>"}).replace(/<noscript([^>]*)>([\s\S]*?)<\/noscript>/gi,function(s,c,a){return'<div class="ke-noscript" data-ke-noscript-attr="'+escape(c)+'">'+escape(a)+"</div>"}).replace(/(<[^>]*)(href|src)="([^"]*)"([^>]*>)/gi,function(s,c,a,r,d){return s.match(/\sdata-ke-src="[^"]*"/i)?s:s=c+a+'="'+r+'" data-ke-src="'+se(r)+'"'+d}).replace(/(<[^>]+\s)(on\w+="[^"]*"[^>]*>)/gi,function(s,c,a){return c+"data-ke-"+a}).replace(/<table[^>]*\s+border="0"[^>]*>/gi,function(s){return s.indexOf("ke-zeroborder")>=0?s:ni(s,"ke-zeroborder")})})}),function(e){return e.KindEditor?e.KindEditor:void 0}(window),KindEditor.lang({source:"Source",preview:"Preview",undo:"Undo(Ctrl+Z)",redo:"Redo(Ctrl+Y)",cut:"Cut(Ctrl+X)",copy:"Copy(Ctrl+C)",paste:"Paste(Ctrl+V)",plainpaste:"Paste as plain text",wordpaste:"Paste from Word",selectall:"Select all",justifyleft:"Align left",justifycenter:"Align center",justifyright:"Align right",justifyfull:"Align full",insertorderedlist:"Ordered list",insertunorderedlist:"Unordered list",indent:"Increase indent",outdent:"Decrease indent",subscript:"Subscript",superscript:"Superscript",formatblock:"Paragraph format",fontname:"Font family",fontsize:"Font size",forecolor:"Text color",hilitecolor:"Highlight color",bold:"Bold(Ctrl+B)",italic:"Italic(Ctrl+I)",underline:"Underline(Ctrl+U)",strikethrough:"Strikethrough",removeformat:"Remove format",image:"Image",multiimage:"Multi image",flash:"Flash",media:"Embeded media",table:"Table",tablecell:"Cell",hr:"Insert horizontal line",emoticons:"Insert emoticon",link:"Link",unlink:"Unlink",fullscreen:"Toggle fullscreen mode",about:"About",print:"Print",filemanager:"File Manager",code:"Insert code",map:"Google Maps",baidumap:"Baidu Maps",lineheight:"Line height",clearhtml:"Clear HTML code",pagebreak:"Insert Page Break",quickformat:"Quick Format",insertfile:"Insert file",template:"Insert Template",anchor:"Anchor",yes:"OK",no:"Cancel",close:"Close",editImage:"Image properties",deleteImage:"Delete image",editFlash:"Flash properties",deleteFlash:"Delete flash",editMedia:"Media properties",deleteMedia:"Delete media",editLink:"Link properties",deleteLink:"Unlink",editAnchor:"Anchor properties",deleteAnchor:"Delete Anchor",tableprop:"Table properties",tablecellprop:"Cell properties",tableinsert:"Insert table",tabledelete:"Delete table",tablecolinsertleft:"Insert column left",tablecolinsertright:"Insert column right",tablerowinsertabove:"Insert row above",tablerowinsertbelow:"Insert row below",tablerowmerge:"Merge down",tablecolmerge:"Merge right",tablerowsplit:"Split row",tablecolsplit:"Split column",tablecoldelete:"Delete column",tablerowdelete:"Delete row",noColor:"Default",pleaseSelectFile:"Please select file.",invalidImg:`Please type valid URL.
Allowed file extension: jpg,gif,bmp,png`,invalidMedia:`Please type valid URL.
Allowed file extension: swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb`,invalidWidth:"The width must be number.",invalidHeight:"The height must be number.",invalidBorder:"The border must be number.",invalidUrl:"Please type valid URL.",invalidRows:"Invalid rows.",invalidCols:"Invalid columns.",invalidPadding:"The padding must be number.",invalidSpacing:"The spacing must be number.",invalidJson:"Invalid JSON string.",uploadSuccess:"Upload success.",cutError:"Currently not supported by your browser, use keyboard shortcut(Ctrl+X) instead.",copyError:"Currently not supported by your browser, use keyboard shortcut(Ctrl+C) instead.",pasteError:"Currently not supported by your browser, use keyboard shortcut(Ctrl+V) instead.",ajaxLoading:"Loading ...",uploadLoading:"Uploading ...",uploadError:"Upload Error","plainpaste.comment":"Use keyboard shortcut(Ctrl+V) to paste the text into the window.","wordpaste.comment":"Use keyboard shortcut(Ctrl+V) to paste the text into the window.","code.pleaseInput":"Please input code.","link.url":"URL","link.linkType":"Target","link.newWindow":"New window","link.selfWindow":"Same window","flash.url":"URL","flash.width":"Width","flash.height":"Height","flash.upload":"Upload","flash.viewServer":"Browse","media.url":"URL","media.width":"Width","media.height":"Height","media.autostart":"Auto start","media.upload":"Upload","media.viewServer":"Browse","image.remoteImage":"Insert URL","image.localImage":"Upload","image.remoteUrl":"URL","image.localUrl":"File","image.size":"Size","image.width":"Width","image.height":"Height","image.resetSize":"Reset dimensions","image.align":"Align","image.defaultAlign":"Default","image.leftAlign":"Left","image.rightAlign":"Right","image.imgTitle":"Title","image.upload":"Browse","image.viewServer":"Browse","multiimage.uploadDesc":"Allows users to upload <%=uploadLimit%> images, single image size not exceeding <%=sizeLimit%>","multiimage.startUpload":"Start upload","multiimage.clearAll":"Clear all","multiimage.insertAll":"Insert all","multiimage.queueLimitExceeded":"Queue limit exceeded.","multiimage.fileExceedsSizeLimit":"File exceeds size limit.","multiimage.zeroByteFile":"Zero byte file.","multiimage.invalidFiletype":"Invalid file type.","multiimage.unknownError":"Unknown upload error.","multiimage.pending":"Pending ...","multiimage.uploadError":"Upload error","filemanager.emptyFolder":"Blank","filemanager.moveup":"Parent folder","filemanager.viewType":"Display: ","filemanager.viewImage":"Thumbnails","filemanager.listImage":"List","filemanager.orderType":"Sorting: ","filemanager.fileName":"By name","filemanager.fileSize":"By size","filemanager.fileType":"By type","insertfile.url":"URL","insertfile.title":"Title","insertfile.upload":"Upload","insertfile.viewServer":"Browse","table.cells":"Cells","table.rows":"Rows","table.cols":"Columns","table.size":"Dimensions","table.width":"Width","table.height":"Height","table.percent":"%","table.px":"px","table.space":"Space","table.padding":"Padding","table.spacing":"Spacing","table.align":"Align","table.textAlign":"Horizontal","table.verticalAlign":"Vertical","table.alignDefault":"Default","table.alignLeft":"Left","table.alignCenter":"Center","table.alignRight":"Right","table.alignTop":"Top","table.alignMiddle":"Middle","table.alignBottom":"Bottom","table.alignBaseline":"Baseline","table.border":"Border","table.borderWidth":"Width","table.borderColor":"Color","table.backgroundColor":"Background","map.address":"Address: ","map.search":"Search","baidumap.address":"Address: ","baidumap.search":"Search","baidumap.insertDynamicMap":"Dynamic Map","anchor.name":"Anchor name","formatblock.formatBlock":{h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",p:"Normal"},"fontname.fontName":{Arial:"Arial","Arial Black":"Arial Black","Comic Sans MS":"Comic Sans MS","Courier New":"Courier New",Garamond:"Garamond",Georgia:"Georgia",Tahoma:"Tahoma","Times New Roman":"Times New Roman","Trebuchet MS":"Trebuchet MS",Verdana:"Verdana"},"lineheight.lineHeight":[{1:"Line height 1"},{1.5:"Line height 1.5"},{2:"Line height 2"},{2.5:"Line height 2.5"},{3:"Line height 3"}],"template.selectTemplate":"Template","template.replaceContent":"Replace current content","template.fileList":{"1.html":"Image and Text","2.html":"Table","3.html":"List"}},"en"),KindEditor.each(KindEditor.options.items,function(e,t){}),KindEditor.options.langType="en",KindEditor.plugin("anchor",function(e){var t=this,n="anchor",o=t.lang(n+".");t.plugin.anchor={edit:function(){var i=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keName">'+o.name+"</label>",'<input class="ke-input-text" type="text" id="keName" name="name" value="" style="width:260px;" />',"</div>","</div>"].join(""),s=t.createDialog({name:n,width:360,title:t.lang(n),body:i,yesBtn:{name:t.lang("yes"),click:function(d){t.insertHtml('<a name="'+a.val()+'">').hideDialog().focus()}}}),c=s.div,a=e('input[name="name"]',c),r=t.plugin.getSelectedAnchor();r&&a.val(unescape(r.attr("data-ke-name"))),a[0].focus(),a[0].select()},delete:function(){t.plugin.getSelectedAnchor().remove()}},t.clickToolbar(n,t.plugin.anchor.edit)}),KindEditor.plugin("autoheight",function(e){function t(){var c=i.edit,a=c.doc.body;c.iframe[0].scroll="no",a.style.overflowY="hidden"}function n(){if(!i.fullscreenMode){var c=i.edit,a=c.doc.body;c.iframe.height(s);var r=i.toolbar,d=e(r.div).height(),u=Math.max(e.IE?a.scrollHeight:a.offsetHeight,s,e(a).height())+d+30;i.resize(null,u),a.scrollTo({top:0})}}function o(){s=e.removeUnit(i.height),i.edit.afterChange(n),i.fullscreenMode||t(),n()}var i=this;if(i.autoHeightMode){var s;i.isCreated?o():i.afterCreate(o)}}),KindEditor.plugin("baidumap",function(e){var t=this,n="baidumap",o=t.lang(n+"."),i=e.undef(t.baiduMapAk,"9yfaQtWDimlbXuo4TMLmIk7yDjl36eCy"),s=e.undef(t.mapWidth,558),c=e.undef(t.mapHeight,360);t.clickToolbar(n,function(){function a(){r=y[0].contentWindow,d=e.iframeDoc(y),d.open(),d.write(g),d.close()}var r,d,u=['<div style="padding:10px 20px;">','<div class="ke-dialog-row">',o.address+' <input id="kindeditor_plugin_map_address" name="address" class="ke-input-text" value="" style="width:450px;" /> ','<span class="ke-button-common ke-button-outer">','<input type="button" name="searchBtn" class="ke-button-common ke-button" value="'+o.search+'" />',"</span>","</div>",'<div class="ke-map" style="width:'+s+"px;height:"+c+'px;"></div>',"</div>"].join(""),l=t.createDialog({name:n,width:s+42,title:t.lang(n),body:u,yesBtn:{name:t.lang("yes"),click:function(w){var b=r.map,T=b.getCenter(),M=T.lng+","+T.lat,N=b.getZoom(),A=["http://api.map.baidu.com/staticimage/v2?ak="+i,"&center="+encodeURIComponent(M),"&zoom="+encodeURIComponent(N),"&width="+1.5*s,"&height="+1.5*c,"&markers="+encodeURIComponent(M),"&markerStyles="+encodeURIComponent("l,A")].join("");t.exec("insertimage",A,"title",s+"",c+"",0,"","ke-map"),t.hideDialog().focus()}},beforeRemove:function(){m.remove(),d&&d.write(""),y.remove()}}),f=l.div,p=e('[name="address"]',f),m=e('[name="searchBtn"]',f),g=["<!doctype html><html><head>",'<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />',"<style>","	html { height: 100% }","	body { height: 100%; margin: 0; padding: 0; background-color: #FFF }","	#map_canvas { height: 100% }","</style>",'<script charset="utf-8" src="https://api.map.baidu.com/api?v=1.0&type=webgl&ak='+i+'"><\/script>',"<script>","var map, geocoder;","function initialize() {",'	map = new BMapGL.Map("map_canvas");',"	var point = new BMapGL.Point(121.473704, 31.230393);","	map.centerAndZoom(point, 11);","	map.addControl(new BMapGL.NavigationControl());","	map.enableScrollWheelZoom();","	var gc = new BMapGL.Geocoder();","	gc.getLocation(point, function(rs){","		var addComp = rs.addressComponents;",'		var address = [addComp.city].join("");','		parent.document.getElementById("kindeditor_plugin_map_address").value = address;',"	});","}","function search(address) {","	if (!map) return;","	var local = new BMapGL.LocalSearch(map, {","		renderOptions: {","			map: map,","			autoViewport: true,","			selectFirstResult: false","		}","	});","	local.search(address);","}","<\/script>","</head>",'<body onload="initialize();">','<div id="map_canvas" style="width:100%; height:100%"></div>',"</body></html>"].join(`
`),y=e('<iframe class="ke-textarea" frameborder="0" style="width:558px;height:360px;"></iframe>');y.bind("load",function(){y.unbind("load"),e.IE?a():setTimeout(a,0)}),e(".ke-map",f).replaceWith(y),m.click(function(){r.search(p.val())})})}),KindEditor.plugin("clearhtml",function(e){var t=this,n="clearhtml";t.clickToolbar(n,function(){t.focus();var o=t.html();o=o.replace(/(<script[^>]*>)([\s\S]*?)(<\/script>)/gi,""),o=o.replace(/(<style[^>]*>)([\s\S]*?)(<\/style>)/gi,""),o=e.formatHtml(o,{a:["href","target"],embed:["src","width","height","type","loop","autostart","quality",".width",".height","align","allowscriptaccess"],img:["src","width","height","border","alt","title",".width",".height"],table:["border"],"td,th":["rowspan","colspan"],"div,hr,br,tbody,tr,p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6":[]}),t.html(o),t.cmd.selection(!0),t.addBookmark()})}),KindEditor.plugin("code",function(e){var t=this,n="code";t.clickToolbar(n,function(){t.cmd.selection(),console.info(t);var o=t.plugin.getSelectedPreCode(),i="",s="js";o&&(i=o.html(),s=(o.attr("class").match(/lang-(\w+)/gi)||[])[0],s&&(s=s.replace("lang-","")));var c=t.lang(n+"."),a=['<div style="padding:10px 20px;">','<div class="ke-dialog-row">','<select class="ke-code-type">','<option value="js">JavaScript</option>','<option value="html">HTML</option>','<option value="css">CSS</option>','<option value="php">PHP</option>','<option value="pl">Perl</option>','<option value="py">Python</option>','<option value="rb">Ruby</option>','<option value="java">Java</option>','<option value="vb">ASP/VB</option>','<option value="cpp">C/C++</option>','<option value="cs">C#</option>','<option value="xml">XML</option>','<option value="bsh">Shell</option>','<option value="sql">SQL</option>','<option value="">Other</option>',"</select>","</div>",'<textarea class="ke-textarea" style="width:518px;height:260px;">',i,"</textarea>","</div>"].join(""),r=t.createDialog({name:n,width:560,title:t.lang(n),body:a,yesBtn:{name:t.lang("yes"),click:function(l){var f=e(".ke-code-type",r.div).val(),p=d.val().replace(/^\s+/g,"").replace(/\s+$/g,`
`).replace(/(\s*<!--)/g,`
$1`).replace(/>(\s*)(?=<!--\s*\/)/g,"> "),m=f===""?"":" ke-code lang-"+f;return e.trim(p)===""?(alert(c.pleaseInput),void d[0].focus()):o?(o.html(e.escape(p)).attr("class",m),void t.hideDialog().focus()):(a='<pre class="'+m+`">
`+e.escape(p)+`
</pre> `,void t.insertHtml(a).hideDialog().focus())}}}),d=e("textarea",r.div),u=e("select",r.div);e(u).children().each(function(l,f){var p=e(f);p.val()===s?(p.attr("selected",!0),setTimeout(function(){e(u).val(s),u[0].value=s},180)):p.removeAttr("selected")}),d[0].focus()})}),KindEditor.plugin("emoticons",function(e){var t=this,n="emoticons",o={faces:["\u{1F600}","\u{1F601}","\u{1F602}","\u{1F923}","\u{1F603}","\u{1F604}","\u{1F605}","\u{1F606}","\u{1F609}","\u{1F60A}","\u{1F60B}","\u{1F60E}","\u{1F60D}","\u{1F618}","\u{1F970}","\u{1F617}","\u{1F619}","\u{1F61A}","\u{1F642}","\u{1F917}","\u{1F929}","\u{1F914}","\u{1F928}","\u{1F610}","\u{1F611}","\u{1F636}","\u{1F644}","\u{1F60F}","\u{1F623}","\u{1F625}","\u{1F62E}","\u{1F910}","\u{1F62F}","\u{1F62A}","\u{1F62B}","\u{1F634}","\u{1F60C}","\u{1F61B}","\u{1F61C}","\u{1F61D}","\u{1F924}","\u{1F612}","\u{1F613}","\u{1F614}","\u{1F615}","\u{1F643}","\u{1F911}","\u{1F632}","\u{1F641}","\u{1F616}","\u{1F61E}","\u{1F61F}","\u{1F624}","\u{1F622}","\u{1F62D}","\u{1F626}","\u{1F627}","\u{1F628}","\u{1F629}","\u{1F92F}","\u{1F62C}","\u{1F630}","\u{1F631}","\u{1F975}","\u{1F976}","\u{1F633}","\u{1F92A}","\u{1F635}","\u{1F621}","\u{1F620}","\u{1F92C}","\u{1F637}","\u{1F912}","\u{1F915}","\u{1F922}","\u{1F92E}","\u{1F927}","\u{1F607}","\u{1F920}","\u{1F921}","\u{1F973}","\u{1F974}","\u{1F97A}","\u{1F925}","\u{1F92B}","\u{1F92D}","\u{1F9D0}","\u{1F913}"],hands:["\u{1F932}","\u{1F450}","\u{1F64C}","\u{1F44F}","\u{1F91D}","\u{1F44D}","\u{1F44E}","\u{1F44A}","\u270A","\u{1F91B}","\u{1F91C}","\u{1F91E}","\u270C\uFE0F","\u{1F91F}","\u{1F918}","\u{1F44C}","\u{1F448}","\u{1F449}","\u{1F446}","\u{1F447}","\u261D\uFE0F","\u270B","\u{1F91A}","\u{1F590}","\u{1F596}","\u{1F44B}","\u{1F919}","\u{1F4AA}","\u{1F9B5}","\u{1F9B6}","\u{1F595}","\u270D\uFE0F","\u{1F64F}","\u{1F450}\u{1F3FB}","\u{1F64C}\u{1F3FB}","\u{1F44F}\u{1F3FB}","\u{1F64F}\u{1F3FB}","\u{1F44D}\u{1F3FB}","\u{1F44E}\u{1F3FB}","\u{1F44A}\u{1F3FB}","\u270A\u{1F3FB}","\u{1F91B}\u{1F3FB}","\u{1F91C}\u{1F3FB}","\u{1F91E}\u{1F3FB}","\u270C\u{1F3FB}","\u{1F91F}\u{1F3FB}","\u{1F918}\u{1F3FB}","\u{1F44C}\u{1F3FB}","\u{1F448}\u{1F3FB}","\u{1F449}\u{1F3FB}","\u{1F446}\u{1F3FB}","\u{1F447}\u{1F3FB}","\u261D\u{1F3FB}","\u270B\u{1F3FB}","\u{1F91A}\u{1F3FB}","\u{1F590}\u{1F3FB}","\u{1F596}\u{1F3FB}","\u{1F44B}\u{1F3FB}","\u{1F919}\u{1F3FB}","\u{1F4AA}\u{1F3FB}","\u{1F595}\u{1F3FB}","\u270D\u{1F3FB}","\u{1F932}\u{1F3FE}","\u{1F450}\u{1F3FE}","\u{1F64C}\u{1F3FE}","\u{1F44F}\u{1F3FE}","\u{1F64F}\u{1F3FE}","\u{1F44D}\u{1F3FE}","\u{1F44E}\u{1F3FE}","\u{1F44A}\u{1F3FE}","\u270A\u{1F3FE}","\u{1F91B}\u{1F3FE}","\u{1F91C}\u{1F3FE}","\u{1F91E}\u{1F3FE}","\u270C\u{1F3FE}","\u{1F91F}\u{1F3FE}","\u{1F918}\u{1F3FE}","\u{1F44C}\u{1F3FE}","\u{1F448}\u{1F3FE}","\u{1F449}\u{1F3FE}","\u{1F446}\u{1F3FE}","\u{1F447}\u{1F3FE}","\u261D\u{1F3FE}","\u270B\u{1F3FE}","\u{1F91A}\u{1F3FE}","\u{1F590}\u{1F3FE}","\u{1F596}\u{1F3FE}","\u{1F44B}\u{1F3FE}","\u{1F919}\u{1F3FE}","\u{1F4AA}\u{1F3FE}","\u{1F595}\u{1F3FE}","\u270D\u{1F3FE}"],avatar:["\u{1F476}\u{1F3FB}","\u{1F466}\u{1F3FB}","\u{1F467}\u{1F3FB}","\u{1F468}\u{1F3FB}","\u{1F469}\u{1F3FB}","\u{1F471}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F471}\u{1F3FB}","\u{1F474}\u{1F3FB}","\u{1F475}\u{1F3FB}","\u{1F472}\u{1F3FB}","\u{1F473}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F473}\u{1F3FB}","\u{1F46E}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F46E}\u{1F3FB}","\u{1F477}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F477}\u{1F3FB}","\u{1F482}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F482}\u{1F3FB}","\u{1F575}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F575}\u{1F3FB}","\u{1F469}\u{1F3FB}\u200D\u2695\uFE0F","\u{1F468}\u{1F3FB}\u200D\u2695\uFE0F","\u{1F469}\u{1F3FB}\u200D\u{1F33E}","\u{1F468}\u{1F3FB}\u200D\u{1F33E}","\u{1F469}\u{1F3FB}\u200D\u{1F373}","\u{1F468}\u{1F3FB}\u200D\u{1F373}","\u{1F469}\u{1F3FB}\u200D\u{1F393}","\u{1F468}\u{1F3FB}\u200D\u{1F393}","\u{1F469}\u{1F3FB}\u200D\u{1F3A4}","\u{1F468}\u{1F3FB}\u200D\u{1F3A4}","\u{1F469}\u{1F3FB}\u200D\u{1F3EB}","\u{1F468}\u{1F3FB}\u200D\u{1F3EB}","\u{1F469}\u{1F3FB}\u200D\u{1F3ED}","\u{1F468}\u{1F3FB}\u200D\u{1F3ED}","\u{1F469}\u{1F3FB}\u200D\u{1F4BB}","\u{1F468}\u{1F3FB}\u200D\u{1F4BB}","\u{1F469}\u{1F3FB}\u200D\u{1F4BC}","\u{1F468}\u{1F3FB}\u200D\u{1F4BC}","\u{1F469}\u{1F3FB}\u200D\u{1F527}","\u{1F468}\u{1F3FB}\u200D\u{1F527}","\u{1F469}\u{1F3FB}\u200D\u{1F52C}","\u{1F468}\u{1F3FB}\u200D\u{1F52C}","\u{1F469}\u{1F3FB}\u200D\u{1F3A8}","\u{1F468}\u{1F3FB}\u200D\u{1F3A8}","\u{1F469}\u{1F3FB}\u200D\u{1F692}","\u{1F468}\u{1F3FB}\u200D\u{1F692}","\u{1F469}\u{1F3FB}\u200D\u2708\uFE0F","\u{1F468}\u{1F3FB}\u200D\u2708\uFE0F","\u{1F469}\u{1F3FB}\u200D\u{1F680}","\u{1F468}\u{1F3FB}\u200D\u{1F680}","\u{1F469}\u{1F3FB}\u200D\u2696\uFE0F","\u{1F468}\u{1F3FB}\u200D\u2696\uFE0F","\u{1F936}\u{1F3FB}","\u{1F385}\u{1F3FB}","\u{1F478}\u{1F3FB}","\u{1F934}\u{1F3FB}","\u{1F470}\u{1F3FB}","\u{1F935}\u{1F3FB}","\u{1F47C}\u{1F3FB}","\u{1F930}\u{1F3FB}","\u{1F647}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F647}\u{1F3FB}","\u{1F481}\u{1F3FB}","\u{1F481}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F645}\u{1F3FB}","\u{1F645}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F646}\u{1F3FB}","\u{1F646}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F64B}\u{1F3FB}","\u{1F64B}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F926}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F926}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F937}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F937}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F64E}\u{1F3FB}","\u{1F64E}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F64D}\u{1F3FB}","\u{1F64D}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F487}\u{1F3FB}","\u{1F487}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F486}\u{1F3FB}","\u{1F486}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F574}\u{1F3FB}","\u{1F483}\u{1F3FB}","\u{1F57A}\u{1F3FB}","\u{1F6B6}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F6B6}\u{1F3FB}","\u{1F3C3}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F3C3}\u{1F3FB}"],foods:["\u{1F34F}","\u{1F34E}","\u{1F350}","\u{1F34A}","\u{1F34B}","\u{1F34C}","\u{1F349}","\u{1F347}","\u{1F353}","\u{1F348}","\u{1F352}","\u{1F351}","\u{1F34D}","\u{1F96D}","\u{1F965}","\u{1F95D}","\u{1F345}","\u{1F346}","\u{1F951}","\u{1F966}","\u{1F952}","\u{1F96C}","\u{1F336}","\u{1F33D}","\u{1F955}","\u{1F954}","\u{1F360}","\u{1F950}","\u{1F35E}","\u{1F956}","\u{1F968}","\u{1F96F}","\u{1F9C0}","\u{1F95A}","\u{1F373}","\u{1F95E}","\u{1F953}","\u{1F969}","\u{1F357}","\u{1F356}","\u{1F32D}","\u{1F354}","\u{1F35F}","\u{1F355}","\u{1F96A}","\u{1F959}","\u{1F32E}","\u{1F32F}","\u{1F957}","\u{1F958}","\u{1F96B}","\u{1F35D}","\u{1F35C}","\u{1F372}","\u{1F35B}","\u{1F363}","\u{1F371}","\u{1F95F}","\u{1F364}","\u{1F359}","\u{1F35A}","\u{1F358}","\u{1F365}","\u{1F96E}","\u{1F960}","\u{1F362}","\u{1F361}","\u{1F367}","\u{1F368}","\u{1F366}","\u{1F967}","\u{1F370}","\u{1F382}","\u{1F36E}","\u{1F36D}","\u{1F36C}","\u{1F36B}","\u{1F37F}","\u{1F9C2}","\u{1F369}","\u{1F36A}","\u{1F330}","\u{1F95C}","\u{1F36F}","\u{1F95B}","\u{1F37C}","\u2615\uFE0F","\u{1F375}","\u{1F964}","\u{1F376}","\u{1F37A}","\u{1F37B}","\u{1F942}","\u{1F377}","\u{1F943}","\u{1F378}","\u{1F379}","\u{1F37E}","\u{1F944}","\u{1F374}","\u{1F37D}","\u{1F963}","\u{1F961}","\u{1F962}"],animals:["\u{1F436}","\u{1F431}","\u{1F42D}","\u{1F439}","\u{1F430}","\u{1F98A}","\u{1F99D}","\u{1F43B}","\u{1F43C}","\u{1F998}","\u{1F9A1}","\u{1F428}","\u{1F42F}","\u{1F981}","\u{1F42E}","\u{1F437}","\u{1F43D}","\u{1F438}","\u{1F435}","\u{1F648}","\u{1F649}","\u{1F64A}","\u{1F412}","\u{1F414}","\u{1F427}","\u{1F426}","\u{1F424}","\u{1F423}","\u{1F425}","\u{1F986}","\u{1F9A2}","\u{1F985}","\u{1F989}","\u{1F99A}","\u{1F99C}","\u{1F987}","\u{1F43A}","\u{1F417}","\u{1F434}","\u{1F984}","\u{1F41D}","\u{1F41B}","\u{1F98B}","\u{1F40C}","\u{1F41A}","\u{1F41E}","\u{1F41C}","\u{1F997}","\u{1F577}","\u{1F578}","\u{1F982}","\u{1F99F}","\u{1F9A0}","\u{1F422}","\u{1F40D}","\u{1F98E}","\u{1F996}","\u{1F995}","\u{1F419}","\u{1F991}","\u{1F990}","\u{1F980}","\u{1F421}","\u{1F420}","\u{1F41F}","\u{1F42C}","\u{1F433}","\u{1F40B}","\u{1F988}","\u{1F40A}","\u{1F405}","\u{1F406}","\u{1F993}","\u{1F98D}","\u{1F418}","\u{1F98F}","\u{1F99B}","\u{1F42A}","\u{1F42B}","\u{1F999}","\u{1F992}","\u{1F403}","\u{1F402}","\u{1F404}","\u{1F40E}","\u{1F416}","\u{1F40F}","\u{1F411}","\u{1F410}","\u{1F98C}","\u{1F415}","\u{1F429}","\u{1F408}","\u{1F413}","\u{1F983}","\u{1F54A}","\u{1F407}","\u{1F401}","\u{1F400}","\u{1F43F}","\u{1F994}","\u{1F43E}","\u{1F409}","\u{1F432}"],nature:["\u{1F335}","\u{1F384}","\u{1F332}","\u{1F333}","\u{1F334}","\u{1F331}","\u{1F33F}","\u2618\uFE0F","\u{1F340}","\u{1F38D}","\u{1F38B}","\u{1F343}","\u{1F342}","\u{1F341}","\u{1F344}","\u{1F33E}","\u{1F490}","\u{1F337}","\u{1F339}","\u{1F940}","\u{1F33A}","\u{1F338}","\u{1F33C}","\u{1F33B}","\u{1F31E}","\u{1F31D}","\u{1F31B}","\u{1F31C}","\u{1F31A}","\u{1F315}","\u{1F316}","\u{1F317}","\u{1F318}","\u{1F311}","\u{1F312}","\u{1F313}","\u{1F314}","\u{1F319}","\u{1F30E}","\u{1F30D}","\u{1F30F}","\u{1F4AB}","\u2B50\uFE0F","\u{1F31F}","\u2728","\u26A1\uFE0F","\u2604\uFE0F","\u{1F4A5}","\u{1F525}","\u{1F32A}","\u{1F308}","\u2600\uFE0F","\u{1F324}","\u26C5\uFE0F","\u{1F325}","\u2601\uFE0F","\u{1F326}","\u{1F327}","\u26C8","\u{1F329}","\u{1F328}","\u2744\uFE0F","\u2603\uFE0F","\u26C4\uFE0F","\u{1F32C}","\u{1F4A8}","\u{1F4A7}","\u{1F4A6}","\u2614\uFE0F","\u2602\uFE0F"],tags:["\u2764\uFE0F","\u{1F9E1}","\u{1F49B}","\u{1F49A}","\u{1F499}","\u{1F49C}","\u{1F5A4}","\u{1F494}","\u2763\uFE0F","\u{1F495}","\u{1F49E}","\u{1F493}","\u{1F497}","\u{1F496}","\u{1F498}","\u{1F49D}","\u{1F49F}","\u262E\uFE0F","\u271D\uFE0F","\u262A\uFE0F","\u{1F549}","\u2638\uFE0F","\u2721\uFE0F","\u{1F52F}","\u{1F54E}","\u262F\uFE0F","\u2626\uFE0F","\u{1F6D0}","\u26CE","\u2648\uFE0F","\u2649\uFE0F","\u264A\uFE0F","\u264B\uFE0F","\u264C\uFE0F","\u264D\uFE0F","\u264E\uFE0F","\u264F\uFE0F","\u2650\uFE0F","\u2651\uFE0F","\u2652\uFE0F","\u2653\uFE0F","\u{1F194}","\u{1F6BB}","\u{1F6AE}","\u{1F3A6}","\u{1F4F6}","\u{1F201}","\u{1F523}","\u2139\uFE0F","\u{1F524}","\u{1F521}","\u{1F520}","\u{1F196}","\u{1F197}","\u{1F199}","\u{1F192}","\u{1F195}","\u{1F193}","0\uFE0F\u20E3","1\uFE0F\u20E3","2\uFE0F\u20E3","3\uFE0F\u20E3","4\uFE0F\u20E3","5\uFE0F\u20E3","6\uFE0F\u20E3","7\uFE0F\u20E3","8\uFE0F\u20E3","9\uFE0F\u20E3","\u{1F51F}","\u{1F522}","#\uFE0F\u20E3","*\uFE0F\u20E3","\u23CF\uFE0F","\u25B6\uFE0F","\u23F8","\u23EF","\u23F9","\u23FA","\u23ED","\u23EE","\u23E9","\u23EA","\u23EB","\u23EC","\u25C0\uFE0F","\u{1F53C}","\u{1F53D}","\u27A1\uFE0F","\u2B05\uFE0F","\u2B06\uFE0F","\u2B07\uFE0F","\u2197\uFE0F","\u2198\uFE0F","\u2199\uFE0F","\u2196\uFE0F","\u2195\uFE0F","\u2194\uFE0F","\u21AA\uFE0F","\u21A9\uFE0F","\u2934\uFE0F","\u2935\uFE0F","\u{1F500}","\u{1F501}","\u{1F502}","\u{1F504}","\u{1F503}"]},i={cols:10,total:Object.keys(o),current:"faces",tags:{faces:"\u8868\u60C5",hands:"\u624B\u52BF",avatar:"\u5934\u50CF",foods:"\u98DF\u7269",animals:"\u52A8\u7269",nature:"\u81EA\u7136",tags:"\u7B26\u53F7"}};t.emojiConfig&&t.emojiConfig instanceof Function&&t.emojiConfig.call(null,o,i),t.clickToolbar(n,function(){function s(T,M){T.mouseover(function(){e(this).addClass("ke-on")}),T.mouseout(function(){e(this).removeClass("ke-on")}),T.click(function(N){t.insertHtml(M).hideMenu(),setTimeout(function(){t.focus(),t.cmd.select(),t.cmd.selection(!0)},100),N.stop()})}function c(T,M){var N=document.createElement("ul");M.append(N),N.className="ke-ul";for(var A,P=Math.ceil(o[T].length/i.cols),B=0;P>B;B++){var E=document.createElement("li");e(E).addClass("ke-li"),e(N).append(E);for(var _=0;_<i.cols;_++)if(A=o[T][i.cols*B+_],A!==void 0){var x=e('<span class="ke-emoji">'+A+"</span>");s(x,A),e(E).append(x),u.push(x)}}return N}function a(){e.each(u,function(){this.unbind()})}function r(T,M){T.click(function(N){a(),w.parentNode.removeChild(w),y.remove(),w=c(M,l),d(M),i.current=M,N.stop()})}function d(T){y=e('<div class="ke-page"></div>'),l.append(y);for(var M in i.tags){var N=i.tags[M];if(M!==T){var A=e('<span class="ke-page-item"><a href="javascript:;">['+N+"]</a></span>");r(A,M),y.append(A),u.push(A)}else y.append(e('<span class="ke-page-item">['+N+"]</span>"))}}var u=[],l=e('<div class="ke-plugin-emoji"></div>'),f=t.createMenu({name:n,beforeRemove:function(){a()}}),p=e(".ke-toolbar .ke-icon-emoticons").pos().x,m=e(".ke-toolbar .ke-icon-emoticons").width(),g=e(document.body).width();f.div.append(l);var y,w=c(i.current,l),b=e(l).width();p+b>g&&e(f.div).css({left:p-(b-m)+"px"}),d(i.current)})}),KindEditor.plugin("symbols",function(e){var t=this,n="symbols",o={teshu:"\u3001,\u3002,\xB7,\u02C9,\u02C7,\xA8,\u3003,\u2014,\uFF5E,\u2016,\u2026,\u2018,\u2019,\u201C,\u201D,\u301D,\u301E,\u3013,\u3014,\u3015,\u3008,\u3009,\u300C,\u300D,\u300E,\u300F,\u3016,\u3017,\u2236,\u2227,\u2228,\u222A,\u2229,\u2208,\u2237,\u22A5,\u2225,\u2220,\u2312,\u2299,\u2235,\u2234,\u2642,\u2640,\xB0,\u2032,\u2033,\u2103,\uFF04,\xA4,\uFFE0,\uFFE1,\u2030,\xA7,\u2116,\u2606,\u2605,\u25CB,\u25CF,\u25CE,\u25C7,\u25C6,\u25A1,\u25A0,\u25B3,\u25B2,\u203B,\u2192,\u2190,\u2191,\u2193,\u3021,\u3022,\u3023,\u3024,\u3025,\u3026,\u3027,\u3028,\u3029,\u32A3,\u338E,\u338F,\u339C,\u339D,\u339E,\u33A1,\u33C4,\u33CE,\u33D1,\u33D2,\u33D5,\uFE30,\uFFE2,\uFFE4,\u2121,\u02CA,\u02CB,\u02D9,\u2013,\u2015,\u2025,\u2035,\u2105,\u2109,\u2196,\u2197,\u2198,\u2199,\u2215,\u221F,\u2223,\u2252,\u2609,\u2295,\u3012",shuxue:"\uFF0B,\uFF0D,\xD7,\xB7,\xF7,\uFF0F,\xB1,\u33D2,\u33D1,\u2211,\u220F,\xD7,\u221A,\uFE62,\uFE63,\xB1,\u222B,\u222E,\u221D,\u221E,\u2227,\u2228,\uFF1D,\u2248,\u2261,\u2260,\uFF1C,\uFF1E,\u2264,\u2265,\u2266,\u2267,\u226E,\u226F,\xBA,\xB9,\xB2,\xB3,\xBD,\xBE,\xBC,\uFF05,\u2030",xuhao:"\u2488,\u2489,\u248A,\u248B,\u248C,\u248D,\u248E,\u248F,\u2490,\u2491,\u2492,\u2493,\u2494,\u2495,\u2496,\u2497,\u2498,\u2499,\u249A,\u249B,\u2474,\u2475,\u2476,\u2477,\u2478,\u2479,\u247A,\u247B,\u247C,\u247D,\u247E,\u247F,\u2480,\u2481,\u2482,\u2483,\u2484,\u2485,\u2486,\u2487,\u2460,\u2461,\u2462,\u2463,\u2464,\u2465,\u2466,\u2467,\u2468,\u2469,\u3220,\u3221,\u3222,\u3223,\u3224,\u3225,\u3226,\u3227,\u3228,\u3229,\u2170,\u2171,\u2172,\u2173,\u2174,\u2175,\u2176,\u2177,\u2178,\u2179,\u2160,\u2161,\u2162,\u2163,\u2164,\u2165,\u2166,\u2167,\u2168,\u2169,\u216A,\u216B,\u2776,\u2777,\u2778,\u2779,\u277A,\u277B,\u277C,\u277D,\u277E,\u277F,\u3220,\u3221,\u3222,\u3223,\u3224,\u3225,\u3226,\u3227,\u3228,\u3229",lading:"\u0391,\u0392,\u0393,\u0394,\u0395,\u0396,\u0397,\u0398,\u0399,\u039A,\u039B,\u039C,\u039D,\u039E,\u039F,\u03A0,\u03A1,\u03A3,\u03A4,\u03A5,\u03A6,\u03A7,\u03A8,\u03A9,\u03B1,\u03B2,\u03B3,\u03B4,\u03B5,\u03B6,\u03B7,\u03B8,\u03B9,\u03BA,\u03BB,\u03BC,\u03BD,\u03BE,\u03BF,\u03C0,\u03C1,\u03C3,\u03C4,\u03C5,\u03C6,\u03C7,\u03C8,\u03C9",zhuyin:"\u0101,\xE1,\u01CE,\xE0,\u014D,\xF3,\u01D2,\xF2,\u0113,\xE9,\u011B,\xE8,\u012B,\xED,\u01D0,\xEC,\u016B,\xFA,\u01D4,\xF9,\u01D6,\u01D8,\u01DA,\u01DC,\xFC",yinbiao:"i:,i,e,\xE6,\u028C,\u0259:,\u0259,u:,u,\u0254:,\u0254,a:,ei,ai,\u0254i,\u0259u,au,i\u0259,\u03B5\u0259,u\u0259,p,t,k,b,d,g,f,s,\u0283,\u03B8,h,v,z,\u0292,\xF0,t\u0283,tr,ts,d\u0292,dr,dz,m,n,\u014B,l,r,w,j,",rwzf:"\u3041,\u3042,\u3043,\u3044,\u3045,\u3046,\u3047,\u3048,\u3049,\u304A,\u304B,\u304C,\u304D,\u304E,\u304F,\u3050,\u3051,\u3052,\u3053,\u3054,\u3055,\u3056,\u3057,\u3058,\u3059,\u305A,\u305B,\u305C,\u305D,\u305E,\u305F,\u3060,\u3061,\u3062,\u3063,\u3064,\u3065,\u3066,\u3067,\u3068,\u3069,\u306A,\u306B,\u306C,\u306D,\u306E,\u306F,\u3070,\u3071,\u3072,\u3073,\u3074,\u3075,\u3076,\u3077,\u3078,\u3079,\u307A,\u307B,\u307C,\u307D,\u307E,\u307F,\u3080,\u3081,\u3082,\u3083,\u3084,\u3085,\u3086,\u3087,\u3088,\u3089,\u308A,\u308B,\u308C,\u308D,\u308E,\u308F,\u3090,\u3091,\u3092,\u3093,\u30A1,\u30A2,\u30A3,\u30A4,\u30A5,\u30A6,\u30A7,\u30A8,\u30A9,\u30AA,\u30AB,\u30AC,\u30AD,\u30AE,\u30AF,\u30B0,\u30B1,\u30B2,\u30B3,\u30B4,\u30B5,\u30B6,\u30B7,\u30B8,\u30B9,\u30BA,\u30BB,\u30BC,\u30BD,\u30BE,\u30BF,\u30C0,\u30C1,\u30C2,\u30C3,\u30C4,\u30C5,\u30C6,\u30C7,\u30C8,\u30C9,\u30CA,\u30CB,\u30CC,\u30CD,\u30CE,\u30CF,\u30D0,\u30D1,\u30D2,\u30D3,\u30D4,\u30D5,\u30D6,\u30D7,\u30D8,\u30D9,\u30DA,\u30DB,\u30DC,\u30DD,\u30DE,\u30DF,\u30E0,\u30E1,\u30E2,\u30E3,\u30E4,\u30E5,\u30E6,\u30E7,\u30E8,\u30E9,\u30EA,\u30EB,\u30EC,\u30ED,\u30EE,\u30EF,\u30F0,\u30F1,\u30F2,\u30F3,\u30F4,\u30F5,\u30F6",ewzf:"\u0410,\u0411,\u0412,\u0413,\u0414,\u0415,\u0401,\u0416,\u0417,\u0418,\u0419,\u041A,\u041B,\u041C,\u041D,\u041E,\u041F,\u0420,\u0421,\u0422,\u0423,\u0424,\u0425,\u0426,\u0427,\u0428,\u0429,\u042A,\u042B,\u042C,\u042D,\u042E,\u042F,\u0430,\u0431,\u0432,\u0433,\u0434,\u0435,\u0451,\u0436,\u0437,\u0438,\u0439,\u043A,\u043B,\u043C,\u043D,\u043E,\u043F,\u0440,\u0441,\u0442,\u0443,\u0444,\u0445,\u0446,\u0447,\u0448,\u0449,\u044A,\u044B,\u044C,\u044D,\u044E,\u044F",zhibiao:"\u250F,\u2533,\u2513,\u2554,\u2566,\u2557,\u2553,\u2565,\u2556,\u2523,\u254B,\u252B,\u2560,\u256C,\u2563,\u255F,\u256B,\u2562,\u2517,\u253B,\u251B,\u255A,\u2569,\u255D,\u2559,\u2568,\u255C,\u250C,\u252C,\u2510,\u256D,\u256E,\u2571,\u2572,\u2503,\u2551,\u251C,\u253C,\u2524,\u2570,\u256F,\u2572,\u2571,\u2506,\u2507,\u2514,\u2534,\u2518,\u2501,\u2550,\u2505,\u2508,\u2573,\u22BF,\u2581,\u2582,\u2583,\u2584,\u2585,\u2586,\u2587,\u2588,\u2589,\u258A,\u258B,\u258C,\u258D,\u258E,\u258F,\u2593,\u2594,\u2595,\u25BC,\u25BD,\u25E2,\u25E3,\u25E4,\u25E5",qita:"\u2710,\u270E,\u270F,\u2711,\u2712,\u2701,\u2702,\u2703,\u2704,\u2706,\u2709,\u260E,\u260F,\u2611,\u2612,\u262F,\u2630,\u2632,\u2631,\u2634,\u2635,\u2636,\u2633,\u2637,\u2744,\u2603,\u2668,\uC6C3,\uC720,\u2756,\u263D,\u263E,\u262A,\u273F,\u2740,\u2698,\u2654,\u2655,\u2656,\u2657,\u2658,\u2659,\u265A,\u265B,\u265C,\u265D,\u265E,\u265F,\u25A7,\u25A8,\u2763,\u271A,\u272A,\u2723,\u2724,\u2725,\u2726,\u2749,\u2765,\u2766,\u2767,\u2743,\u2742,\u2741,\u2740,\u2704,\u262A,\u2623,\u2622,\u2620,\u262D,\u2607,\u2608,\u2299,\u260A,\u260B,\u260C,\u260D,\u25A3,\u25A4,\u25A5,\u25A6,\u25A9,\u25D8,\u25D9,\u25C8,\u266B,\u266C,\u266A,\u2669,\u266D,\u266A,\u2704,\u262A,\u2623,\u2622,\u2620,\u266F,\u2669,\u266A,\u266B,\u266C,\u266D,\u266E,\u260E,\u260F,\u262A"},i={cols:9,total:Object.keys(o),current:"teshu",tags:{teshu:"\u7279\u6B8A",shuxue:"\u6570\u5B66",xuhao:"\u5E8F\u53F7",lading:"\u62C9\u4E01",zhuyin:"\u6CE8\u97F3",yinbiao:"\u97F3\u6807",rwzf:"\u65E5\u6587\u5B57\u7B26",ewzf:"\u4FC4\u6587\u5B57\u7B26",zhibiao:"\u5236\u8868\u7B26",qita:"\u5176\u4ED6"}};t.symbolConfig&&t.symbolConfig instanceof Function&&t.symbolConfig.call(null,o,i),t.clickToolbar(n,function(){function s(T,M){T.mouseover(function(){e(this).addClass("ke-on")}),T.mouseout(function(){e(this).removeClass("ke-on")}),T.click(function(N){t.insertHtml(M).hideMenu(),setTimeout(function(){t.focus(),t.cmd.select(),t.cmd.selection(!0)},100),N.stop()})}function c(T,M){var N=document.createElement("ul");M.append(N),N.className="ke-ul";for(var A,P=o[T].split(","),B=Math.ceil(P.length/i.cols),E=0;B>E;E++){var _=document.createElement("li");e(_).addClass("ke-li"),e(N).append(_);for(var x=0;x<i.cols;x++)if(A=P[i.cols*E+x],A!==void 0){var C=e('<span class="ke-symbol">'+A+"</span>");s(C,A),e(_).append(C),u.push(C)}}return N}function a(){e.each(u,function(){this.unbind()})}function r(T,M){T.click(function(N){a(),w.parentNode.removeChild(w),y.remove(),w=c(M,l),d(M),i.current=M,N.stop()})}function d(T){y=e('<div class="ke-page"></div>'),l.append(y);for(var M in i.tags){var N=i.tags[M];if(M!==T){var A=e('<span class="ke-page-item"><a href="javascript:;">['+N+"]</a></span>");r(A,M),y.append(A),u.push(A)}else y.append(e('<span class="ke-page-item ke-page-active">['+N+"]</span>"))}}var u=[],l=e('<div class="ke-plugin-symbol"></div>'),f=t.createMenu({name:n,beforeRemove:function(){a()}}),p=e(".ke-toolbar .ke-icon-symbols").pos().x,m=e(".ke-toolbar .ke-icon-symbols").width(),g=e(document.body).width();f.div.append(l);var y,w=c(i.current,l),b=e(l).width();p+b>g&&e(f.div).css({left:p-(b-m)+"px"}),d(i.current)})}),KindEditor.plugin("filemanager",function(e){function t(r,d,u){return r+" ("+Math.ceil(d/1024)+"KB, "+u+")"}function n(r,d){d.is_dir?r.attr("title",d.filename):r.attr("title",t(d.filename,d.filesize,d.datetime))}var o=this,i="filemanager",s=e.undef(o.fileManagerJson,o.basePath+"_404.html"),c=o.pluginsPath+i+"/images/",a=o.lang(i+".");o.plugin.filemanagerDialog=function(r){function d(x,C,D){var I="path="+x+"&order="+C+"&dir="+y;M.showLoading(o.lang("ajaxLoading")),e.ajax(e.addParam(s,I+"&"+new Date().getTime()),function(L){M.hideLoading(),D(L)})}function u(x,C,D,I){var L=e.formatUrl(C.current_url+D.filename,"absolute"),R=encodeURIComponent(C.current_dir_path+D.filename+"/");D.is_dir?x.click(function(O){d(R,E.val(),I)}):D.is_photo?x.click(function(O){b.call(this,L,D.filename)}):x.click(function(O){b.call(this,L,D.filename)}),_.push(x)}function l(x,C){function D(){B.val()=="VIEW"?d(x.current_dir_path,E.val(),p):d(x.current_dir_path,E.val(),f)}e.each(_,function(){this.unbind()}),P.unbind(),B.unbind(),E.unbind(),x.current_dir_path&&P.click(function(I){d(x.moveup_dir_path,E.val(),C)}),B.change(D),E.change(D),A.html("")}function f(x){l(x,f);var C=document.createElement("table");C.className="ke-table",C.cellPadding=0,C.cellSpacing=0,C.border=0,A.append(C);for(var D=x.file_list,I=0,L=D.length;L>I;I++){var R=D[I],O=e(C.insertRow(I));O.mouseover(function(W){e(this).addClass("ke-on")}).mouseout(function(W){e(this).removeClass("ke-on")});var U=c+(R.is_dir?"folder-16.gif":"file-16.gif"),H=e('<img src="'+U+'" width="16" height="16" alt="'+R.filename+'" align="absmiddle" />'),j=e(O[0].insertCell(0)).addClass("ke-cell ke-name").append(H).append(document.createTextNode(" "+R.filename));!R.is_dir||R.has_file?(O.css("cursor","pointer"),j.attr("title",R.filename),u(j,x,R,f)):j.attr("title",a.emptyFolder),e(O[0].insertCell(1)).addClass("ke-cell ke-size").html(R.is_dir?"-":Math.ceil(R.filesize/1024)+"KB"),e(O[0].insertCell(2)).addClass("ke-cell ke-datetime").html(R.datetime)}}function p(x){l(x,p);for(var C=x.file_list,D=0,I=C.length;I>D;D++){var L=C[D],R=e('<div class="ke-inline-block ke-item"></div>');A.append(R);var O=e('<div class="ke-inline-block ke-photo"></div>').mouseover(function(W){e(this).addClass("ke-on")}).mouseout(function(W){e(this).removeClass("ke-on")});R.append(O);var U=x.current_url+L.filename,H=L.is_dir?c+"folder-64.gif":L.is_photo?U:c+"file-64.gif",j=e('<img src="'+H+'" width="80" height="80" alt="'+L.filename+'" />');!L.is_dir||L.has_file?(O.css("cursor","pointer"),n(O,L),u(O,x,L,p)):O.attr("title",a.emptyFolder),O.append(j),R.append('<div class="ke-name" title="'+L.filename+'">'+L.filename+"</div>")}}var m=e.undef(r.width,650),g=e.undef(r.height,510),y=e.undef(r.dirName,""),w=e.undef(r.viewType,"VIEW").toUpperCase(),b=r.clickFn,T=['<div style="padding:10px 20px;">','<div class="ke-plugin-filemanager-header">','<div class="ke-left">','<img class="ke-inline-block" name="moveupImg" src="'+c+'go-up.gif" width="16" height="16" border="0" alt="" /> ','<a class="ke-inline-block" name="moveupLink" href="javascript:;">'+a.moveup+"</a>","</div>",'<div class="ke-right">',a.viewType+' <select class="ke-inline-block" name="viewType">','<option value="VIEW">'+a.viewImage+"</option>",'<option value="LIST">'+a.listImage+"</option>","</select> ",a.orderType+' <select class="ke-inline-block" name="orderType">','<option value="NAME">'+a.fileName+"</option>",'<option value="SIZE">'+a.fileSize+"</option>",'<option value="TYPE">'+a.fileType+"</option>","</select>","</div>",'<div class="ke-clearfix"></div>',"</div>",'<div class="ke-plugin-filemanager-body"></div>',"</div>"].join(""),M=o.createDialog({name:i,width:m,height:g,title:o.lang(i),body:T}),N=M.div,A=e(".ke-plugin-filemanager-body",N),P=(e('[name="moveupImg"]',N),e('[name="moveupLink"]',N)),B=(e('[name="viewServer"]',N),e('[name="viewType"]',N)),E=e('[name="orderType"]',N),_=[];return B.val(w),d("",E.val(),w=="VIEW"?p:f),M}}),KindEditor.plugin("image",function(e){var t=this,n="image",o=e.undef(t.allowImageUpload,!0),i=e.undef(t.allowImageRemote,!0),s=e.undef(t.allowFileManager,!1),f=e.undef(t.uploadJson,t.basePath+"_404.html"),c=e.undef(t.uploadHeader,{}),a=e.undef(t.uploadFileSizeLimit,"2MB"),r=e.undef(t.uploadFileTypeLimit,"*.jpg;*.gif;*.png;*.jpeg,*.bmp"),d=e.undef(t.uploadResponseFilter,0),u=e.undef(t.extraFileUploadParams,{}),l=e.undef(t.filePostName,"imgFile"),f=e.undef(t.uploadJson,t.basePath+"_404.html"),p=e.undef(t.formatUploadUrl,!0),m=t.uploadCompress,g=e.undef(t.imageTabIndex,1),y=(t.pluginsPath+"",e.undef(t.fillDescAfterUploadImage,!1)),w=t.lang(n+".");t.plugin.imageDialog=function(b){function T(Q,X){Q&&H.val(Q),X&&j.val(X)}var M=e.undef(b.showRemote,!0),N=e.undef(b.showLocal,!0),A=e.undef(b.tabIndex,0),P=b.clickFn,B=(""+new Date().getTime(),[]);for(var E in u)B.push('<input type="hidden" name="'+E+'" value="'+u[E]+'" />');var _,x=['<div style="padding:20px;">','<div class="tabs"></div>','<div class="tab1" style="display:none;">','<div class="ke-dialog-row">','<label for="remoteUrl" style="width:60px;">'+w.remoteUrl+"</label>",'<input type="text" id="remoteUrl" class="ke-input-text" name="url" value="" style="width:'+(s?250:360)+'px;" />','<span class="ke-button-common ke-button-outer"  style="margin-left:'+(s?12:0)+'px">','<input type="button" class="ke-button-common ke-button" name="viewServer" value="'+w.viewServer+'" />',"</span>","</div>",'<div class="ke-dialog-row">','<label for="remoteWidth" style="width:60px;">'+w.size+"</label>",w.width+'\uFF1A<input type="text" id="remoteWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" style="width:130px;margin-right:10px" />',w.height+'\uFF1A<input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" style="width:130px;margin-right:10px" />','<span class="ke-inline-block ke-toolbar-icon icon-ke-font ke-icon-refresh-bold ke-refresh-btn"></span>',"</div>",'<div class="ke-dialog-row">','<label style="width:60px;">'+w.align+"</label>",'<input type="radio" name="align" class="ke-inline-block" value="" checked="checked" /><span class="ke-inline-block ke-toolbar-icon icon-ke-font ke-icon-float-default"></span><text style="margin-right:30px;">&nbsp;\u9ED8\u8BA4</text>',' <input type="radio" name="align" class="ke-inline-block" value="left" /><span class="ke-inline-block ke-toolbar-icon icon-ke-font ke-icon-float-left"></span><text style="margin-right:30px;">&nbsp;\u5DE6\u5BF9\u9F50</text>',' <input type="radio" name="align" class="ke-inline-block" value="right" /><span class="ke-inline-block ke-toolbar-icon icon-ke-font ke-icon-float-right"></span><text style="margin-right:30px;" >&nbsp;\u53F3\u5BF9\u9F50</text>',"</div>",'<div class="ke-dialog-row">','<label for="remoteTitle" style="width:60px;">'+w.imgTitle+"</label>",'<input type="text" id="remoteTitle" class="ke-input-text" name="title" value="" style="width:360px;" />',"</div>","</div>",'<div class="tab2" style="display:none;">','<div class="ke-dialog-row">','<label style="width:60px;">'+w.localUrl+"</label>",'<input type="text" name="localUrl" class="ke-input-text" tabindex="-1" style="width:270px;" readonly="true" /> &nbsp;','<input type="button" class="ke-upload-button" value="'+w.upload+'" />',"</div>","</div>","</div>"].join(""),C=480,D=M?340:220,I=t.createDialog({name:n,width:C,height:D+3,title:t.lang(n),body:x,yesBtn:{name:t.lang("yes"),click:function(Q){if(!I.isLoading){if(N&&M&&_&&_.selectedIndex===1||!M)return ae.fileBox.val()==""?void alert(t.lang("pleaseSelectFile")):(I.showLoading(t.lang("uploadLoading")),ae.submit(),void O.val(""));var X=e.trim(R.val()),$e=H.val(),Nt=j.val(),ht=le.val(),It="";return K.each(function(){return this.checked?(It=this.value,!1):void 0}),X=="http://"||e.invalidUrl(X)?(alert(t.lang("invalidUrl")),void R[0].focus()):/^\d*$/.test($e)?/^\d*$/.test(Nt)?void P.call(t,X,ht,$e,Nt,0,It):(alert(t.lang("invalidHeight")),void j[0].focus()):(alert(t.lang("invalidWidth")),void H[0].focus())}}},beforeRemove:function(){U.unbind(),H.unbind(),j.unbind(),W.unbind()}}),L=I.div,R=e('[name="url"]',L),O=e('[name="localUrl"]',L),U=e('[name="viewServer"]',L),H=e('.tab1 [name="width"]',L),j=e('.tab1 [name="height"]',L),W=e(".ke-refresh-btn",L),le=e('.tab1 [name="title"]',L),K=e('.tab1 [name="align"]',L);M&&N?(_=e.tabs({src:e(".tabs",L),afterSelect:function(Q){}}),_.add({title:w.remoteImage,panel:e(".tab1",L)}),_.add({title:w.localImage,panel:e(".tab2",L)}),_.select(A)):M?e(".tab1",L).show():N&&e(".tab2",L).show();var ae=e.uploadbutton({button:e(".ke-upload-button",L)[0],width:"auto",fieldName:l,fileSizeLimit:a,fileTypeLimit:r,uploadHeader:c,uploadData:u,uploadUrl:e.addParam(f,"dir=image"),uploadResponseFilter:d,uploadCompress:m,afterUpload:function(Q){if(I.hideLoading(),Q.error===0){var X=Q.url;p&&(X=e.formatUrl(X,"absolute")),t.afterUpload&&t.afterUpload.call(t,X,Q,n),y?(e(".ke-dialog-row #remoteUrl",L).val(X),e(".ke-tabs-li",L)[0].click(),e(".ke-refresh-btn",L).click()):P.call(t,X,Q.title,Q.width,Q.height,Q.border,Q.align)}else alert(Q.message),setTimeout(function(){O.val("")},100)},afterError:function(Q){I.hideLoading(),t.errorDialog(Q)}});ae.fileBox.change(function(Q){O.val(ae.fileBox.val())}),s?U.click(function(Q){t.loadPlugin("filemanager",function(){t.plugin.filemanagerDialog({viewType:"VIEW",dirName:"image",clickFn:function(X,$e){t.dialogs.length>1&&(e('[name="url"]',L).val(X),t.afterSelectFile&&t.afterSelectFile.call(t,X),t.hideDialog())}})})}):U.hide();var ve=0,fe=0,ne=t.plugin.getSelectedImage();if(ne&&ne.get){var Ce=ne.get();Ce&&(ve=Ce.naturalWidth,fe=Ce.naturalHeight,Ce.width,Ce.height)}return W.click(function(Q){if(ve*fe>0)return void T(ve,fe);var X=new Image;X.onload=function(){T(this.width,this.height),X=null},X.src=R.val()}),H.change(function(Q){/^\d+$/.test(this.value)&&this.value>0&&j.val(Math.round(fe/ve*parseInt(this.value,10)))}),j.change(function(Q){/^\d+$/.test(this.value)&&this.value>0&&H.val(Math.round(ve/fe*parseInt(this.value,10)))}),R.val(b.imageUrl),T(b.imageWidth,b.imageHeight),le.val(b.imageTitle),K.each(function(){return this.value===b.imageAlign?(this.checked=!0,!1):void 0}),M&&A===0&&(R[0].focus(),R[0].select()),I},t.plugin.image={edit:function(){var b=t.plugin.getSelectedImage();t.plugin.imageDialog({imageUrl:b?b.attr("data-ke-src"):"http://",imageWidth:b?b.attr("width"):"",imageHeight:b?b.attr("height"):"",imageTitle:b?b.attr("title"):"",imageAlign:b?b.attr("align"):"",showRemote:i,showLocal:o,tabIndex:b?0:g,clickFn:function(T,M,N,A,P,B){b?(b.attr("src",T),b.attr("data-ke-src",T),N?b.attr("width",N):b.removeAttr("width"),A?b.attr("height",A):b.removeAttr("height"),M?b.attr("title",M):b.removeAttr("title"),B?b.attr("align",B):b.removeAttr("align"),M?b.attr("alt",M):b.removeAttr("alt")):(t.exec("insertimage",T,M,N,A,P,B,"ke-image"),setTimeout(function(){t.edit.afterChange.call(t.edit)},300)),setTimeout(function(){t.hideDialog().focus()},0)}})},delete:function(){var b=t.plugin.getSelectedImage();b.parent().name=="a"&&(b=b.parent()),b.remove(),t.addBookmark()}},t.clickToolbar(n,t.plugin.image.edit)}),KindEditor.plugin("insertfile",function(e){var t=this,n="insertfile",o=e.undef(t.allowFileUpload,!0),i=e.undef(t.allowFileManager,!1),s=e.undef(t.uploadHeader,{}),c=e.undef(t.uploadFileSizeLimit,"20MB"),a=e.undef(t.uploadFileTypeLimit,"*.mp3;*.wav;*.mp4;*.wmv;*.rmvb;*.avi,*.jpg;*.gif;*.png;*.jpeg,*.bmp"),r=e.undef(t.uploadResponseFilter,0),d=e.undef(t.extraFileUploadParams,{}),u=e.undef(t.filePostName,"imgFile"),l=e.undef(t.uploadJson,t.basePath+"_404.html"),f=e.undef(t.formatUploadUrl,!0),p=t.lang(n+".");t.plugin.fileDialog=function(m){var g=e.undef(m.fileUrl,"http://"),y=e.undef(m.fileTitle,""),w=m.clickFn,b=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keUrl" style="width:60px;">'+p.url+"</label>",'<input type="text" id="keUrl" name="url" class="ke-input-text" style="width:'+(i?160:260)+'px;" />','<input type="button" class="ke-upload-button" value="'+p.upload+'" />','<span class="ke-button-common ke-button-outer" style="margin-left:'+(i?5:0)+'px" >','<input type="button" class="ke-button-common ke-button" name="viewServer" value="'+p.viewServer+'" />',"</span>","</div>",'<div class="ke-dialog-row">','<label for="keTitle" style="width:60px;">'+p.title+"</label>",'<input type="text" id="keTitle" class="ke-input-text" name="title" value="" style="width:160px;" /></div>',"</div>","</form>","</div>"].join(""),T=t.createDialog({name:n,width:450,height:220,title:t.lang(n),body:b,yesBtn:{name:t.lang("yes"),click:function(E){var _=e.trim(N.val()),x=P.val();return _=="http://"||e.invalidUrl(_)?(alert(t.lang("invalidUrl")),void N[0].focus()):(e.trim(x)===""&&(x=_),void w.call(t,_,x))}}}),M=T.div,N=e('[name="url"]',M),A=e('[name="viewServer"]',M),P=e('[name="title"]',M);if(o){var B=e.uploadbutton({button:e(".ke-upload-button",M)[0],width:"auto",fieldName:u,fileSizeLimit:c,fileTypeLimit:a,uploadHeader:s,uploadData:d,uploadUrl:e.addParam(l,"dir=file"),uploadResponseFilter:r,afterUpload:function(E){if(T.hideLoading(),E.error===0){var _=E.url;f&&(_=e.formatUrl(_,"absolute")),N.val(_),t.afterUpload&&t.afterUpload.call(t,_,E,n)}else alert(E.message)},afterError:function(E){T.hideLoading(),t.errorDialog(E)}});B.fileBox.change(function(E){var _=e("input[type='file']",B.form[0]).val();_&&(T.showLoading(t.lang("uploadLoading")),B.submit())})}else e(".ke-upload-button",M).hide();i?A.click(function(E){t.loadPlugin("filemanager",function(){t.plugin.filemanagerDialog({viewType:"LIST",dirName:"file",clickFn:function(_,x){t.dialogs.length>1&&(e('[name="url"]',M).val(_),t.afterSelectFile&&t.afterSelectFile.call(t,_),t.hideDialog())}})})}):A.hide(),N.val(g),P.val(y),N[0].focus(),N[0].select()},t.clickToolbar(n,function(){t.plugin.fileDialog({clickFn:function(m,g){var y='<a class="ke-insertfile" href="'+m+'" data-ke-src="'+m+'" target="_blank">'+g+"</a>";t.insertHtml(y).hideDialog().focus()}})})}),KindEditor.plugin("lineheight",function(e){var t=this,n="lineheight",o=t.lang(n+".");t.clickToolbar(n,function(){var i="",s=t.cmd.commonNode({"*":".line-height"});s&&(i=s.css("line-height"));var c=t.createMenu({name:n,width:150});e.each(o.lineHeight,function(a,r){e.each(r,function(d,u){c.addItem({title:u,checked:i===d,click:function(){t.cmd.toggle('<span style="line-height:'+d+';"></span>',{span:".line-height="+d}),t.updateState(),t.addBookmark(),t.hideMenu()}})})})})}),KindEditor.plugin("link",function(e){var t=this,n="link";t.plugin.link={edit:function(){var o=t.lang(n+"."),i='<div style="padding:20px;"><div class="ke-dialog-row"><label for="keUrl" style="width:60px;">'+o.url+'</label><input class="ke-input-text" type="text" id="keUrl" name="url" value="" style="width:260px;" /></div><div class="ke-dialog-row""><label for="keType" style="width:60px;">'+o.linkType+'</label><select id="keType" name="type"></select></div></div>',s=t.createDialog({name:n,width:450,title:t.lang(n),body:i,yesBtn:{name:t.lang("yes"),click:function(u){var l=e.trim(a.val());return l=="http://"||e.invalidUrl(l)?(alert(t.lang("invalidUrl")),void a[0].focus()):void t.exec("createlink",l,r.val()).hideDialog().focus()}}}),c=s.div,a=e('input[name="url"]',c),r=e('select[name="type"]',c);a.val("http://"),r[0].options[0]=new Option(o.newWindow,"_blank"),r[0].options[1]=new Option(o.selfWindow,""),t.cmd.selection();var d=t.plugin.getSelectedLink();d&&(t.cmd.range.selectNode(d[0]),t.cmd.select(),a.val(d.attr("data-ke-src")),r.val(d.attr("target"))),a[0].focus(),a[0].select()},delete:function(){t.exec("unlink",null)}},t.clickToolbar(n,t.plugin.link.edit)}),KindEditor.plugin("media",function(e){var t=this,n="media",o=t.lang(n+"."),i=e.undef(t.allowMediaUpload,!0),s=e.undef(t.allowFileManager,!1),c=e.undef(t.uploadHeader,{}),a=e.undef(t.uploadFileSizeLimit,"20MB"),r=e.undef(t.uploadFileTypeLimit,"*.mp3;*.wav;*.mp4;*.wmv;*.rmvb;*.avi"),d=e.undef(t.uploadResponseFilter,0),u=e.undef(t.extraFileUploadParams,{}),l=e.undef(t.filePostName,"imgFile"),f=e.undef(t.uploadJson,t.basePath+"_404.html"),p=e.undef(t.formatUploadUrl,!0),m=function(g){for(var y=e(g.commonAncestor());y&&(y.type!=1||y.isStyle());)y=y.parent();return y};t.plugin.media={edit:function(){var g=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keUrl" style="width:60px;">'+o.url+"</label>",'<input class="ke-input-text" type="text" id="keUrl" name="url" value="" style="width:'+(s?160:260)+'px;" />','<input type="button" class="ke-upload-button" value="'+o.upload+'" />','<span class="ke-button-common ke-button-outer"  style="margin-left:'+(s?5:0)+'px" >','<input type="button" class="ke-button-common ke-button " name="viewServer" value="'+o.viewServer+'" />',"</span>","</div>",'<div class="ke-dialog-row">','<label for="keWidth" style="width:60px;">'+o.width+"</label>",'<input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="320" maxlength="4" />','<label for="keHeight" style="width:60px;text-align:left;margin-left:30px">'+o.height+"</label>",'<input type="text" id="keHeight" class="ke-input-text ke-input-number" name="height" value="auto" maxlength="4" />',"</div>",'<div class="ke-dialog-row">','<label for="kePreload" style="width:60px;">\u9884\u52A0\u8F7D</label>','<div style="width:80px;display:inline-block;"><input type="checkbox" id="kePreload" name="preload" value="" /></div>','<label for="keAutostart" style="width:60px;text-align:left;margin-left:30px">\u81EA\u52A8\u64AD\u653E</label>','<div style="width:80px;display:inline-block;"><input type="checkbox" id="keAutostart" name="autoplay" value="" /></div>',"</div>",'<div class="ke-dialog-row">','<label for="keControls" style="width:60px;">\u63A7\u5236\u6309\u94AE</label>','<div style="width:80px;display:inline-block;"><input type="checkbox" id="keControls" name="controls" checked value="" /></div>','<label for="keLoop" style="width:60px;text-align:left;margin-left:30px">\u5FAA\u73AF\u64AD\u653E</label>','<div style="width:80px;display:inline-block;"><input type="checkbox" id="keLoop" name="loop" checked value="" /></div>',"</div>","</div>"].join(""),y=t.createDialog({name:n,width:450,height:300,title:t.lang(n),body:g,yesBtn:{name:t.lang("yes"),click:function(x){var C=e.trim(b.val()),D=M.val(),I=N.val(),L=P[0].checked,R=A[0].checked,O=B[0].checked,U=E[0].checked;if(C=="http://"||e.invalidUrl(C))return alert(t.lang("invalidUrl")),void b[0].focus();if(D!="auto"&&!/^\d*$/.test(D))return alert(t.lang("invalidWidth")),void M[0].focus();if(I!="auto"&&!/^\d*$/.test(I))return alert(t.lang("invalidHeight")),void N[0].focus();var H="video";/\.(mp3|wav|ogg|acc)(\?|$)/i.test(C)&&(H="audio");var j=["<p><"+H,'data-ke-class="ke-audio"','class="ke-media"','style="display:inline;"','src="'+C+'"','width="'+D+'"','height="'+I+'"',L?"preload":"",R?"autoplay":"",O?"controls":"",U?"loop":"","></"+H+"><span>\u200B\u3000</span></p>"].join(" "),W=m(t.cmd.range);W&&W.name!="p"?t.insertHtml(j).hideDialog().focus():(e(W).after(j),t.hideDialog().focus())}}}),w=y.div,b=e('[name="url"]',w),T=e('[name="viewServer"]',w),M=e('[name="width"]',w),N=e('[name="height"]',w),A=e('[name="autoplay"]',w),P=e('[name="preload"]',w),B=e('[name="controls"]',w),E=e('[name="loop"]',w);if(b.val("http://"),i){var _=e.uploadbutton({button:e(".ke-upload-button",w)[0],width:"auto",fieldName:l,fileSizeLimit:a,fileTypeLimit:r,uploadHeader:c,uploadData:u,uploadUrl:e.addParam(f,"dir=media"),uploadResponseFilter:d,afterUpload:function(x){if(y.hideLoading(),x.error===0){var C=x.url;p&&(C=e.formatUrl(C,"absolute")),b.val(C),t.afterUpload&&t.afterUpload.call(t,C,x,n)}else alert(x.message),setTimeout(function(){b.val("http://")},100)},afterError:function(x){y.hideLoading(),t.errorDialog(x)}});_.fileBox.change(function(x){var C=e("input[type='file']",_.form[0]).val();C&&(y.showLoading(t.lang("uploadLoading")),_.submit())})}else e(".ke-upload-button",w).hide();s?T.click(function(x){t.loadPlugin("filemanager",function(){t.plugin.filemanagerDialog({viewType:"LIST",dirName:"media",clickFn:function(C,D){t.dialogs.length>1&&(e('[name="url"]',w).val(C),t.afterSelectFile&&t.afterSelectFile.call(t,C),t.hideDialog())}})})}):T.hide()},delete:function(){t.plugin.getSelectedMedia().remove(),t.addBookmark()}},t.clickToolbar(n,t.plugin.media.edit)}),function(e){function t(n){this.init(n)}e.extend(t,{init:function(n){function o(r,d){e(".ke-status",r).addClass("upload-error"),e(".ke-status > div",r).hide(),e(".ke-message",r).addClass("ke-error").show().html(e.escape(d))}var i=this;n.afterError=n.afterError||function(r){alert(r)},i.options=n,i.progressbars={};var s="ke_multi_upload_btn"+1*new Date+"_"+Math.floor(9e4*Math.random()+9999),c="ke_multi_upload_dragbody"+1*new Date+"_"+Math.floor(9e4*Math.random()+9999),a="ke_multi_upload_error"+1*new Date+"_"+Math.floor(9e4*Math.random()+9999);i.div=e(n.container).html(['<div class="ke-swfupload">','<div class="ke-swfupload-top" >','<div class="ke-inline-block ke-swfupload-button" id="'+s+'" style="width: 86px;">',"</div>",'<div class="ke-inline-block ke-swfupload-desc">'+n.uploadDesc+"</div>",'<span class="ke-button-common ke-button-outer ke-swfupload-startupload">','<input type="button" class="ke-button-common ke-button ke-startup-upload-button" value="'+n.startButtonValue+'" />',"</span>","</div>",'<div class="ke-swfupload-body" id="'+c+'"></div>','<div class="upload-error-result" id="'+a+'"></div>',"</div>"].join("")),i.bodyDiv=e(".ke-swfupload-body",i.div),i.uploader=WebUploader.create({server:i.options.uploadUrl,pick:"#"+s,resize:!1,fileVal:"file",accept:{title:"Images",extensions:n.fileTypes.replace(/\*\./g,"").replace(/;/g,","),mimeTypes:"image/*"},uploadBeforeSend:function(r,d,u){},headers:n.uploadHeader,formData:n.uploadData,fileNumLimit:n.fileUploadLimit,fileSingleSizeLimit:1*n.fileSizeLimit.replace(/MB/g,"")*1024*1024}),i.options.uploadCompress!==void 0&&(i.uploader.options.compress=i.options.uploadCompress),i.uploader.on("fileQueued",function(r){i.uploader.makeThumb(r,function(d,u){d&&(u=i.options.fileIconUrl),r.url=u,i.appendFile(r)},80,80)}),i.uploader.on("uploadStart",function(r){var d=this,u=e('div[data-id="'+r.id+'"]',d.bodyDiv);e(".ke-status > div",u).hide(),e(".ke-progressbar",u).show()}),i.uploader.on("uploadProgress",function(r,d){var u=i.progressbars[r.id],l=Math.floor(100*d);u.bar.css("width",l+"%");var f=l>=100?"\u4E0A\u4F20\u6210\u529F":l+"%";u.percent.html(f).show()}),i.uploader.on("uploadSuccess",function(r,d){var u=d;n.uploadResponseFilter&&(u=n.uploadResponseFilter.call(null,d));var l=e('div[data-id="'+r.id+'"]',i.bodyDiv).eq(0),f=u;if(f.error!==0)return void o(l,f.message||i.options.errorMessage);var p=f.url;p=i.options.formatUploadUrl?r.url=e.formatUrl(f.url,"absolute"):r.url=f.url,e(".ke-img",l).attr("src",r.url).attr("data-status","1").data("data",{url:p,title:r.name+"",width:(r._info||{width:"auto"}).width+"",height:"",border:"",align:""})}),i.uploader.on("uploadError",function(r,d){if(r){var u=e('div[data-id="'+r.id+'"]',i.bodyDiv).eq(0);console.info("reason",d),o(u,"ERROR:"+d)}}),i.uploader.on("error",function(r){var d="\u90E8\u5206\u6216\u5168\u90E8\u6587\u4EF6\u4E0A\u4F20\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5\uFF01";r==="Q_TYPE_DENIED"?d="["+arguments[1].name+"]\u6587\u4EF6\u7C7B\u578B\u4E0D\u6B63\u786E\uFF0C\u4E0A\u4F20\u5931\u8D25\uFF01":r==="Q_EXCEED_NUM_LIMIT"?d="\u540C\u65F6\u6700\u591A\u53EF\u4E0A\u4F20"+n.fileUploadLimit+"\u5F20\u56FE\u7247\uFF0C\u8D85\u51FA\u90E8\u5206\u5DF2\u7ECF\u5FFD\u7565\uFF01":r==="F_EXCEED_SIZE"?d="["+arguments[2].name+"]\u6587\u4EF6\u5927\u5C0F\u8D85\u51FA\u9650\u5236\uFF08\u6700\u5927"+1*n.fileSizeLimit.replace(/MB/g,"")+"M\uFF09\uFF0C\u4E0A\u4F20\u5931\u8D25\uFF01":r==="F_DUPLICATE"&&(d="["+arguments[1].name+"]\u6587\u4EF6\u5DF2\u5B58\u5728\u4E8E\u5F85\u4E0A\u4F20\u5217\u8868\u4E2D\uFF01"),console.error("\u90E8\u5206\u6216\u5168\u90E8\u6587\u4EF6\u4E0A\u4F20\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5\uFF01",arguments),alert(d)}),e(".ke-swfupload-startupload input",i.div).click(function(){i.uploader.upload()})},removeFile:function(n){var o=this;o.uploader.cancelFile(n);var i=e('div[data-id="'+n+'"]',o.bodyDiv);e(".ke-photo",i).unbind(),e(".ke-delete",i).unbind(),i.remove()},removeFiles:function(){var n=this;e(".ke-item",n.bodyDiv).each(function(){n.removeFile(e(this).attr("data-id"))})},appendFile:function(n){var o=this,i=e('<div class="ke-inline-block ke-item" draggable="false" data-id="'+n.id+'"></div>');o.bodyDiv.append(i);var s=e('<div class="ke-inline-block ke-photo"></div>').mouseover(function(r){e(this).addClass("ke-on")}).mouseout(function(r){e(this).removeClass("ke-on")});i.append(s);var c=e('<img class="ke-multi-image ke-img" src="'+n.url+'" class="ke-img" draggable="false" data-status="0" alt="'+n.name+'" />');s.append(c),e('<span class="ke-delete"></span>').appendTo(s).click(function(){o.removeFile(n.id)});var a=e('<div class="ke-status"></div>').appendTo(s);e(['<div class="ke-progressbar">','<div class="ke-progressbar-bar"><div class="ke-progressbar-bar-inner"></div></div>','<div class="ke-progressbar-percent">0%</div></div>'].join("")).hide().appendTo(a),e('<div class="ke-message">'+o.options.pendingMessage+"</div>").appendTo(a),i.append('<div class="ke-name">'+n.name+"</div>"),o.progressbars[n.id]={bar:e(".ke-progressbar-bar-inner",s),percent:e(".ke-progressbar-percent",s)}},remove:function(){var n=this;n.removeFiles(),n.destroy(),n.div.html("")},getUrlList:function(){var n=[];return e(".ke-img",self.bodyDiv).each(function(){var o=e(this),i=o.attr("data-status");i=="1"&&n.push(o.data("data"))}),n},destroy:function(){var n=this;n.uploader.destroy()}}),e.swfupload=function(n,o){return new t(n)}}(KindEditor),KindEditor.plugin("multiimage",function(e){var t=this,n="multiimage",o=(e.undef(t.formatUploadUrl,!0),e.undef(t.uploadJson,t.basePath+"_404.html")),i=e.undef(t.uploadHeader,{}),s=e.undef(t.extraFileUploadParams,{}),c=t.pluginsPath+"multiimage/images/",a=e.undef(t.imageSizeLimit,"1MB"),r=(e.undef(t.imageFileTypes,"*.jpg;*.gif;*.png"),e.undef(t.uploadResponseFilter,0)),d=e.undef(t.imageUploadLimit,20),u=e.undef(t.filePostName,"imgFile"),l=t.lang(n+".");t.plugin.multiImageDialog=function(f){var p=f.clickFn,m=e.tmpl(l.uploadDesc,{uploadLimit:d,sizeLimit:a}),g=['<div style="padding:10px 20px;">','<div class="swfupload">',"</div>","</div>"].join(""),y=t.createDialog({name:n,width:650,height:500,title:t.lang(n),body:g,previewBtn:{name:l.insertAll,click:function(T){p.call(t,b.getUrlList())}},yesBtn:{name:l.clearAll,click:function(T){b.removeFiles()}},beforeRemove:function(){b.destroy()}}),w=y.div,b=e.swfupload({container:e(".swfupload",w),buttonImageUrl:c+(t.langType=="zh-CN"?"select-files-zh-CN.png":"select-files-en.png"),buttonWidth:t.langType=="zh-CN"?72:88,buttonHeight:23,fileIconUrl:c+"image.png",uploadDesc:m,startButtonValue:l.startUpload,uploadUrl:e.addParam(o,"dir=image"),uploadData:s,uploadHeader:i,uploadResponseFilter:r,uploadCompress:t.uploadCompress,formatUploadUrl:t.formatUploadUrl,flashUrl:c+"swfupload.swf",filePostName:u,fileTypes:"*.jpg;*.jpeg;*.gif;*.png;*.bmp",fileTypesDesc:"Image Files",fileUploadLimit:d,fileSizeLimit:a,postParams:e.undef(t.extraFileUploadParams,{}),queueLimitExceeded:l.queueLimitExceeded,fileExceedsSizeLimit:l.fileExceedsSizeLimit,zeroByteFile:l.zeroByteFile,invalidFiletype:l.invalidFiletype,unknownError:l.unknownError,pendingMessage:l.pending,errorMessage:l.uploadError,afterError:function(T){t.errorDialog(T)}});return e(b.bodyDiv).bind("drop",function(T){T.preventDefault(),T.event.preventDefault();var M=[];[].forEach.call(T.event.dataTransfer.files,function(N){M.push(N)},!1),M.length>0&&b.uploader.addFiles(M),e(b.bodyDiv).removeClass("drag-hover")}),e(b.bodyDiv).bind("dragenter",function(T){e(b.bodyDiv).addClass("drag-hover")}),e(b.bodyDiv).bind("dragover",function(T){T.preventDefault()}),e(b.bodyDiv).bind("dragleave",function(){e(b.bodyDiv).removeClass("drag-hover")}),e(b.bodyDiv).bind("mouseleave",function(){e(b.bodyDiv).removeClass("drag-hover")}),e(b.bodyDiv).bind("mouseout",function(){e(b.bodyDiv).removeClass("drag-hover")}),y},t.clickToolbar(n,function(){t.plugin.multiImageDialog({clickFn:function(f){f.length!==0&&(e.each(f,function(p,m){t.afterUpload&&t.afterUpload.call(t,m.url,m,"multiimage"),t.exec("insertimage",m.url,m.title,m.width,m.height,m.border,m.align,"ke-image","p")}),setTimeout(function(){t.hideDialog().focus()},0))}})})}),KindEditor.plugin("pagebreak",function(e){var t=this,n="pagebreak",o=e.undef(t.pagebreakHtml,'<hr style="page-break-after: always;" class="ke-pagebreak" />');t.clickToolbar(n,function(){var i=t.cmd,s=i.range;t.focus();var c=t.newlineTag=="br"||e.WEBKIT?"":'<span id="__kindeditor_tail_tag__"></span>';if(t.insertHtml(o+c),c!==""){var a=e("#__kindeditor_tail_tag__",t.edit.doc);s.selectNodeContents(a[0]),a.removeAttr("id"),i.select()}})}),KindEditor.plugin("plainpaste",function(e){var t=this,n="plainpaste";t.clickToolbar(n,function(){var o=t.lang(n+"."),i='<div style="padding:10px 20px;"><div style="margin-bottom:10px;">'+o.comment+'</div><textarea class="ke-textarea" style="width:518px;height:260px;"></textarea></div>',s=t.createDialog({name:n,width:560,title:t.lang(n),body:i,yesBtn:{name:t.lang("yes"),click:function(a){var r=c.val();r=e.escape(r),r=r.replace(/ {2}/g," &nbsp;"),r=t.newlineTag=="p"?r.replace(/^/,"<p>").replace(/$/,"</p>").replace(/\n/g,"</p><p>"):r.replace(/\n/g,"<br />$&"),t.insertHtml(r).hideDialog().focus()}}}),c=e("textarea",s.div);c[0].focus()})}),KindEditor.plugin("preview",function(e){var t=this,n="preview";t.clickToolbar(n,function(){var o=(t.lang(n+"."),'<div style="padding:10px 20px;"><iframe class="ke-textarea" frameborder="0" style="width:708px;height:400px;"></iframe></div>'),i=t.createDialog({name:n,width:750,title:t.lang(n),body:o}),s=e("iframe",i.div),c=e.iframeDoc(s);c.open(),c.write(t.fullHtml()),c.close(),e(c.body).css("background-color","#FFF"),s[0].contentWindow.focus()})}),KindEditor.plugin("quote",function(e){function t(i){for(var s=e(i.commonAncestor());s&&(s.type!=1||s.isStyle());)s=s.parent();return s}var n=this,o="quote";n.clickToolbar(o,function(){n.focus();var i="\u200B",s=n.cmd.range,c=t(n.cmd.range);if(s){var a=s.extractContents(),r=e(a).outer();i=r||e(a).html()}i=i||"\u200B";var d='<blockquote style="padding: 0 1.5em;border-left: 5px solid #ddd;font-style: italic;margin-block-start: 0;margin-inline-start: 0;min-height: 2rem"><p>'+i+"</p></blockquote>";if(c&&["p","h1","h2","h3","h4","h5","h6"].indexOf(c.name)>-1){e(c).after(d);var u=e(c).next();n.cmd.range.selectNodeContents(u).collapse(),n.cmd.select(),u.focus()}else{n.insertHtml(d);for(var l=c;l&&l.children&&l.children().length;)l=l.children();l&&l[0]&&n.cmd.range.selectNodeContents(l[0]).collapse(),n.cmd.select()}n.cmd.selection(!0)})}),KindEditor.plugin("quickformat",function(e){function t(s){for(var c=s.first();c&&c.first();)c=c.first();return c}var n=this,o="quickformat",i=e.toMap("blockquote,center,div,h1,h2,h3,h4,h5,h6,p");n.clickToolbar(o,function(){n.focus();for(var s,c=n.edit.doc,a=n.cmd.range,r=e(c.body).first(),d=[],u=[],l=a.createBookmark(!0);r;){s=r.next();var f=t(r);f&&f.name=="img"||(i[r.name]?(r.html(r.html().replace(/^(\s|&nbsp;|)+/gi,"")),r.css("text-indent","2em")):u.push(r),(!s||i[s.name]||i[r.name]&&!i[s.name])&&(u.length>0&&d.push(u),u=[])),r=s}e.each(d,function(p,m){var g=e('<p style="text-indent:2em;"></p>',c);m[0].before(g),e.each(m,function(y,w){g.append(w)})}),a.moveToBookmark(l),n.addBookmark()})}),KindEditor.plugin("table",function(e){function t(d,u){u=u.toUpperCase(),d.css("background-color",u),d.css("color",u==="#000000"?"#FFFFFF":"#000000"),d.html(u)}function n(d,u){function l(){e.each(r,function(){this.remove()}),r=[],e(document).unbind("click,mousedown",l),d.unbind("click,mousedown",l)}u.bind("click,mousedown",function(f){f.stopPropagation()}),u.click(function(f){l();var p=e(this),m=p.pos(),g=e.colorpicker({x:m.x,y:m.y+p.height(),z:811214,selectedColor:e(this).html(),colors:i.colorTable,noColor:i.lang("noColor"),shadowMode:i.shadowMode,click:function(y){t(p,y),l()}});r.push(g),e(document).bind("click,mousedown",l),d.bind("click,mousedown",l)})}function o(d,u,l){for(var f=0,p=0,m=u.cells.length;m>p&&u.cells[p]!=l;p++)f+=u.cells[p].rowSpan-1;return l.cellIndex-f}var i=this,s="table",c=i.lang(s+"."),a="ke-zeroborder",r=[];i.plugin.table={prop:function(d){var u=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keRows" style="width:90px;">'+c.cells+"</label>",c.rows+' <input type="text" id="keRows" class="ke-input-text ke-input-number" name="rows" value="" maxlength="4" /> &nbsp; ',c.cols+' <input type="text" class="ke-input-text ke-input-number" name="cols" value="" maxlength="4" />',"</div>",'<div class="ke-dialog-row">','<label for="keWidth" style="width:90px;">'+c.size+"</label>",c.width+' <input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" /> &nbsp; ','<select name="widthType">','<option value="%">'+c.percent+"</option>",'<option value="px">'+c.px+"</option>","</select> &nbsp; ",c.height+' <input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" /> &nbsp; ','<select name="heightType">','<option value="%">'+c.percent+"</option>",'<option value="px">'+c.px+"</option>","</select>","</div>",'<div class="ke-dialog-row">','<label for="kePadding" style="width:90px;">'+c.space+"</label>",c.padding+' <input type="text" id="kePadding" class="ke-input-text ke-input-number" name="padding" value="" maxlength="4" /> &nbsp; ',c.spacing+' <input type="text" class="ke-input-text ke-input-number" name="spacing" value="" maxlength="4" />',"</div>",'<div class="ke-dialog-row">','<label for="keAlign" style="width:90px;">'+c.align+"</label>",'<select id="keAlign" name="align">','<option value="">'+c.alignDefault+"</option>",'<option value="left">'+c.alignLeft+"</option>",'<option value="center">'+c.alignCenter+"</option>",'<option value="right">'+c.alignRight+"</option>","</select>","</div>",'<div class="ke-dialog-row">','<label for="keBorder" style="width:90px;">'+c.border+"</label>",c.borderWidth+' <input type="text" id="keBorder" class="ke-input-text ke-input-number" name="border" value="" maxlength="4" /> &nbsp; ',c.borderColor+' <span class="ke-inline-block ke-input-color"></span>',"</div>",'<div class="ke-dialog-row">','<label for="keBgColor" style="width:90px;">'+c.backgroundColor+"</label>",'<span class="ke-inline-block ke-input-color"></span>',"</div>","</div>"].join(""),l=i.cmd.range.createBookmark(),f=i.createDialog({name:s,width:500,title:i.lang(s),body:u,beforeRemove:function(){B.unbind()},yesBtn:{name:i.lang("yes"),click:function(D){var I=m.val(),L=g.val(),R=y.val(),O=w.val(),U=b.val(),H=T.val(),j=M.val(),W=N.val(),le=A.val(),K=P.val(),ae=e(B[0]).html()||"",ve=e(B[1]).html()||"";if(I==0||!/^\d+$/.test(I))return alert(i.lang("invalidRows")),void m[0].focus();if(L==0||!/^\d+$/.test(L))return alert(i.lang("invalidRows")),void g[0].focus();if(!/^\d*$/.test(R))return alert(i.lang("invalidWidth")),void y[0].focus();if(!/^\d*$/.test(O))return alert(i.lang("invalidHeight")),void w[0].focus();if(!/^\d*$/.test(j))return alert(i.lang("invalidPadding")),void M[0].focus();if(!/^\d*$/.test(W))return alert(i.lang("invalidSpacing")),void N[0].focus();if(!/^\d*$/.test(K))return alert(i.lang("invalidBorder")),void P[0].focus();if(E)return R!==""?E.width(R+U):E.css("width",""),E[0].width!==void 0&&E.removeAttr("width"),O!==""?E.height(O+H):E.css("height",""),E[0].height!==void 0&&E.removeAttr("height"),E.css("background-color",ve),E[0].bgColor!==void 0&&E.removeAttr("bgColor"),j!==""?E[0].cellPadding=j:E.removeAttr("cellPadding"),W!==""?E[0].cellSpacing=W:E.removeAttr("cellSpacing"),le!==""?E[0].align=le:E.removeAttr("align"),K!==""?E.attr("border",K):E.removeAttr("border"),K===""||K==="0"?E.addClass(a):E.removeClass(a),ae!==""?E.attr("borderColor",ae):E.removeAttr("borderColor"),i.hideDialog().focus(),i.cmd.range.moveToBookmark(l),i.cmd.select(),void i.addBookmark();var fe="";R!==""&&(fe+="width:"+R+U+";"),O!==""&&(fe+="height:"+O+H+";"),ve!==""&&(fe+="background-color:"+ve+";");var ne="<table";fe!==""&&(ne+=' style="'+fe+'"'),j!==""&&(ne+=' cellpadding="'+j+'"'),W!==""&&(ne+=' cellspacing="'+W+'"'),le!==""&&(ne+=' align="'+le+'"'),K!==""&&(ne+=' border="'+K+'"'),(K===""||K==="0")&&(ne+=' class="'+a+'"'),ae!==""&&(ne+=' bordercolor="'+ae+'"'),ne+=">";for(var Ce=0;I>Ce;Ce++){ne+="<tr>";for(var Q=0;L>Q;Q++)ne+="<td>"+(e.IE?"&nbsp;":"<br />")+"</td>";ne+="</tr>"}ne+="</table>",e.IE||(ne+="<br />"),i.insertHtml(ne),i.select().hideDialog().focus(),i.addBookmark()}}}),p=f.div,m=e('[name="rows"]',p).val(3),g=e('[name="cols"]',p).val(2),y=e('[name="width"]',p).val(100),w=e('[name="height"]',p),b=e('[name="widthType"]',p),T=e('[name="heightType"]',p),M=e('[name="padding"]',p).val(2),N=e('[name="spacing"]',p).val(0),A=e('[name="align"]',p),P=e('[name="border"]',p).val(1),B=e(".ke-input-color",p);n(p,B.eq(0)),n(p,B.eq(1)),t(B.eq(0),"#000000"),t(B.eq(1),""),m[0].focus(),m[0].select();var E;if(!d&&(E=i.plugin.getSelectedTable())){m.val(E[0].rows.length),g.val(E[0].rows.length>0?E[0].rows[0].cells.length:0),m.attr("disabled",!0),g.attr("disabled",!0);var _,x=E[0].style.width||E[0].width,C=E[0].style.height||E[0].height;x!==void 0&&(_=/^(\d+)((?:px|%)*)$/.exec(x))?(y.val(_[1]),b.val(_[2])):y.val(""),C!==void 0&&(_=/^(\d+)((?:px|%)*)$/.exec(C))&&(w.val(_[1]),T.val(_[2])),M.val(E[0].cellPadding||""),N.val(E[0].cellSpacing||""),A.val(E[0].align||""),P.val(E[0].border===void 0?"":E[0].border),t(B.eq(0),e.toHex(E.attr("borderColor")||"")),t(B.eq(1),e.toHex(E[0].style.backgroundColor||E[0].bgColor||"")),y[0].focus(),y[0].select()}},cellprop:function(){var d=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keWidth" style="width:90px;">'+c.size+"</label>",c.width+' <input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" /> &nbsp; ','<select name="widthType">','<option value="%">'+c.percent+"</option>",'<option value="px">'+c.px+"</option>","</select> &nbsp; ",c.height+' <input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" /> &nbsp; ','<select name="heightType">','<option value="%">'+c.percent+"</option>",'<option value="px">'+c.px+"</option>","</select>","</div>",'<div class="ke-dialog-row">','<label for="keAlign" style="width:90px;">'+c.align+"</label>",c.textAlign+' <select id="keAlign" name="textAlign">','<option value="">'+c.alignDefault+"</option>",'<option value="left">'+c.alignLeft+"</option>",'<option value="center">'+c.alignCenter+"</option>",'<option value="right">'+c.alignRight+"</option>","</select> ",c.verticalAlign+' <select name="verticalAlign">','<option value="">'+c.alignDefault+"</option>",'<option value="top">'+c.alignTop+"</option>",'<option value="middle">'+c.alignMiddle+"</option>",'<option value="bottom">'+c.alignBottom+"</option>",'<option value="baseline">'+c.alignBaseline+"</option>","</select>","</div>",'<div class="ke-dialog-row">','<label for="keBorder" style="width:90px;">'+c.border+"</label>",c.borderWidth+' <input type="text" id="keBorder" class="ke-input-text ke-input-number" name="border" value="" maxlength="4" /> &nbsp; ',c.borderColor+' <span class="ke-inline-block ke-input-color"></span>',"</div>",'<div class="ke-dialog-row">','<label for="keBgColor" style="width:90px;">'+c.backgroundColor+"</label>",'<span class="ke-inline-block ke-input-color"></span>',"</div>","</div>"].join(""),u=i.cmd.range.createBookmark(),l=i.createDialog({name:s,width:500,title:i.lang("tablecell"),body:d,beforeRemove:function(){A.unbind()},yesBtn:{name:i.lang("yes"),click:function(C){var D=p.val(),I=m.val(),L=g.val(),R=y.val(),O=(w.val(),b.val(),T.val()),U=M.val(),H=N.val(),j=e(A[0]).html()||"",W=e(A[1]).html()||"";return/^\d*$/.test(D)?/^\d*$/.test(I)?/^\d*$/.test(H)?(B.css({width:D!==""?D+L:"",height:I!==""?I+R:"","background-color":W,"text-align":O,"vertical-align":U,"border-width":H,"border-style":H!==""?"solid":"","border-color":j}),i.hideDialog().focus(),i.cmd.range.moveToBookmark(u),i.cmd.select(),void i.addBookmark()):(alert(i.lang("invalidBorder")),void N[0].focus()):(alert(i.lang("invalidHeight")),void m[0].focus()):(alert(i.lang("invalidWidth")),void p[0].focus())}}}),f=l.div,p=e('[name="width"]',f).val(100),m=e('[name="height"]',f),g=e('[name="widthType"]',f),y=e('[name="heightType"]',f),w=e('[name="padding"]',f).val(2),b=e('[name="spacing"]',f).val(0),T=e('[name="textAlign"]',f),M=e('[name="verticalAlign"]',f),N=e('[name="border"]',f).val(1),A=e(".ke-input-color",f);n(f,A.eq(0)),n(f,A.eq(1)),t(A.eq(0),"#000000"),t(A.eq(1),""),p[0].focus(),p[0].select();var P,B=i.plugin.getSelectedCell(),E=B[0].style.width||B[0].width||"",_=B[0].style.height||B[0].height||"";(P=/^(\d+)((?:px|%)*)$/.exec(E))?(p.val(P[1]),g.val(P[2])):p.val(""),(P=/^(\d+)((?:px|%)*)$/.exec(_))&&(m.val(P[1]),y.val(P[2])),T.val(B[0].style.textAlign||""),M.val(B[0].style.verticalAlign||"");var x=B[0].style.borderWidth||"";x&&(x=parseInt(x)),N.val(x),t(A.eq(0),e.toHex(B[0].style.borderColor||"")),t(A.eq(1),e.toHex(B[0].style.backgroundColor||"")),p[0].focus(),p[0].select()},insert:function(){this.prop(!0)},delete:function(){var d=i.plugin.getSelectedTable();i.cmd.range.setStartBefore(d[0]).collapse(!0),i.cmd.select(),d.remove(),i.addBookmark()},colinsert:function(d){var u=i.plugin.getSelectedTable()[0],l=i.plugin.getSelectedRow()[0],f=i.plugin.getSelectedCell()[0],p=f.cellIndex+d;p+=u.rows[0].cells.length-l.cells.length;for(var m=0,g=u.rows.length;g>m;m++){var y=u.rows[m],w=y.insertCell(p);w.innerHTML=e.IE?"":"<br />",p=o(u,y,w)}i.cmd.range.selectNodeContents(f).collapse(!0),i.cmd.select(),i.addBookmark()},colinsertleft:function(){this.colinsert(0)},colinsertright:function(){this.colinsert(1)},rowinsert:function(d){var u=i.plugin.getSelectedTable()[0],l=i.plugin.getSelectedRow()[0],f=i.plugin.getSelectedCell()[0],p=l.rowIndex;d===1&&(p=l.rowIndex+(f.rowSpan-1)+d);for(var m=u.insertRow(p),g=0,y=l.cells.length;y>g;g++){l.cells[g].rowSpan>1&&(y-=l.cells[g].rowSpan-1);var w=m.insertCell(g);d===1&&l.cells[g].colSpan>1&&(w.colSpan=l.cells[g].colSpan),w.innerHTML=e.IE?"":"<br />"}for(var b=p;b>=0;b--){var T=u.rows[b].cells;if(T.length>g){for(var M=f.cellIndex;M>=0;M--)T[M].rowSpan>1&&(T[M].rowSpan+=1);break}}i.cmd.range.selectNodeContents(f).collapse(!0),i.cmd.select(),i.addBookmark()},rowinsertabove:function(){this.rowinsert(0)},rowinsertbelow:function(){this.rowinsert(1)},rowmerge:function(){var d=i.plugin.getSelectedTable()[0],u=i.plugin.getSelectedRow()[0],l=i.plugin.getSelectedCell()[0],f=u.rowIndex,p=f+l.rowSpan,m=d.rows[p];if(!(d.rows.length<=p)){var g=l.cellIndex;if(!(m.cells.length<=g)){var y=m.cells[g];l.colSpan===y.colSpan&&(l.rowSpan+=y.rowSpan,m.deleteCell(g),i.cmd.range.selectNodeContents(l).collapse(!0),i.cmd.select(),i.addBookmark())}}},colmerge:function(){var d=(i.plugin.getSelectedTable()[0],i.plugin.getSelectedRow()[0]),u=i.plugin.getSelectedCell()[0],l=(d.rowIndex,u.cellIndex),f=l+1;if(!(d.cells.length<=f)){var p=d.cells[f];u.rowSpan===p.rowSpan&&(u.colSpan+=p.colSpan,d.deleteCell(f),i.cmd.range.selectNodeContents(u).collapse(!0),i.cmd.select(),i.addBookmark())}},rowsplit:function(){var d=i.plugin.getSelectedTable()[0],u=i.plugin.getSelectedRow()[0],l=i.plugin.getSelectedCell()[0],f=u.rowIndex;if(l.rowSpan!==1){for(var p=o(d,u,l),m=1,g=l.rowSpan;g>m;m++){var y=d.rows[f+m],w=y.insertCell(p);l.colSpan>1&&(w.colSpan=l.colSpan),w.innerHTML=e.IE?"":"<br />",p=o(d,y,w)}e(l).removeAttr("rowSpan"),i.cmd.range.selectNodeContents(l).collapse(!0),i.cmd.select(),i.addBookmark()}},colsplit:function(){var d=(i.plugin.getSelectedTable()[0],i.plugin.getSelectedRow()[0]),u=i.plugin.getSelectedCell()[0],l=u.cellIndex;if(u.colSpan!==1){for(var f=1,p=u.colSpan;p>f;f++){var m=d.insertCell(l+f);u.rowSpan>1&&(m.rowSpan=u.rowSpan),m.innerHTML=e.IE?"":"<br />"}e(u).removeAttr("colSpan"),i.cmd.range.selectNodeContents(u).collapse(!0),i.cmd.select(),i.addBookmark()}},coldelete:function(){for(var d=i.plugin.getSelectedTable()[0],u=i.plugin.getSelectedRow()[0],l=i.plugin.getSelectedCell()[0],f=l.cellIndex,p=0,m=d.rows.length;m>p;p++){var g=d.rows[p],y=g.cells[f];y.colSpan>1?(y.colSpan-=1,y.colSpan===1&&e(y).removeAttr("colSpan")):g.deleteCell(f),y.rowSpan>1&&(p+=y.rowSpan-1)}u.cells.length===0?(i.cmd.range.setStartBefore(d).collapse(!0),i.cmd.select(),e(d).remove()):i.cmd.selection(!0),i.addBookmark()},rowdelete:function(){for(var d=i.plugin.getSelectedTable()[0],u=i.plugin.getSelectedRow()[0],l=i.plugin.getSelectedCell()[0],f=u.rowIndex,p=l.rowSpan-1;p>=0;p--)d.deleteRow(f+p);d.rows.length===0?(i.cmd.range.setStartBefore(d).collapse(!0),i.cmd.select(),e(d).remove()):i.cmd.selection(!0),i.addBookmark()}},i.clickToolbar(s,i.plugin.table.prop)}),KindEditor.plugin("template",function(e){var t=this,n="template",o=(t.lang(n+"."),t.pluginsPath+n+"",e.undef(t.templates,e.Templates));t.clickToolbar(n,function(){var i=t.lang(n+"."),s=['<div style="padding:10px 20px;">','<div class="ke-header">','<div class="ke-left">',i.selectTemplate+" <select>"];e.each(o,function(u,l){s.push("<option value='"+l.content+"'>"+l.name+"</option>")}),Mt=[s.join(""),"</select></div>",'<div class="ke-right">','<input type="checkbox" id="keReplaceFlag" name="replaceFlag" value="1" /> <label for="keReplaceFlag">'+i.replaceContent+"</label>","</div>",'<div class="ke-clearfix"></div>',"</div>",'<div class="ke-temp-preview" style="width:518px;height:260px;background-color:#FFF;padding: 12px;overflow:auto;border-color: #848484 #E0E0E0 #E0E0E0 #848484;border-style: solid;border-width: 1px;"></div>',"</div>"].join("");var c=t.createDialog({name:n,width:560,title:t.lang(n),body:Mt,yesBtn:{name:t.lang("yes"),click:function(u){t[r[0].checked?"html":"insertHtml"](a.val()).hideDialog().focus()}}}),a=e("select",c.div),r=e('[name="replaceFlag"]',c.div),d=e(".ke-temp-preview",c.div);r[0].checked=!1,d.html(a.val()),a.change(function(){d.html(this.value)})})}),KindEditor.plugin("wordpaste",function(e){var t=this,n="wordpaste";t.clickToolbar(n,function(){var o=t.lang(n+"."),i='<div style="padding:10px 20px;"><div style="margin-bottom:10px;">'+o.comment+'</div><iframe class="ke-textarea" frameborder="0" style="width:518px;height:260px;"></iframe></div>',s=t.createDialog({name:n,width:560,title:t.lang(n),body:i,yesBtn:{name:t.lang("yes"),click:function(d){var u=r.body.innerHTML;u=e.clearMsWord(u,t.filterMode?t.htmlTags:e.options.htmlTags),t.insertHtml(u).hideDialog().focus()}}}),c=s.div,a=e("iframe",c),r=e.iframeDoc(a);e.IE||(r.designMode="on"),r.open(),r.write("<!doctype html><html><head><title>WordPaste</title></head>"),r.write('<body style="background-color:#FFF;font-size:12px;margin:2px;">'),e.IE||r.write("<br />"),r.write("</body></html>"),r.close(),e.IE&&(r.body.contentEditable="true"),a[0].contentWindow.focus()})}),KindEditor.plugin("fixtoolbar",function(e){function t(){var s=e(".ke-toolbar"),c=e(s).parent();e(".ke-toolbar").width(),e(window).bind("resize",function(){s.css("width",e(c).width()-2+"px")}),s.css("width",e(c).width()+"px"),e(i).bind("scroll",function(){var a=c.pos().y,r=i.pos().y;r>=a?(s.css("position","fixed"),s.css("top",r+"px"),s.css("border-top","1px solid #ccc")):(s.css("position","static"),s.css("top","auto"),s.css("border-top","none"))})}var n=this,o=e("body");if(n.fixToolBar){n.fixToolBarWatchRef&&(o=e(n.fixToolBarWatchRef));var i=e(o);return i.length<1?void console.error("fixToolBarWatchRef can not be null"):void(n.isCreated?t():n.afterCreate(t))}}),KindEditor.lang({source:"HTML\u4EE3\u7801",preview:"\u9884\u89C8",undo:"\u540E\u9000(Ctrl+Z)",redo:"\u524D\u8FDB(Ctrl+Y)",cut:"\u526A\u5207(Ctrl+X)",copy:"\u590D\u5236(Ctrl+C)",paste:"\u7C98\u8D34(Ctrl+V)",plainpaste:"\u7C98\u8D34\u4E3A\u65E0\u683C\u5F0F\u6587\u672C",wordpaste:"\u4ECEWord\u7C98\u8D34",selectall:"\u5168\u9009(Ctrl+A)",justifyleft:"\u5DE6\u5BF9\u9F50",justifycenter:"\u5C45\u4E2D",justifyright:"\u53F3\u5BF9\u9F50",justifyfull:"\u4E24\u7AEF\u5BF9\u9F50",insertorderedlist:"\u7F16\u53F7",insertunorderedlist:"\u9879\u76EE\u7B26\u53F7",indent:"\u589E\u52A0\u7F29\u8FDB",outdent:"\u51CF\u5C11\u7F29\u8FDB",subscript:"\u4E0B\u6807",quote:"\u5F15\u7528",superscript:"\u4E0A\u6807",formatblock:"\u6BB5\u843D",fontname:"\u5B57\u4F53",fontsize:"\u6587\u5B57\u5927\u5C0F",forecolor:"\u6587\u5B57\u989C\u8272",hilitecolor:"\u6587\u5B57\u80CC\u666F",bold:"\u7C97\u4F53(Ctrl+B)",italic:"\u659C\u4F53(Ctrl+I)",underline:"\u4E0B\u5212\u7EBF(Ctrl+U)",strikethrough:"\u5220\u9664\u7EBF",removeformat:"\u5220\u9664\u683C\u5F0F",image:"\u56FE\u7247",multiimage:"\u6279\u91CF\u56FE\u7247\u4E0A\u4F20",flash:"Flash",media:"\u89C6\u97F3\u9891",table:"\u8868\u683C",tablecell:"\u5355\u5143\u683C",hr:"\u63D2\u5165\u6A2A\u7EBF",emoticons:"\u63D2\u5165\u8868\u60C5",symbols:"\u7279\u6B8A\u5B57\u7B26",link:"\u8D85\u7EA7\u94FE\u63A5",unlink:"\u53D6\u6D88\u8D85\u7EA7\u94FE\u63A5",fullscreen:"\u5168\u5C4F\u663E\u793A",about:"\u5173\u4E8E",print:"\u6253\u5370(Ctrl+P)",filemanager:"\u6587\u4EF6\u7A7A\u95F4",code:"\u63D2\u5165\u7A0B\u5E8F\u4EE3\u7801",map:"Google\u5730\u56FE",baidumap:"\u767E\u5EA6\u5730\u56FE",lineheight:"\u884C\u8DDD",clearhtml:"\u6E05\u7406HTML\u4EE3\u7801",pagebreak:"\u63D2\u5165\u5206\u9875\u7B26",quickformat:"\u4E00\u952E\u6392\u7248",insertfile:"\u63D2\u5165\u6587\u4EF6",template:"\u63D2\u5165\u6A21\u677F",anchor:"\u951A\u70B9",yes:"\u786E\u5B9A",no:"\u53D6\u6D88",close:"\u5173\u95ED",editImage:"\u56FE\u7247\u5C5E\u6027",deleteImage:"\u5220\u9664\u56FE\u7247",editFlash:"Flash\u5C5E\u6027",deleteFlash:"\u5220\u9664Flash",editMedia:"\u89C6\u97F3\u9891\u5C5E\u6027",deleteMedia:"\u5220\u9664\u89C6\u97F3\u9891",editLink:"\u8D85\u7EA7\u94FE\u63A5\u5C5E\u6027",deleteLink:"\u53D6\u6D88\u8D85\u7EA7\u94FE\u63A5",editAnchor:"\u951A\u70B9\u5C5E\u6027",deleteAnchor:"\u5220\u9664\u951A\u70B9",tableprop:"\u8868\u683C\u5C5E\u6027",tablecellprop:"\u5355\u5143\u683C\u5C5E\u6027",tableinsert:"\u63D2\u5165\u8868\u683C",tabledelete:"\u5220\u9664\u8868\u683C",tablecolinsertleft:"\u5DE6\u4FA7\u63D2\u5165\u5217",tablecolinsertright:"\u53F3\u4FA7\u63D2\u5165\u5217",tablerowinsertabove:"\u4E0A\u65B9\u63D2\u5165\u884C",tablerowinsertbelow:"\u4E0B\u65B9\u63D2\u5165\u884C",tablerowmerge:"\u5411\u4E0B\u5408\u5E76\u5355\u5143\u683C",tablecolmerge:"\u5411\u53F3\u5408\u5E76\u5355\u5143\u683C",tablerowsplit:"\u62C6\u5206\u884C",tablecolsplit:"\u62C6\u5206\u5217",tablecoldelete:"\u5220\u9664\u5217",tablerowdelete:"\u5220\u9664\u884C",noColor:"\u65E0\u989C\u8272",pleaseSelectFile:"\u8BF7\u9009\u62E9\u6587\u4EF6\u3002",invalidImg:`\u8BF7\u8F93\u5165\u6709\u6548\u7684URL\u5730\u5740\u3002
\u53EA\u5141\u8BB8jpg,gif,bmp,png\u683C\u5F0F\u3002`,invalidMedia:`\u8BF7\u8F93\u5165\u6709\u6548\u7684URL\u5730\u5740\u3002
\u53EA\u5141\u8BB8swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb\u683C\u5F0F\u3002`,invalidWidth:"\u5BBD\u5EA6\u5FC5\u987B\u4E3A\u6570\u5B57\u3002",invalidHeight:"\u9AD8\u5EA6\u5FC5\u987B\u4E3A\u6570\u5B57\u3002",invalidBorder:"\u8FB9\u6846\u5FC5\u987B\u4E3A\u6570\u5B57\u3002",invalidUrl:"\u8BF7\u8F93\u5165\u6709\u6548\u7684URL\u5730\u5740\u3002",invalidRows:"\u884C\u6570\u4E3A\u5FC5\u9009\u9879\uFF0C\u53EA\u5141\u8BB8\u8F93\u5165\u5927\u4E8E0\u7684\u6570\u5B57\u3002",invalidCols:"\u5217\u6570\u4E3A\u5FC5\u9009\u9879\uFF0C\u53EA\u5141\u8BB8\u8F93\u5165\u5927\u4E8E0\u7684\u6570\u5B57\u3002",invalidPadding:"\u8FB9\u8DDD\u5FC5\u987B\u4E3A\u6570\u5B57\u3002",invalidSpacing:"\u95F4\u8DDD\u5FC5\u987B\u4E3A\u6570\u5B57\u3002",invalidJson:"\u670D\u52A1\u5668\u53D1\u751F\u6545\u969C\u3002",uploadSuccess:"\u4E0A\u4F20\u6210\u529F\u3002",cutError:"\u60A8\u7684\u6D4F\u89C8\u5668\u5B89\u5168\u8BBE\u7F6E\u4E0D\u5141\u8BB8\u4F7F\u7528\u526A\u5207\u64CD\u4F5C\uFF0C\u8BF7\u4F7F\u7528\u5FEB\u6377\u952E(Ctrl+X)\u6765\u5B8C\u6210\u3002",copyError:"\u60A8\u7684\u6D4F\u89C8\u5668\u5B89\u5168\u8BBE\u7F6E\u4E0D\u5141\u8BB8\u4F7F\u7528\u590D\u5236\u64CD\u4F5C\uFF0C\u8BF7\u4F7F\u7528\u5FEB\u6377\u952E(Ctrl+C)\u6765\u5B8C\u6210\u3002",pasteError:"\u60A8\u7684\u6D4F\u89C8\u5668\u5B89\u5168\u8BBE\u7F6E\u4E0D\u5141\u8BB8\u4F7F\u7528\u7C98\u8D34\u64CD\u4F5C\uFF0C\u8BF7\u4F7F\u7528\u5FEB\u6377\u952E(Ctrl+V)\u6765\u5B8C\u6210\u3002",ajaxLoading:"\u52A0\u8F7D\u4E2D\uFF0C\u8BF7\u7A0D\u5019 ...",uploadLoading:"\u4E0A\u4F20\u4E2D\uFF0C\u8BF7\u7A0D\u5019 ...",uploadError:"\u4E0A\u4F20\u9519\u8BEF","plainpaste.comment":"\u8BF7\u4F7F\u7528\u5FEB\u6377\u952E(Ctrl+V)\u628A\u5185\u5BB9\u7C98\u8D34\u5230\u4E0B\u9762\u7684\u65B9\u6846\u91CC\u3002","wordpaste.comment":"\u8BF7\u4F7F\u7528\u5FEB\u6377\u952E(Ctrl+V)\u628A\u5185\u5BB9\u7C98\u8D34\u5230\u4E0B\u9762\u7684\u65B9\u6846\u91CC\u3002","code.pleaseInput":"\u8BF7\u8F93\u5165\u7A0B\u5E8F\u4EE3\u7801\u3002","link.url":"URL","link.linkType":"\u6253\u5F00\u7C7B\u578B","link.newWindow":"\u65B0\u7A97\u53E3","link.selfWindow":"\u5F53\u524D\u7A97\u53E3","flash.url":"URL","flash.width":"\u5BBD\u5EA6","flash.height":"\u9AD8\u5EA6","flash.upload":"\u4E0A\u4F20","flash.viewServer":"\u6587\u4EF6\u7A7A\u95F4","media.url":"URL","media.width":"\u5BBD\u5EA6","media.height":"\u9AD8\u5EA6","media.autostart":"\u81EA\u52A8\u64AD\u653E","media.upload":"\u4E0A\u4F20","media.viewServer":"\u6587\u4EF6\u7A7A\u95F4","image.remoteImage":"\u7F51\u7EDC\u56FE\u7247","image.localImage":"\u672C\u5730\u4E0A\u4F20","image.remoteUrl":"\u56FE\u7247\u5730\u5740","image.localUrl":"\u4E0A\u4F20\u6587\u4EF6","image.size":"\u56FE\u7247\u5927\u5C0F","image.width":"\u5BBD","image.height":"\u9AD8","image.resetSize":"\u91CD\u7F6E\u5927\u5C0F","image.align":"\u5BF9\u9F50\u65B9\u5F0F","image.defaultAlign":"\u9ED8\u8BA4\u65B9\u5F0F","image.leftAlign":"\u5DE6\u5BF9\u9F50","image.rightAlign":"\u53F3\u5BF9\u9F50","image.imgTitle":"\u56FE\u7247\u8BF4\u660E","image.upload":"\u6D4F\u89C8...","image.viewServer":"\u56FE\u7247\u7A7A\u95F4","multiimage.uploadDesc":"\u5141\u8BB8\u7528\u6237\u540C\u65F6\u4E0A\u4F20<%=uploadLimit%>\u5F20\u56FE\u7247\uFF0C\u5355\u5F20\u56FE\u7247\u5BB9\u91CF\u4E0D\u8D85\u8FC7<%=sizeLimit%>","multiimage.startUpload":"\u5F00\u59CB\u4E0A\u4F20","multiimage.clearAll":"\u5168\u90E8\u6E05\u7A7A","multiimage.insertAll":"\u5168\u90E8\u63D2\u5165","multiimage.queueLimitExceeded":"\u6587\u4EF6\u6570\u91CF\u8D85\u8FC7\u9650\u5236\u3002","multiimage.fileExceedsSizeLimit":"\u6587\u4EF6\u5927\u5C0F\u8D85\u8FC7\u9650\u5236\u3002","multiimage.zeroByteFile":"\u65E0\u6CD5\u4E0A\u4F20\u7A7A\u6587\u4EF6\u3002","multiimage.invalidFiletype":"\u6587\u4EF6\u7C7B\u578B\u4E0D\u6B63\u786E\u3002","multiimage.unknownError":"\u53D1\u751F\u5F02\u5E38\uFF0C\u65E0\u6CD5\u4E0A\u4F20\u3002","multiimage.pending":"\u7B49\u5F85\u4E0A\u4F20","multiimage.uploadError":"\u4E0A\u4F20\u5931\u8D25","filemanager.emptyFolder":"\u7A7A\u6587\u4EF6\u5939","filemanager.moveup":"\u79FB\u5230\u4E0A\u4E00\u7EA7\u6587\u4EF6\u5939","filemanager.viewType":"\u663E\u793A\u65B9\u5F0F\uFF1A","filemanager.viewImage":"\u7F29\u7565\u56FE","filemanager.listImage":"\u8BE6\u7EC6\u4FE1\u606F","filemanager.orderType":"\u6392\u5E8F\u65B9\u5F0F\uFF1A","filemanager.fileName":"\u540D\u79F0","filemanager.fileSize":"\u5927\u5C0F","filemanager.fileType":"\u7C7B\u578B","insertfile.url":"URL","insertfile.title":"\u6587\u4EF6\u8BF4\u660E","insertfile.upload":"\u4E0A\u4F20","insertfile.viewServer":"\u6587\u4EF6\u7A7A\u95F4","table.cells":"\u5355\u5143\u683C\u6570","table.rows":"\u884C\u6570","table.cols":"\u5217\u6570","table.size":"\u5927\u5C0F","table.width":"\u5BBD\u5EA6","table.height":"\u9AD8\u5EA6","table.percent":"%","table.px":"px","table.space":"\u8FB9\u8DDD\u95F4\u8DDD","table.padding":"\u8FB9\u8DDD","table.spacing":"\u95F4\u8DDD","table.align":"\u5BF9\u9F50\u65B9\u5F0F","table.textAlign":"\u6C34\u5E73\u5BF9\u9F50","table.verticalAlign":"\u5782\u76F4\u5BF9\u9F50","table.alignDefault":"\u9ED8\u8BA4","table.alignLeft":"\u5DE6\u5BF9\u9F50","table.alignCenter":"\u5C45\u4E2D","table.alignRight":"\u53F3\u5BF9\u9F50","table.alignTop":"\u9876\u90E8","table.alignMiddle":"\u4E2D\u90E8","table.alignBottom":"\u5E95\u90E8","table.alignBaseline":"\u57FA\u7EBF","table.border":"\u8FB9\u6846","table.borderWidth":"\u8FB9\u6846","table.borderColor":"\u989C\u8272","table.backgroundColor":"\u80CC\u666F\u989C\u8272","map.address":"\u5730\u5740: ","map.search":"\u641C\u7D22","baidumap.address":"\u5730\u5740: ","baidumap.search":"\u641C\u7D22","baidumap.insertDynamicMap":"\u63D2\u5165\u52A8\u6001\u5730\u56FE","anchor.name":"\u951A\u70B9\u540D\u79F0","formatblock.formatBlock":{h1:"\u6807\u9898 1",h2:"\u6807\u9898 2",h3:"\u6807\u9898 3",h4:"\u6807\u9898 4",p:"\u6B63 \u6587"},"fontname.fontName":{SimSun:"\u5B8B\u4F53",NSimSun:"\u65B0\u5B8B\u4F53",FangSong_GB2312:"\u4EFF\u5B8B_GB2312",KaiTi_GB2312:"\u6977\u4F53_GB2312",SimHei:"\u9ED1\u4F53","Microsoft YaHei":"\u5FAE\u8F6F\u96C5\u9ED1",Arial:"Arial","Arial Black":"Arial Black","Times New Roman":"Times New Roman","Courier New":"Courier New",Tahoma:"Tahoma",Verdana:"Verdana"},"lineheight.lineHeight":[{1:"\u5355\u500D\u884C\u8DDD"},{1.5:"1.5\u500D\u884C\u8DDD"},{2:"2\u500D\u884C\u8DDD"},{2.5:"2.5\u500D\u884C\u8DDD"},{3:"3\u500D\u884C\u8DDD"}],"template.selectTemplate":"\u53EF\u9009\u6A21\u677F","template.replaceContent":"\u66FF\u6362\u5F53\u524D\u5185\u5BB9","template.fileList":{"1.html":"\u56FE\u7247\u548C\u6587\u5B57","2.html":"\u8868\u683C","3.html":"\u9879\u76EE\u7F16\u53F7"}},"zh-CN"),KindEditor.options.langType="zh-CN",KindEditor})})(Kn);const Ge=KindEditor,Gn=["id"],Qn={__name:"VKindEditor",props:{id:{type:String,required:!1,default:()=>"ke_"+Math.random().toString().substring(2)},readonly:{type:Boolean,default:!1},modelValue:{type:String,required:!0},configs:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(Qe,{emit:gt}){var J,Z;const ee=Qe;var ie=null;he.onMounted(()=>{Ge.remove("#"+te),ie=Ge.create("#"+te,Ye),ee&&ee.modelValue&&ie.html(ee.modelValue)}),he.onDeactivated(()=>{Ge.remove("#"+te),ie&&ie.remove(),ie=null}),he.onActivated(()=>{Ge.remove("#"+te),ie=Ge.create("#"+te,Ye),ee&&ee.modelValue&&ie.html(ee.modelValue)});const me=(J=ee.configs)==null?void 0:J.afterBlur,z=(Z=ee.configs)==null?void 0:Z.afterChange,te=ee.id;var Ye=Object.assign({loadStyleMode:!1,resizeType:1,pasteType:2,newlineTag:"p"},ee.configs,{allowFlashUpload:!1,allowFileManager:!1,afterBlur:function(){this.sync(),me&&me.call(this)},afterChange:function(){ie&&gt("update:modelValue",ie.html()),z&&z.call(this)}});return he.watch(()=>ee.readonly,se=>{ie&&ie.readonly(se)}),(se,Ze)=>(he.openBlock(),he.createElementBlock("div",{id:he.unref(te),style:{visibility:"hidden"}},null,8,Gn))}},Fi="";return{install(Qe,gt){const ee=gt||{name:"VKindEditor"};Qe.component(ee.name,Qn)}}});
